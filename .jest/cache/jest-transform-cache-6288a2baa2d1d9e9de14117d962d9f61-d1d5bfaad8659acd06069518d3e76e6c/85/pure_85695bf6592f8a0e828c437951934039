392972148f943c1934d26ffb7d153e90
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
Object.defineProperty(exports, "act", {
  enumerable: true,
  get: function get() {
    return _act.default;
  }
});
Object.defineProperty(exports, "cleanup", {
  enumerable: true,
  get: function get() {
    return _cleanup.default;
  }
});
Object.defineProperty(exports, "fireEvent", {
  enumerable: true,
  get: function get() {
    return _fireEvent.default;
  }
});
Object.defineProperty(exports, "flushMicrotasksQueue", {
  enumerable: true,
  get: function get() {
    return _flushMicroTasks.default;
  }
});
Object.defineProperty(exports, "render", {
  enumerable: true,
  get: function get() {
    return _render.default;
  }
});
Object.defineProperty(exports, "shallow", {
  enumerable: true,
  get: function get() {
    return _shallow.default;
  }
});
Object.defineProperty(exports, "waitFor", {
  enumerable: true,
  get: function get() {
    return _waitFor.default;
  }
});
Object.defineProperty(exports, "waitForElement", {
  enumerable: true,
  get: function get() {
    return _waitFor.waitForElement;
  }
});
Object.defineProperty(exports, "waitForElementToBeRemoved", {
  enumerable: true,
  get: function get() {
    return _waitForElementToBeRemoved.default;
  }
});
Object.defineProperty(exports, "within", {
  enumerable: true,
  get: function get() {
    return _within.within;
  }
});
Object.defineProperty(exports, "getQueriesForElement", {
  enumerable: true,
  get: function get() {
    return _within.getQueriesForElement;
  }
});

var _act = _interopRequireDefault(require("./act"));

var _cleanup = _interopRequireDefault(require("./cleanup"));

var _fireEvent = _interopRequireDefault(require("./fireEvent"));

var _flushMicroTasks = _interopRequireDefault(require("./flushMicroTasks"));

var _render = _interopRequireDefault(require("./render"));

var _shallow = _interopRequireDefault(require("./shallow"));

var _waitFor = _interopRequireWildcard(require("./waitFor"));

var _waitForElementToBeRemoved = _interopRequireDefault(require("./waitForElementToBeRemoved"));

var _within = require("./within");

function _getRequireWildcardCache() {
  if (typeof WeakMap !== "function") return null;
  var cache = new WeakMap();

  _getRequireWildcardCache = function _getRequireWildcardCache() {
    return cache;
  };

  return cache;
}

function _interopRequireWildcard(obj) {
  if (obj && obj.__esModule) {
    return obj;
  }

  if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
    return {
      default: obj
    };
  }

  var cache = _getRequireWildcardCache();

  if (cache && cache.has(obj)) {
    return cache.get(obj);
  }

  var newObj = {};
  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;

  for (var key in obj) {
    if (Object.prototype.hasOwnProperty.call(obj, key)) {
      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;

      if (desc && (desc.get || desc.set)) {
        Object.defineProperty(newObj, key, desc);
      } else {
        newObj[key] = obj[key];
      }
    }
  }

  newObj.default = obj;

  if (cache) {
    cache.set(obj, newObj);
  }

  return newObj;
}

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInB1cmUuanMiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiX2FjdCIsImRlZmF1bHQiLCJfY2xlYW51cCIsIl9maXJlRXZlbnQiLCJfZmx1c2hNaWNyb1Rhc2tzIiwiX3JlbmRlciIsIl9zaGFsbG93IiwiX3dhaXRGb3IiLCJ3YWl0Rm9yRWxlbWVudCIsIl93YWl0Rm9yRWxlbWVudFRvQmVSZW1vdmVkIiwiX3dpdGhpbiIsIndpdGhpbiIsImdldFF1ZXJpZXNGb3JFbGVtZW50IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsIl9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSIsIldlYWtNYXAiLCJjYWNoZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJoYXMiLCJuZXdPYmoiLCJoYXNQcm9wZXJ0eURlc2NyaXB0b3IiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJrZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJkZXNjIiwic2V0Il0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQUEsTUFBTSxDQUFDQyxjQUFQLENBQXNCQyxPQUF0QixFQUErQixZQUEvQixFQUE2QztBQUMzQ0MsRUFBQUEsS0FBSyxFQUFFO0FBRG9DLENBQTdDO0FBR0FILE1BQU0sQ0FBQ0MsY0FBUCxDQUFzQkMsT0FBdEIsRUFBK0IsS0FBL0IsRUFBc0M7QUFDcENFLEVBQUFBLFVBQVUsRUFBRSxJQUR3QjtBQUVwQ0MsRUFBQUEsR0FBRyxFQUFFLGVBQVk7QUFDZixXQUFPQyxJQUFJLENBQUNDLE9BQVo7QUFDRDtBQUptQyxDQUF0QztBQU1BUCxNQUFNLENBQUNDLGNBQVAsQ0FBc0JDLE9BQXRCLEVBQStCLFNBQS9CLEVBQTBDO0FBQ3hDRSxFQUFBQSxVQUFVLEVBQUUsSUFENEI7QUFFeENDLEVBQUFBLEdBQUcsRUFBRSxl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TSxHQUExQyxDQUFKLEVBQW9EO0FBQUUsVUFBSUksSUFBSSxHQUFHTixxQkFBcUIsR0FBRzdCLE1BQU0sQ0FBQzhCLHdCQUFQLENBQWdDTCxHQUFoQyxFQUFxQ00sR0FBckMsQ0FBSCxHQUErQyxJQUEvRTs7QUFBcUYsVUFBSUksSUFBSSxLQUFLQSxJQUFJLENBQUM5QixHQUFMLElBQVk4QixJQUFJLENBQUNDLEdBQXRCLENBQVIsRUFBb0M7QUFBRXBDLFFBQUFBLE1BQU0sQ0FBQ0MsY0FBUCxDQUFzQjJCLE1BQXRCLEVBQThCRyxHQUE5QixFQUFtQ0ksSUFBbkM7QUFBMkMsT0FBakYsTUFBdUY7QUFBRVAsUUFBQUEsTUFBTSxDQUFDRyxHQUFELENBQU4sR0FBY04sR0FBRyxDQUFDTSxHQUFELENBQWpCO0FBQXlCO0FBQUU7QUFBRTs7QUFBQ0gsRUFBQUEsTUFBTSxDQUFDckIsT0FBUCxHQUFpQmtCLEdBQWpCOztBQUFzQixNQUFJRCxLQUFKLEVBQVc7QUFBRUEsSUFBQUEsS0FBSyxDQUFDWSxHQUFOLENBQVVYLEdBQVYsRUFBZUcsTUFBZjtBQUF5Qjs7QUFBQyxTQUFPQSxNQUFQO0FBQWdCOztBQUV2dUIsU0FBU1Qsc0JBQVQsQ0FBZ0NNLEdBQWhDLEVBQXFDO0FBQUUsU0FBT0EsR0FBRyxJQUFJQSxHQUFHLENBQUNDLFVBQVgsR0FBd0JELEdBQXhCLEdBQThCO0FBQUVsQixJQUFBQSxPQUFPLEVBQUVrQjtBQUFYLEdBQXJDO0FBQXdEIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJhY3RcIiwge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX2FjdC5kZWZhdWx0O1xuICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImNsZWFudXBcIiwge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX2NsZWFudXAuZGVmYXVsdDtcbiAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJmaXJlRXZlbnRcIiwge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX2ZpcmVFdmVudC5kZWZhdWx0O1xuICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImZsdXNoTWljcm90YXNrc1F1ZXVlXCIsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9mbHVzaE1pY3JvVGFza3MuZGVmYXVsdDtcbiAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJyZW5kZXJcIiwge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX3JlbmRlci5kZWZhdWx0O1xuICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInNoYWxsb3dcIiwge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX3NoYWxsb3cuZGVmYXVsdDtcbiAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ3YWl0Rm9yXCIsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF93YWl0Rm9yLmRlZmF1bHQ7XG4gIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwid2FpdEZvckVsZW1lbnRcIiwge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX3dhaXRGb3Iud2FpdEZvckVsZW1lbnQ7XG4gIH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwid2FpdEZvckVsZW1lbnRUb0JlUmVtb3ZlZFwiLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfd2FpdEZvckVsZW1lbnRUb0JlUmVtb3ZlZC5kZWZhdWx0O1xuICB9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIndpdGhpblwiLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfd2l0aGluLndpdGhpbjtcbiAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJnZXRRdWVyaWVzRm9yRWxlbWVudFwiLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfd2l0aGluLmdldFF1ZXJpZXNGb3JFbGVtZW50O1xuICB9XG59KTtcblxudmFyIF9hY3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL2FjdFwiKSk7XG5cbnZhciBfY2xlYW51cCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vY2xlYW51cFwiKSk7XG5cbnZhciBfZmlyZUV2ZW50ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9maXJlRXZlbnRcIikpO1xuXG52YXIgX2ZsdXNoTWljcm9UYXNrcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vZmx1c2hNaWNyb1Rhc2tzXCIpKTtcblxudmFyIF9yZW5kZXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3JlbmRlclwiKSk7XG5cbnZhciBfc2hhbGxvdyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vc2hhbGxvd1wiKSk7XG5cbnZhciBfd2FpdEZvciA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoXCIuL3dhaXRGb3JcIikpO1xuXG52YXIgX3dhaXRGb3JFbGVtZW50VG9CZVJlbW92ZWQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3dhaXRGb3JFbGVtZW50VG9CZVJlbW92ZWRcIikpO1xuXG52YXIgX3dpdGhpbiA9IHJlcXVpcmUoXCIuL3dpdGhpblwiKTtcblxuZnVuY3Rpb24gX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlKCkgeyBpZiAodHlwZW9mIFdlYWtNYXAgIT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIG51bGw7IHZhciBjYWNoZSA9IG5ldyBXZWFrTWFwKCk7IF9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNhY2hlOyB9OyByZXR1cm4gY2FjaGU7IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQob2JqKSB7IGlmIChvYmogJiYgb2JqLl9fZXNNb2R1bGUpIHsgcmV0dXJuIG9iajsgfSBpZiAob2JqID09PSBudWxsIHx8IHR5cGVvZiBvYmogIT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG9iaiAhPT0gXCJmdW5jdGlvblwiKSB7IHJldHVybiB7IGRlZmF1bHQ6IG9iaiB9OyB9IHZhciBjYWNoZSA9IF9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSgpOyBpZiAoY2FjaGUgJiYgY2FjaGUuaGFzKG9iaikpIHsgcmV0dXJuIGNhY2hlLmdldChvYmopOyB9IHZhciBuZXdPYmogPSB7fTsgdmFyIGhhc1Byb3BlcnR5RGVzY3JpcHRvciA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7IHZhciBkZXNjID0gaGFzUHJvcGVydHlEZXNjcmlwdG9yID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSkgOiBudWxsOyBpZiAoZGVzYyAmJiAoZGVzYy5nZXQgfHwgZGVzYy5zZXQpKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZXdPYmosIGtleSwgZGVzYyk7IH0gZWxzZSB7IG5ld09ialtrZXldID0gb2JqW2tleV07IH0gfSB9IG5ld09iai5kZWZhdWx0ID0gb2JqOyBpZiAoY2FjaGUpIHsgY2FjaGUuc2V0KG9iaiwgbmV3T2JqKTsgfSByZXR1cm4gbmV3T2JqOyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9Il19