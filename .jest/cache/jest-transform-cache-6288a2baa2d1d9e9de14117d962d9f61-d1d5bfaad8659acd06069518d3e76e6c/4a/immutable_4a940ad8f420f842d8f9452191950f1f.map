{"version":3,"sources":["immutable.js"],"names":["global","factory","exports","module","define","amd","globalThis","self","Immutable","DELETE","SHIFT","SIZE","MASK","NOT_SET","MakeRef","value","SetRef","ref","OwnerID","ensureSize","iter","size","undefined","__iterate","returnTrue","wrapIndex","index","uint32Index","NaN","wholeSlice","begin","end","isNeg","resolveBegin","resolveIndex","resolveEnd","defaultIndex","Infinity","Math","max","min","IS_COLLECTION_SYMBOL","isCollection","maybeCollection","Boolean","IS_KEYED_SYMBOL","isKeyed","maybeKeyed","IS_INDEXED_SYMBOL","isIndexed","maybeIndexed","isAssociative","maybeAssociative","Collection","Seq","KeyedCollection","KeyedSeq","__proto__","prototype","Object","create","constructor","IndexedCollection","IndexedSeq","SetCollection","SetSeq","Keyed","Indexed","Set","IS_SEQ_SYMBOL","isSeq","maybeSeq","IS_RECORD_SYMBOL","isRecord","maybeRecord","isImmutable","maybeImmutable","IS_ORDERED_SYMBOL","isOrdered","maybeOrdered","ITERATE_KEYS","ITERATE_VALUES","ITERATE_ENTRIES","REAL_ITERATOR_SYMBOL","Symbol","iterator","FAUX_ITERATOR_SYMBOL","ITERATOR_SYMBOL","Iterator","next","toString","KEYS","VALUES","ENTRIES","inspect","toSource","iteratorValue","type","k","v","iteratorResult","done","iteratorDone","hasIterator","maybeIterable","getIteratorFn","isIterator","maybeIterator","getIterator","iterable","iteratorFn","call","hasOwnProperty","isArrayLike","Array","isArray","Number","isInteger","length","keys","emptySequence","toSeq","seqFromValue","__toString","cacheResult","_cache","__iterateUncached","entrySeq","toArray","fn","reverse","cache","i","entry","__iterator","__iteratorUncached","toKeyedSeq","fromEntrySeq","keyedSeqFromValue","toIndexedSeq","indexedSeqFromValue","of","arguments","toSetSeq","ArraySeq","array","_array","get","notSetValue","has","ii","ObjectSeq","object","_object","_keys","key","CollectionSeq","collection","_collection","iterations","step","EMPTY_SEQ","seq","TypeError","maybeIndexedSeqFromValue","IS_MAP_SYMBOL","isMap","maybeMap","isOrderedMap","maybeOrderedMap","isValueObject","maybeValue","equals","hashCode","is","valueA","valueB","valueOf","imul","a","b","c","d","smi","i32","defaultValueOf","hash","o","hashNullish","hashNumber","STRING_HASH_CACHE_MIN_STRLEN","cachedHashString","hashString","hashJSObj","hashSymbol","Error","nullish","n","string","hashed","stringHashCache","STRING_HASH_CACHE_SIZE","STRING_HASH_CACHE_MAX_SIZE","charCodeAt","sym","symbolMap","nextHash","obj","usingWeakMap","weakMap","UID_HASH_KEY","canDefineProperty","propertyIsEnumerable","getIENodeHash","set","isExtensible","defineProperty","enumerable","configurable","writable","apply","nodeType","e","node","uniqueID","documentElement","_objHashUID","WeakMap","ToKeyedSequence","indexed","useKeys","_iter","_useKeys","valueSeq","this$1$1","reversedSequence","reverseFactory","map","mapper","context","mappedSequence","mapFactory","ToIndexedSequence","includes","ToSetSequence","FromEntriesSequence","entries","validateEntry","indexedCollection","cacheResultThrough","flipFactory","flipSequence","makeSequence","flip","filterFactory","predicate","filterSequence","countByFactory","grouper","groups","Map","asMutable","update","asImmutable","groupByFactory","isKeyedIter","OrderedMap","push","coerce","collectionClass","arr","reify","sliceFactory","originalSize","resolvedBegin","resolvedEnd","resolvedSize","sliceSize","sliceSeq","skipped","isSkipping","takeWhileFactory","takeSequence","iterating","skipWhileFactory","skipSequence","skipping","concatFactory","values","isKeyedCollection","iters","concat","filter","singleton","concatSeq","flatten","reduce","sum","flattenFactory","depth","flatSequence","stopped","flatDeep","currentDepth","stack","pop","flatMapFactory","interposeFactory","separator","interposedSequence","sortFactory","comparator","defaultComparator","sort","forEach","maxFactory","maxCompare","comp","zipWithFactory","keyIter","zipper","zipAll","zipSequence","sizes","iterators","isDone","steps","every","s","some","arrCopy","offset","len","newArr","invariant","condition","error","assertNotInfinite","coerceKeyPath","keyPath","isPlainObject","proto","getPrototypeOf","parentProto","nextProto","isDataStructure","quoteString","JSON","stringify","String","_ignoreError","shallowCopy","from","to","remove","collectionCopy","splice","updateIn$1","updater","updatedValue","updateInDeeply","inImmutable","existing","wasNotSet","existingValue","newValue","slice","nextExisting","nextUpdated","emptyMap","setIn$1","setIn","removeIn","deleteIn","update$1","updateIn","merge$1","mergeIntoKeyedWith","mergeWith$1","merger","collections","collection$1","__ownerID","withMutations","mergeIntoCollection","oldVal","merge","sources","mergeWithSources","mergeWith","mergeDeep$1","mergeDeepWithSources","mergeDeepWith$1","deepMergerWith","merged","mergeItem","hasVal","nextVal","deepMerger","oldValue","mergeDeep","mergeDeepWith","mergeIn","m","mergeDeepIn","mutable","wasAltered","__ensureOwner","__altered","keyValues","_root","updateMap","deleteAll","clear","__hash","sortBy","MapIterator","iterate","ownerID","makeMap","MapPrototype","removeAll","result","ArrayMapNode","shift","keyHash","didChangeSize","didAlter","removed","idx","exists","MAX_ARRAY_MAP_SIZE","createNodes","isEditable","newEntries","BitmapIndexedNode","bitmap","nodes","bit","popCount","keyHashFrag","newNode","updateNode","MAX_BITMAP_INDEXED_SIZE","expandNodes","isLeafNode","newBitmap","newNodes","setAt","spliceOut","spliceIn","HashArrayMapNode","count","newCount","MIN_HASH_ARRAY_MAP_SIZE","packNodes","HashCollisionNode","mergeIntoNode","ValueNode","keyMatch","maxIndex","_type","_reverse","_stack","mapIteratorFrame","mapIteratorValue","subNode","__prev","prev","root","EMPTY_MAP","newRoot","newSize","idx1","idx2","excluding","packedII","packedNodes","including","expandedNodes","x","val","canEdit","newArray","newLen","after","IS_LIST_SYMBOL","isList","maybeList","List","empty","emptyList","makeList","VNode","list","setSize","_origin","listNodeFor","updateList","insert","_capacity","_level","_tail","oldSize","setListBounds","unshift","arguments$1","seqs","argument","iterateList","DONE","ListPrototype","removeBefore","level","originIndex","removingFirst","newChild","oldChild","editable","editableVNode","removeAfter","sizeIndex","left","right","tailPos","getTailOffset","tail","iterateNodeOrLeaf","iterateLeaf","iterateNode","origin","capacity","EMPTY_LIST","newTail","updateVNode","nodeHas","lowerNode","newLowerNode","rawIndex","owner","oldOrigin","oldCapacity","newOrigin","newCapacity","newLevel","offsetShift","oldTailOffset","newTailOffset","oldTail","beginIndex","emptyOrderedMap","_map","_list","updateOrderedMap","newMap","newList","makeOrderedMap","omap","EMPTY_ORDERED_MAP","toMap","IS_STACK_SYMBOL","isStack","maybeStack","Stack","emptyStack","pushAll","head","_head","peek","makeStack","StackPrototype","unshiftAll","EMPTY_STACK","IS_SET_SYMBOL","isSet","maybeSet","isOrderedSet","maybeOrderedSet","deepEqual","notAssociative","flipped","_","allEqual","bSize","mixin","ctor","methods","keyCopier","getOwnPropertySymbols","toJS","result$1","emptySet","add","fromKeys","keySeq","intersect","sets","SetPrototype","union","updateSet","didChanges","mapEntries","mapped","toRemove","subtract","OrderedSet","__empty","__make","makeSet","EMPTY_SET","Range","start","abs","_start","_end","_step","ceil","EMPTY_RANGE","searchValue","possibleIndex","floor","indexOf","offsetValue","lastIndexOf","other","getIn$1","searchKeyPath","getIn","hasIn$1","hasIn","toObject","isIterable","useTuples","toJS$1","toOrderedMap","toOrderedSet","toSet","toStack","toList","__toStringMapper","join","returnValue","find","findEntry","sideEffect","bind","joined","isFirst","reduce$1","reducer","initialReduction","reduceRight","not","butLast","isEmpty","countBy","entriesSequence","entryMapper","filterNot","found","findKey","findLast","findLastEntry","findLastKey","first","flatMap","searchKey","groupBy","isSubset","isSuperset","keyOf","keyMapper","last","lastKeyOf","maxBy","neg","defaultNegComparator","minBy","rest","skip","amount","skipLast","skipWhile","skipUntil","take","takeLast","takeWhile","takeUntil","hashCollection","CollectionPrototype","toJSON","chain","contains","mapKeys","KeyedCollectionPrototype","findIndex","removeNum","numArgs","spliced","findLastIndex","interpose","interleave","zipped","interleaved","zip","defaultZipper","zipWith","IndexedCollectionPrototype","reduction","useFirst","ordered","keyed","h","hashMerge","murmurHashOfSize","emptyOrderedSet","OrderedSetPrototype","makeOrderedSet","EMPTY_ORDERED_SET","throwOnInvalidDefaultValues","defaultValues","Record","name","hasInitialized","RecordType","indices","RecordTypePrototype","_indices","_name","_defaultValues","propName","console","warn","recordName","setProp","_values","l","RecordPrototype","displayName","str","recordSeq","newValues","makeRecord","getDescriptiveName","likeRecord","record","Repeat","times","_value","EMPTY_REPEAT","fromJS","converter","fromJSWith","defaultConverter","parentValue","converted","version","Iterable","default"],"mappings":"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","sourcesContent":["/**\n * MIT License\n * \n * Copyright (c) 2014-present, Lee Byron and other contributors.\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.Immutable = {}));\n}(this, (function (exports) { 'use strict';\n\n  var DELETE = 'delete';\n\n  // Constants describing the size of trie nodes.\n  var SHIFT = 5; // Resulted in best performance after ______?\n  var SIZE = 1 << SHIFT;\n  var MASK = SIZE - 1;\n\n  // A consistent shared value representing \"not set\" which equals nothing other\n  // than itself, and nothing that could be provided externally.\n  var NOT_SET = {};\n\n  // Boolean references, Rough equivalent of `bool &`.\n  function MakeRef() {\n    return { value: false };\n  }\n\n  function SetRef(ref) {\n    if (ref) {\n      ref.value = true;\n    }\n  }\n\n  // A function which returns a value representing an \"owner\" for transient writes\n  // to tries. The return value will only ever equal itself, and will not equal\n  // the return of any subsequent call of this function.\n  function OwnerID() {}\n\n  function ensureSize(iter) {\n    if (iter.size === undefined) {\n      iter.size = iter.__iterate(returnTrue);\n    }\n    return iter.size;\n  }\n\n  function wrapIndex(iter, index) {\n    // This implements \"is array index\" which the ECMAString spec defines as:\n    //\n    //     A String property name P is an array index if and only if\n    //     ToString(ToUint32(P)) is equal to P and ToUint32(P) is not equal\n    //     to 2^32−1.\n    //\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-array-exotic-objects\n    if (typeof index !== 'number') {\n      var uint32Index = index >>> 0; // N >>> 0 is shorthand for ToUint32\n      if ('' + uint32Index !== index || uint32Index === 4294967295) {\n        return NaN;\n      }\n      index = uint32Index;\n    }\n    return index < 0 ? ensureSize(iter) + index : index;\n  }\n\n  function returnTrue() {\n    return true;\n  }\n\n  function wholeSlice(begin, end, size) {\n    return (\n      ((begin === 0 && !isNeg(begin)) ||\n        (size !== undefined && begin <= -size)) &&\n      (end === undefined || (size !== undefined && end >= size))\n    );\n  }\n\n  function resolveBegin(begin, size) {\n    return resolveIndex(begin, size, 0);\n  }\n\n  function resolveEnd(end, size) {\n    return resolveIndex(end, size, size);\n  }\n\n  function resolveIndex(index, size, defaultIndex) {\n    // Sanitize indices using this shorthand for ToInt32(argument)\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n    return index === undefined\n      ? defaultIndex\n      : isNeg(index)\n      ? size === Infinity\n        ? size\n        : Math.max(0, size + index) | 0\n      : size === undefined || size === index\n      ? index\n      : Math.min(size, index) | 0;\n  }\n\n  function isNeg(value) {\n    // Account for -0 which is negative, but not less than 0.\n    return value < 0 || (value === 0 && 1 / value === -Infinity);\n  }\n\n  var IS_COLLECTION_SYMBOL = '@@__IMMUTABLE_ITERABLE__@@';\n\n  function isCollection(maybeCollection) {\n    return Boolean(maybeCollection && maybeCollection[IS_COLLECTION_SYMBOL]);\n  }\n\n  var IS_KEYED_SYMBOL = '@@__IMMUTABLE_KEYED__@@';\n\n  function isKeyed(maybeKeyed) {\n    return Boolean(maybeKeyed && maybeKeyed[IS_KEYED_SYMBOL]);\n  }\n\n  var IS_INDEXED_SYMBOL = '@@__IMMUTABLE_INDEXED__@@';\n\n  function isIndexed(maybeIndexed) {\n    return Boolean(maybeIndexed && maybeIndexed[IS_INDEXED_SYMBOL]);\n  }\n\n  function isAssociative(maybeAssociative) {\n    return isKeyed(maybeAssociative) || isIndexed(maybeAssociative);\n  }\n\n  var Collection = function Collection(value) {\n    return isCollection(value) ? value : Seq(value);\n  };\n\n  var KeyedCollection = /*@__PURE__*/(function (Collection) {\n    function KeyedCollection(value) {\n      return isKeyed(value) ? value : KeyedSeq(value);\n    }\n\n    if ( Collection ) KeyedCollection.__proto__ = Collection;\n    KeyedCollection.prototype = Object.create( Collection && Collection.prototype );\n    KeyedCollection.prototype.constructor = KeyedCollection;\n\n    return KeyedCollection;\n  }(Collection));\n\n  var IndexedCollection = /*@__PURE__*/(function (Collection) {\n    function IndexedCollection(value) {\n      return isIndexed(value) ? value : IndexedSeq(value);\n    }\n\n    if ( Collection ) IndexedCollection.__proto__ = Collection;\n    IndexedCollection.prototype = Object.create( Collection && Collection.prototype );\n    IndexedCollection.prototype.constructor = IndexedCollection;\n\n    return IndexedCollection;\n  }(Collection));\n\n  var SetCollection = /*@__PURE__*/(function (Collection) {\n    function SetCollection(value) {\n      return isCollection(value) && !isAssociative(value) ? value : SetSeq(value);\n    }\n\n    if ( Collection ) SetCollection.__proto__ = Collection;\n    SetCollection.prototype = Object.create( Collection && Collection.prototype );\n    SetCollection.prototype.constructor = SetCollection;\n\n    return SetCollection;\n  }(Collection));\n\n  Collection.Keyed = KeyedCollection;\n  Collection.Indexed = IndexedCollection;\n  Collection.Set = SetCollection;\n\n  var IS_SEQ_SYMBOL = '@@__IMMUTABLE_SEQ__@@';\n\n  function isSeq(maybeSeq) {\n    return Boolean(maybeSeq && maybeSeq[IS_SEQ_SYMBOL]);\n  }\n\n  var IS_RECORD_SYMBOL = '@@__IMMUTABLE_RECORD__@@';\n\n  function isRecord(maybeRecord) {\n    return Boolean(maybeRecord && maybeRecord[IS_RECORD_SYMBOL]);\n  }\n\n  function isImmutable(maybeImmutable) {\n    return isCollection(maybeImmutable) || isRecord(maybeImmutable);\n  }\n\n  var IS_ORDERED_SYMBOL = '@@__IMMUTABLE_ORDERED__@@';\n\n  function isOrdered(maybeOrdered) {\n    return Boolean(maybeOrdered && maybeOrdered[IS_ORDERED_SYMBOL]);\n  }\n\n  var ITERATE_KEYS = 0;\n  var ITERATE_VALUES = 1;\n  var ITERATE_ENTRIES = 2;\n\n  var REAL_ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator';\n\n  var ITERATOR_SYMBOL = REAL_ITERATOR_SYMBOL || FAUX_ITERATOR_SYMBOL;\n\n  var Iterator = function Iterator(next) {\n    this.next = next;\n  };\n\n  Iterator.prototype.toString = function toString () {\n    return '[Iterator]';\n  };\n\n  Iterator.KEYS = ITERATE_KEYS;\n  Iterator.VALUES = ITERATE_VALUES;\n  Iterator.ENTRIES = ITERATE_ENTRIES;\n\n  Iterator.prototype.inspect = Iterator.prototype.toSource = function () {\n    return this.toString();\n  };\n  Iterator.prototype[ITERATOR_SYMBOL] = function () {\n    return this;\n  };\n\n  function iteratorValue(type, k, v, iteratorResult) {\n    var value = type === 0 ? k : type === 1 ? v : [k, v];\n    iteratorResult\n      ? (iteratorResult.value = value)\n      : (iteratorResult = {\n          value: value,\n          done: false,\n        });\n    return iteratorResult;\n  }\n\n  function iteratorDone() {\n    return { value: undefined, done: true };\n  }\n\n  function hasIterator(maybeIterable) {\n    return !!getIteratorFn(maybeIterable);\n  }\n\n  function isIterator(maybeIterator) {\n    return maybeIterator && typeof maybeIterator.next === 'function';\n  }\n\n  function getIterator(iterable) {\n    var iteratorFn = getIteratorFn(iterable);\n    return iteratorFn && iteratorFn.call(iterable);\n  }\n\n  function getIteratorFn(iterable) {\n    var iteratorFn =\n      iterable &&\n      ((REAL_ITERATOR_SYMBOL && iterable[REAL_ITERATOR_SYMBOL]) ||\n        iterable[FAUX_ITERATOR_SYMBOL]);\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  var hasOwnProperty = Object.prototype.hasOwnProperty;\n\n  function isArrayLike(value) {\n    if (Array.isArray(value) || typeof value === 'string') {\n      return true;\n    }\n\n    return (\n      value &&\n      typeof value === 'object' &&\n      Number.isInteger(value.length) &&\n      value.length >= 0 &&\n      (value.length === 0\n        ? // Only {length: 0} is considered Array-like.\n          Object.keys(value).length === 1\n        : // An object is only Array-like if it has a property where the last value\n          // in the array-like may be found (which could be undefined).\n          value.hasOwnProperty(value.length - 1))\n    );\n  }\n\n  var Seq = /*@__PURE__*/(function (Collection) {\n    function Seq(value) {\n      return value === null || value === undefined\n        ? emptySequence()\n        : isImmutable(value)\n        ? value.toSeq()\n        : seqFromValue(value);\n    }\n\n    if ( Collection ) Seq.__proto__ = Collection;\n    Seq.prototype = Object.create( Collection && Collection.prototype );\n    Seq.prototype.constructor = Seq;\n\n    Seq.prototype.toSeq = function toSeq () {\n      return this;\n    };\n\n    Seq.prototype.toString = function toString () {\n      return this.__toString('Seq {', '}');\n    };\n\n    Seq.prototype.cacheResult = function cacheResult () {\n      if (!this._cache && this.__iterateUncached) {\n        this._cache = this.entrySeq().toArray();\n        this.size = this._cache.length;\n      }\n      return this;\n    };\n\n    // abstract __iterateUncached(fn, reverse)\n\n    Seq.prototype.__iterate = function __iterate (fn, reverse) {\n      var cache = this._cache;\n      if (cache) {\n        var size = cache.length;\n        var i = 0;\n        while (i !== size) {\n          var entry = cache[reverse ? size - ++i : i++];\n          if (fn(entry[1], entry[0], this) === false) {\n            break;\n          }\n        }\n        return i;\n      }\n      return this.__iterateUncached(fn, reverse);\n    };\n\n    // abstract __iteratorUncached(type, reverse)\n\n    Seq.prototype.__iterator = function __iterator (type, reverse) {\n      var cache = this._cache;\n      if (cache) {\n        var size = cache.length;\n        var i = 0;\n        return new Iterator(function () {\n          if (i === size) {\n            return iteratorDone();\n          }\n          var entry = cache[reverse ? size - ++i : i++];\n          return iteratorValue(type, entry[0], entry[1]);\n        });\n      }\n      return this.__iteratorUncached(type, reverse);\n    };\n\n    return Seq;\n  }(Collection));\n\n  var KeyedSeq = /*@__PURE__*/(function (Seq) {\n    function KeyedSeq(value) {\n      return value === null || value === undefined\n        ? emptySequence().toKeyedSeq()\n        : isCollection(value)\n        ? isKeyed(value)\n          ? value.toSeq()\n          : value.fromEntrySeq()\n        : isRecord(value)\n        ? value.toSeq()\n        : keyedSeqFromValue(value);\n    }\n\n    if ( Seq ) KeyedSeq.__proto__ = Seq;\n    KeyedSeq.prototype = Object.create( Seq && Seq.prototype );\n    KeyedSeq.prototype.constructor = KeyedSeq;\n\n    KeyedSeq.prototype.toKeyedSeq = function toKeyedSeq () {\n      return this;\n    };\n\n    return KeyedSeq;\n  }(Seq));\n\n  var IndexedSeq = /*@__PURE__*/(function (Seq) {\n    function IndexedSeq(value) {\n      return value === null || value === undefined\n        ? emptySequence()\n        : isCollection(value)\n        ? isKeyed(value)\n          ? value.entrySeq()\n          : value.toIndexedSeq()\n        : isRecord(value)\n        ? value.toSeq().entrySeq()\n        : indexedSeqFromValue(value);\n    }\n\n    if ( Seq ) IndexedSeq.__proto__ = Seq;\n    IndexedSeq.prototype = Object.create( Seq && Seq.prototype );\n    IndexedSeq.prototype.constructor = IndexedSeq;\n\n    IndexedSeq.of = function of (/*...values*/) {\n      return IndexedSeq(arguments);\n    };\n\n    IndexedSeq.prototype.toIndexedSeq = function toIndexedSeq () {\n      return this;\n    };\n\n    IndexedSeq.prototype.toString = function toString () {\n      return this.__toString('Seq [', ']');\n    };\n\n    return IndexedSeq;\n  }(Seq));\n\n  var SetSeq = /*@__PURE__*/(function (Seq) {\n    function SetSeq(value) {\n      return (\n        isCollection(value) && !isAssociative(value) ? value : IndexedSeq(value)\n      ).toSetSeq();\n    }\n\n    if ( Seq ) SetSeq.__proto__ = Seq;\n    SetSeq.prototype = Object.create( Seq && Seq.prototype );\n    SetSeq.prototype.constructor = SetSeq;\n\n    SetSeq.of = function of (/*...values*/) {\n      return SetSeq(arguments);\n    };\n\n    SetSeq.prototype.toSetSeq = function toSetSeq () {\n      return this;\n    };\n\n    return SetSeq;\n  }(Seq));\n\n  Seq.isSeq = isSeq;\n  Seq.Keyed = KeyedSeq;\n  Seq.Set = SetSeq;\n  Seq.Indexed = IndexedSeq;\n\n  Seq.prototype[IS_SEQ_SYMBOL] = true;\n\n  // #pragma Root Sequences\n\n  var ArraySeq = /*@__PURE__*/(function (IndexedSeq) {\n    function ArraySeq(array) {\n      this._array = array;\n      this.size = array.length;\n    }\n\n    if ( IndexedSeq ) ArraySeq.__proto__ = IndexedSeq;\n    ArraySeq.prototype = Object.create( IndexedSeq && IndexedSeq.prototype );\n    ArraySeq.prototype.constructor = ArraySeq;\n\n    ArraySeq.prototype.get = function get (index, notSetValue) {\n      return this.has(index) ? this._array[wrapIndex(this, index)] : notSetValue;\n    };\n\n    ArraySeq.prototype.__iterate = function __iterate (fn, reverse) {\n      var array = this._array;\n      var size = array.length;\n      var i = 0;\n      while (i !== size) {\n        var ii = reverse ? size - ++i : i++;\n        if (fn(array[ii], ii, this) === false) {\n          break;\n        }\n      }\n      return i;\n    };\n\n    ArraySeq.prototype.__iterator = function __iterator (type, reverse) {\n      var array = this._array;\n      var size = array.length;\n      var i = 0;\n      return new Iterator(function () {\n        if (i === size) {\n          return iteratorDone();\n        }\n        var ii = reverse ? size - ++i : i++;\n        return iteratorValue(type, ii, array[ii]);\n      });\n    };\n\n    return ArraySeq;\n  }(IndexedSeq));\n\n  var ObjectSeq = /*@__PURE__*/(function (KeyedSeq) {\n    function ObjectSeq(object) {\n      var keys = Object.keys(object);\n      this._object = object;\n      this._keys = keys;\n      this.size = keys.length;\n    }\n\n    if ( KeyedSeq ) ObjectSeq.__proto__ = KeyedSeq;\n    ObjectSeq.prototype = Object.create( KeyedSeq && KeyedSeq.prototype );\n    ObjectSeq.prototype.constructor = ObjectSeq;\n\n    ObjectSeq.prototype.get = function get (key, notSetValue) {\n      if (notSetValue !== undefined && !this.has(key)) {\n        return notSetValue;\n      }\n      return this._object[key];\n    };\n\n    ObjectSeq.prototype.has = function has (key) {\n      return hasOwnProperty.call(this._object, key);\n    };\n\n    ObjectSeq.prototype.__iterate = function __iterate (fn, reverse) {\n      var object = this._object;\n      var keys = this._keys;\n      var size = keys.length;\n      var i = 0;\n      while (i !== size) {\n        var key = keys[reverse ? size - ++i : i++];\n        if (fn(object[key], key, this) === false) {\n          break;\n        }\n      }\n      return i;\n    };\n\n    ObjectSeq.prototype.__iterator = function __iterator (type, reverse) {\n      var object = this._object;\n      var keys = this._keys;\n      var size = keys.length;\n      var i = 0;\n      return new Iterator(function () {\n        if (i === size) {\n          return iteratorDone();\n        }\n        var key = keys[reverse ? size - ++i : i++];\n        return iteratorValue(type, key, object[key]);\n      });\n    };\n\n    return ObjectSeq;\n  }(KeyedSeq));\n  ObjectSeq.prototype[IS_ORDERED_SYMBOL] = true;\n\n  var CollectionSeq = /*@__PURE__*/(function (IndexedSeq) {\n    function CollectionSeq(collection) {\n      this._collection = collection;\n      this.size = collection.length || collection.size;\n    }\n\n    if ( IndexedSeq ) CollectionSeq.__proto__ = IndexedSeq;\n    CollectionSeq.prototype = Object.create( IndexedSeq && IndexedSeq.prototype );\n    CollectionSeq.prototype.constructor = CollectionSeq;\n\n    CollectionSeq.prototype.__iterateUncached = function __iterateUncached (fn, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var collection = this._collection;\n      var iterator = getIterator(collection);\n      var iterations = 0;\n      if (isIterator(iterator)) {\n        var step;\n        while (!(step = iterator.next()).done) {\n          if (fn(step.value, iterations++, this) === false) {\n            break;\n          }\n        }\n      }\n      return iterations;\n    };\n\n    CollectionSeq.prototype.__iteratorUncached = function __iteratorUncached (type, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var collection = this._collection;\n      var iterator = getIterator(collection);\n      if (!isIterator(iterator)) {\n        return new Iterator(iteratorDone);\n      }\n      var iterations = 0;\n      return new Iterator(function () {\n        var step = iterator.next();\n        return step.done ? step : iteratorValue(type, iterations++, step.value);\n      });\n    };\n\n    return CollectionSeq;\n  }(IndexedSeq));\n\n  // # pragma Helper functions\n\n  var EMPTY_SEQ;\n\n  function emptySequence() {\n    return EMPTY_SEQ || (EMPTY_SEQ = new ArraySeq([]));\n  }\n\n  function keyedSeqFromValue(value) {\n    var seq = Array.isArray(value)\n      ? new ArraySeq(value)\n      : hasIterator(value)\n      ? new CollectionSeq(value)\n      : undefined;\n    if (seq) {\n      return seq.fromEntrySeq();\n    }\n    if (typeof value === 'object') {\n      return new ObjectSeq(value);\n    }\n    throw new TypeError(\n      'Expected Array or collection object of [k, v] entries, or keyed object: ' +\n        value\n    );\n  }\n\n  function indexedSeqFromValue(value) {\n    var seq = maybeIndexedSeqFromValue(value);\n    if (seq) {\n      return seq;\n    }\n    throw new TypeError(\n      'Expected Array or collection object of values: ' + value\n    );\n  }\n\n  function seqFromValue(value) {\n    var seq = maybeIndexedSeqFromValue(value);\n    if (seq) {\n      return seq;\n    }\n    if (typeof value === 'object') {\n      return new ObjectSeq(value);\n    }\n    throw new TypeError(\n      'Expected Array or collection object of values, or keyed object: ' + value\n    );\n  }\n\n  function maybeIndexedSeqFromValue(value) {\n    return isArrayLike(value)\n      ? new ArraySeq(value)\n      : hasIterator(value)\n      ? new CollectionSeq(value)\n      : undefined;\n  }\n\n  var IS_MAP_SYMBOL = '@@__IMMUTABLE_MAP__@@';\n\n  function isMap(maybeMap) {\n    return Boolean(maybeMap && maybeMap[IS_MAP_SYMBOL]);\n  }\n\n  function isOrderedMap(maybeOrderedMap) {\n    return isMap(maybeOrderedMap) && isOrdered(maybeOrderedMap);\n  }\n\n  function isValueObject(maybeValue) {\n    return Boolean(\n      maybeValue &&\n        typeof maybeValue.equals === 'function' &&\n        typeof maybeValue.hashCode === 'function'\n    );\n  }\n\n  /**\n   * An extension of the \"same-value\" algorithm as [described for use by ES6 Map\n   * and Set](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map#Key_equality)\n   *\n   * NaN is considered the same as NaN, however -0 and 0 are considered the same\n   * value, which is different from the algorithm described by\n   * [`Object.is`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is).\n   *\n   * This is extended further to allow Objects to describe the values they\n   * represent, by way of `valueOf` or `equals` (and `hashCode`).\n   *\n   * Note: because of this extension, the key equality of Immutable.Map and the\n   * value equality of Immutable.Set will differ from ES6 Map and Set.\n   *\n   * ### Defining custom values\n   *\n   * The easiest way to describe the value an object represents is by implementing\n   * `valueOf`. For example, `Date` represents a value by returning a unix\n   * timestamp for `valueOf`:\n   *\n   *     var date1 = new Date(1234567890000); // Fri Feb 13 2009 ...\n   *     var date2 = new Date(1234567890000);\n   *     date1.valueOf(); // 1234567890000\n   *     assert( date1 !== date2 );\n   *     assert( Immutable.is( date1, date2 ) );\n   *\n   * Note: overriding `valueOf` may have other implications if you use this object\n   * where JavaScript expects a primitive, such as implicit string coercion.\n   *\n   * For more complex types, especially collections, implementing `valueOf` may\n   * not be performant. An alternative is to implement `equals` and `hashCode`.\n   *\n   * `equals` takes another object, presumably of similar type, and returns true\n   * if it is equal. Equality is symmetrical, so the same result should be\n   * returned if this and the argument are flipped.\n   *\n   *     assert( a.equals(b) === b.equals(a) );\n   *\n   * `hashCode` returns a 32bit integer number representing the object which will\n   * be used to determine how to store the value object in a Map or Set. You must\n   * provide both or neither methods, one must not exist without the other.\n   *\n   * Also, an important relationship between these methods must be upheld: if two\n   * values are equal, they *must* return the same hashCode. If the values are not\n   * equal, they might have the same hashCode; this is called a hash collision,\n   * and while undesirable for performance reasons, it is acceptable.\n   *\n   *     if (a.equals(b)) {\n   *       assert( a.hashCode() === b.hashCode() );\n   *     }\n   *\n   * All Immutable collections are Value Objects: they implement `equals()`\n   * and `hashCode()`.\n   */\n  function is(valueA, valueB) {\n    if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n      return true;\n    }\n    if (!valueA || !valueB) {\n      return false;\n    }\n    if (\n      typeof valueA.valueOf === 'function' &&\n      typeof valueB.valueOf === 'function'\n    ) {\n      valueA = valueA.valueOf();\n      valueB = valueB.valueOf();\n      if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n        return true;\n      }\n      if (!valueA || !valueB) {\n        return false;\n      }\n    }\n    return !!(\n      isValueObject(valueA) &&\n      isValueObject(valueB) &&\n      valueA.equals(valueB)\n    );\n  }\n\n  var imul =\n    typeof Math.imul === 'function' && Math.imul(0xffffffff, 2) === -2\n      ? Math.imul\n      : function imul(a, b) {\n          a |= 0; // int\n          b |= 0; // int\n          var c = a & 0xffff;\n          var d = b & 0xffff;\n          // Shift by 0 fixes the sign on the high part.\n          return (c * d + ((((a >>> 16) * d + c * (b >>> 16)) << 16) >>> 0)) | 0; // int\n        };\n\n  // v8 has an optimization for storing 31-bit signed numbers.\n  // Values which have either 00 or 11 as the high order bits qualify.\n  // This function drops the highest order bit in a signed number, maintaining\n  // the sign bit.\n  function smi(i32) {\n    return ((i32 >>> 1) & 0x40000000) | (i32 & 0xbfffffff);\n  }\n\n  var defaultValueOf = Object.prototype.valueOf;\n\n  function hash(o) {\n    if (o == null) {\n      return hashNullish(o);\n    }\n\n    if (typeof o.hashCode === 'function') {\n      // Drop any high bits from accidentally long hash codes.\n      return smi(o.hashCode(o));\n    }\n\n    var v = valueOf(o);\n\n    if (v == null) {\n      return hashNullish(v);\n    }\n\n    switch (typeof v) {\n      case 'boolean':\n        // The hash values for built-in constants are a 1 value for each 5-byte\n        // shift region expect for the first, which encodes the value. This\n        // reduces the odds of a hash collision for these common values.\n        return v ? 0x42108421 : 0x42108420;\n      case 'number':\n        return hashNumber(v);\n      case 'string':\n        return v.length > STRING_HASH_CACHE_MIN_STRLEN\n          ? cachedHashString(v)\n          : hashString(v);\n      case 'object':\n      case 'function':\n        return hashJSObj(v);\n      case 'symbol':\n        return hashSymbol(v);\n      default:\n        if (typeof v.toString === 'function') {\n          return hashString(v.toString());\n        }\n        throw new Error('Value type ' + typeof v + ' cannot be hashed.');\n    }\n  }\n\n  function hashNullish(nullish) {\n    return nullish === null ? 0x42108422 : /* undefined */ 0x42108423;\n  }\n\n  // Compress arbitrarily large numbers into smi hashes.\n  function hashNumber(n) {\n    if (n !== n || n === Infinity) {\n      return 0;\n    }\n    var hash = n | 0;\n    if (hash !== n) {\n      hash ^= n * 0xffffffff;\n    }\n    while (n > 0xffffffff) {\n      n /= 0xffffffff;\n      hash ^= n;\n    }\n    return smi(hash);\n  }\n\n  function cachedHashString(string) {\n    var hashed = stringHashCache[string];\n    if (hashed === undefined) {\n      hashed = hashString(string);\n      if (STRING_HASH_CACHE_SIZE === STRING_HASH_CACHE_MAX_SIZE) {\n        STRING_HASH_CACHE_SIZE = 0;\n        stringHashCache = {};\n      }\n      STRING_HASH_CACHE_SIZE++;\n      stringHashCache[string] = hashed;\n    }\n    return hashed;\n  }\n\n  // http://jsperf.com/hashing-strings\n  function hashString(string) {\n    // This is the hash from JVM\n    // The hash code for a string is computed as\n    // s[0] * 31 ^ (n - 1) + s[1] * 31 ^ (n - 2) + ... + s[n - 1],\n    // where s[i] is the ith character of the string and n is the length of\n    // the string. We \"mod\" the result to make it between 0 (inclusive) and 2^31\n    // (exclusive) by dropping high bits.\n    var hashed = 0;\n    for (var ii = 0; ii < string.length; ii++) {\n      hashed = (31 * hashed + string.charCodeAt(ii)) | 0;\n    }\n    return smi(hashed);\n  }\n\n  function hashSymbol(sym) {\n    var hashed = symbolMap[sym];\n    if (hashed !== undefined) {\n      return hashed;\n    }\n\n    hashed = nextHash();\n\n    symbolMap[sym] = hashed;\n\n    return hashed;\n  }\n\n  function hashJSObj(obj) {\n    var hashed;\n    if (usingWeakMap) {\n      hashed = weakMap.get(obj);\n      if (hashed !== undefined) {\n        return hashed;\n      }\n    }\n\n    hashed = obj[UID_HASH_KEY];\n    if (hashed !== undefined) {\n      return hashed;\n    }\n\n    if (!canDefineProperty) {\n      hashed = obj.propertyIsEnumerable && obj.propertyIsEnumerable[UID_HASH_KEY];\n      if (hashed !== undefined) {\n        return hashed;\n      }\n\n      hashed = getIENodeHash(obj);\n      if (hashed !== undefined) {\n        return hashed;\n      }\n    }\n\n    hashed = nextHash();\n\n    if (usingWeakMap) {\n      weakMap.set(obj, hashed);\n    } else if (isExtensible !== undefined && isExtensible(obj) === false) {\n      throw new Error('Non-extensible objects are not allowed as keys.');\n    } else if (canDefineProperty) {\n      Object.defineProperty(obj, UID_HASH_KEY, {\n        enumerable: false,\n        configurable: false,\n        writable: false,\n        value: hashed,\n      });\n    } else if (\n      obj.propertyIsEnumerable !== undefined &&\n      obj.propertyIsEnumerable === obj.constructor.prototype.propertyIsEnumerable\n    ) {\n      // Since we can't define a non-enumerable property on the object\n      // we'll hijack one of the less-used non-enumerable properties to\n      // save our hash on it. Since this is a function it will not show up in\n      // `JSON.stringify` which is what we want.\n      obj.propertyIsEnumerable = function () {\n        return this.constructor.prototype.propertyIsEnumerable.apply(\n          this,\n          arguments\n        );\n      };\n      obj.propertyIsEnumerable[UID_HASH_KEY] = hashed;\n    } else if (obj.nodeType !== undefined) {\n      // At this point we couldn't get the IE `uniqueID` to use as a hash\n      // and we couldn't use a non-enumerable property to exploit the\n      // dontEnum bug so we simply add the `UID_HASH_KEY` on the node\n      // itself.\n      obj[UID_HASH_KEY] = hashed;\n    } else {\n      throw new Error('Unable to set a non-enumerable property on object.');\n    }\n\n    return hashed;\n  }\n\n  // Get references to ES5 object methods.\n  var isExtensible = Object.isExtensible;\n\n  // True if Object.defineProperty works as expected. IE8 fails this test.\n  var canDefineProperty = (function () {\n    try {\n      Object.defineProperty({}, '@', {});\n      return true;\n    } catch (e) {\n      return false;\n    }\n  })();\n\n  // IE has a `uniqueID` property on DOM nodes. We can construct the hash from it\n  // and avoid memory leaks from the IE cloneNode bug.\n  function getIENodeHash(node) {\n    if (node && node.nodeType > 0) {\n      switch (node.nodeType) {\n        case 1: // Element\n          return node.uniqueID;\n        case 9: // Document\n          return node.documentElement && node.documentElement.uniqueID;\n      }\n    }\n  }\n\n  function valueOf(obj) {\n    return obj.valueOf !== defaultValueOf && typeof obj.valueOf === 'function'\n      ? obj.valueOf(obj)\n      : obj;\n  }\n\n  function nextHash() {\n    var nextHash = ++_objHashUID;\n    if (_objHashUID & 0x40000000) {\n      _objHashUID = 0;\n    }\n    return nextHash;\n  }\n\n  // If possible, use a WeakMap.\n  var usingWeakMap = typeof WeakMap === 'function';\n  var weakMap;\n  if (usingWeakMap) {\n    weakMap = new WeakMap();\n  }\n\n  var symbolMap = Object.create(null);\n\n  var _objHashUID = 0;\n\n  var UID_HASH_KEY = '__immutablehash__';\n  if (typeof Symbol === 'function') {\n    UID_HASH_KEY = Symbol(UID_HASH_KEY);\n  }\n\n  var STRING_HASH_CACHE_MIN_STRLEN = 16;\n  var STRING_HASH_CACHE_MAX_SIZE = 255;\n  var STRING_HASH_CACHE_SIZE = 0;\n  var stringHashCache = {};\n\n  var ToKeyedSequence = /*@__PURE__*/(function (KeyedSeq) {\n    function ToKeyedSequence(indexed, useKeys) {\n      this._iter = indexed;\n      this._useKeys = useKeys;\n      this.size = indexed.size;\n    }\n\n    if ( KeyedSeq ) ToKeyedSequence.__proto__ = KeyedSeq;\n    ToKeyedSequence.prototype = Object.create( KeyedSeq && KeyedSeq.prototype );\n    ToKeyedSequence.prototype.constructor = ToKeyedSequence;\n\n    ToKeyedSequence.prototype.get = function get (key, notSetValue) {\n      return this._iter.get(key, notSetValue);\n    };\n\n    ToKeyedSequence.prototype.has = function has (key) {\n      return this._iter.has(key);\n    };\n\n    ToKeyedSequence.prototype.valueSeq = function valueSeq () {\n      return this._iter.valueSeq();\n    };\n\n    ToKeyedSequence.prototype.reverse = function reverse () {\n      var this$1$1 = this;\n\n      var reversedSequence = reverseFactory(this, true);\n      if (!this._useKeys) {\n        reversedSequence.valueSeq = function () { return this$1$1._iter.toSeq().reverse(); };\n      }\n      return reversedSequence;\n    };\n\n    ToKeyedSequence.prototype.map = function map (mapper, context) {\n      var this$1$1 = this;\n\n      var mappedSequence = mapFactory(this, mapper, context);\n      if (!this._useKeys) {\n        mappedSequence.valueSeq = function () { return this$1$1._iter.toSeq().map(mapper, context); };\n      }\n      return mappedSequence;\n    };\n\n    ToKeyedSequence.prototype.__iterate = function __iterate (fn, reverse) {\n      var this$1$1 = this;\n\n      return this._iter.__iterate(function (v, k) { return fn(v, k, this$1$1); }, reverse);\n    };\n\n    ToKeyedSequence.prototype.__iterator = function __iterator (type, reverse) {\n      return this._iter.__iterator(type, reverse);\n    };\n\n    return ToKeyedSequence;\n  }(KeyedSeq));\n  ToKeyedSequence.prototype[IS_ORDERED_SYMBOL] = true;\n\n  var ToIndexedSequence = /*@__PURE__*/(function (IndexedSeq) {\n    function ToIndexedSequence(iter) {\n      this._iter = iter;\n      this.size = iter.size;\n    }\n\n    if ( IndexedSeq ) ToIndexedSequence.__proto__ = IndexedSeq;\n    ToIndexedSequence.prototype = Object.create( IndexedSeq && IndexedSeq.prototype );\n    ToIndexedSequence.prototype.constructor = ToIndexedSequence;\n\n    ToIndexedSequence.prototype.includes = function includes (value) {\n      return this._iter.includes(value);\n    };\n\n    ToIndexedSequence.prototype.__iterate = function __iterate (fn, reverse) {\n      var this$1$1 = this;\n\n      var i = 0;\n      reverse && ensureSize(this);\n      return this._iter.__iterate(\n        function (v) { return fn(v, reverse ? this$1$1.size - ++i : i++, this$1$1); },\n        reverse\n      );\n    };\n\n    ToIndexedSequence.prototype.__iterator = function __iterator (type, reverse) {\n      var this$1$1 = this;\n\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      var i = 0;\n      reverse && ensureSize(this);\n      return new Iterator(function () {\n        var step = iterator.next();\n        return step.done\n          ? step\n          : iteratorValue(\n              type,\n              reverse ? this$1$1.size - ++i : i++,\n              step.value,\n              step\n            );\n      });\n    };\n\n    return ToIndexedSequence;\n  }(IndexedSeq));\n\n  var ToSetSequence = /*@__PURE__*/(function (SetSeq) {\n    function ToSetSequence(iter) {\n      this._iter = iter;\n      this.size = iter.size;\n    }\n\n    if ( SetSeq ) ToSetSequence.__proto__ = SetSeq;\n    ToSetSequence.prototype = Object.create( SetSeq && SetSeq.prototype );\n    ToSetSequence.prototype.constructor = ToSetSequence;\n\n    ToSetSequence.prototype.has = function has (key) {\n      return this._iter.includes(key);\n    };\n\n    ToSetSequence.prototype.__iterate = function __iterate (fn, reverse) {\n      var this$1$1 = this;\n\n      return this._iter.__iterate(function (v) { return fn(v, v, this$1$1); }, reverse);\n    };\n\n    ToSetSequence.prototype.__iterator = function __iterator (type, reverse) {\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      return new Iterator(function () {\n        var step = iterator.next();\n        return step.done\n          ? step\n          : iteratorValue(type, step.value, step.value, step);\n      });\n    };\n\n    return ToSetSequence;\n  }(SetSeq));\n\n  var FromEntriesSequence = /*@__PURE__*/(function (KeyedSeq) {\n    function FromEntriesSequence(entries) {\n      this._iter = entries;\n      this.size = entries.size;\n    }\n\n    if ( KeyedSeq ) FromEntriesSequence.__proto__ = KeyedSeq;\n    FromEntriesSequence.prototype = Object.create( KeyedSeq && KeyedSeq.prototype );\n    FromEntriesSequence.prototype.constructor = FromEntriesSequence;\n\n    FromEntriesSequence.prototype.entrySeq = function entrySeq () {\n      return this._iter.toSeq();\n    };\n\n    FromEntriesSequence.prototype.__iterate = function __iterate (fn, reverse) {\n      var this$1$1 = this;\n\n      return this._iter.__iterate(function (entry) {\n        // Check if entry exists first so array access doesn't throw for holes\n        // in the parent iteration.\n        if (entry) {\n          validateEntry(entry);\n          var indexedCollection = isCollection(entry);\n          return fn(\n            indexedCollection ? entry.get(1) : entry[1],\n            indexedCollection ? entry.get(0) : entry[0],\n            this$1$1\n          );\n        }\n      }, reverse);\n    };\n\n    FromEntriesSequence.prototype.__iterator = function __iterator (type, reverse) {\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      return new Iterator(function () {\n        while (true) {\n          var step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n          var entry = step.value;\n          // Check if entry exists first so array access doesn't throw for holes\n          // in the parent iteration.\n          if (entry) {\n            validateEntry(entry);\n            var indexedCollection = isCollection(entry);\n            return iteratorValue(\n              type,\n              indexedCollection ? entry.get(0) : entry[0],\n              indexedCollection ? entry.get(1) : entry[1],\n              step\n            );\n          }\n        }\n      });\n    };\n\n    return FromEntriesSequence;\n  }(KeyedSeq));\n\n  ToIndexedSequence.prototype.cacheResult =\n    ToKeyedSequence.prototype.cacheResult =\n    ToSetSequence.prototype.cacheResult =\n    FromEntriesSequence.prototype.cacheResult =\n      cacheResultThrough;\n\n  function flipFactory(collection) {\n    var flipSequence = makeSequence(collection);\n    flipSequence._iter = collection;\n    flipSequence.size = collection.size;\n    flipSequence.flip = function () { return collection; };\n    flipSequence.reverse = function () {\n      var reversedSequence = collection.reverse.apply(this); // super.reverse()\n      reversedSequence.flip = function () { return collection.reverse(); };\n      return reversedSequence;\n    };\n    flipSequence.has = function (key) { return collection.includes(key); };\n    flipSequence.includes = function (key) { return collection.has(key); };\n    flipSequence.cacheResult = cacheResultThrough;\n    flipSequence.__iterateUncached = function (fn, reverse) {\n      var this$1$1 = this;\n\n      return collection.__iterate(function (v, k) { return fn(k, v, this$1$1) !== false; }, reverse);\n    };\n    flipSequence.__iteratorUncached = function (type, reverse) {\n      if (type === ITERATE_ENTRIES) {\n        var iterator = collection.__iterator(type, reverse);\n        return new Iterator(function () {\n          var step = iterator.next();\n          if (!step.done) {\n            var k = step.value[0];\n            step.value[0] = step.value[1];\n            step.value[1] = k;\n          }\n          return step;\n        });\n      }\n      return collection.__iterator(\n        type === ITERATE_VALUES ? ITERATE_KEYS : ITERATE_VALUES,\n        reverse\n      );\n    };\n    return flipSequence;\n  }\n\n  function mapFactory(collection, mapper, context) {\n    var mappedSequence = makeSequence(collection);\n    mappedSequence.size = collection.size;\n    mappedSequence.has = function (key) { return collection.has(key); };\n    mappedSequence.get = function (key, notSetValue) {\n      var v = collection.get(key, NOT_SET);\n      return v === NOT_SET\n        ? notSetValue\n        : mapper.call(context, v, key, collection);\n    };\n    mappedSequence.__iterateUncached = function (fn, reverse) {\n      var this$1$1 = this;\n\n      return collection.__iterate(\n        function (v, k, c) { return fn(mapper.call(context, v, k, c), k, this$1$1) !== false; },\n        reverse\n      );\n    };\n    mappedSequence.__iteratorUncached = function (type, reverse) {\n      var iterator = collection.__iterator(ITERATE_ENTRIES, reverse);\n      return new Iterator(function () {\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        var key = entry[0];\n        return iteratorValue(\n          type,\n          key,\n          mapper.call(context, entry[1], key, collection),\n          step\n        );\n      });\n    };\n    return mappedSequence;\n  }\n\n  function reverseFactory(collection, useKeys) {\n    var this$1$1 = this;\n\n    var reversedSequence = makeSequence(collection);\n    reversedSequence._iter = collection;\n    reversedSequence.size = collection.size;\n    reversedSequence.reverse = function () { return collection; };\n    if (collection.flip) {\n      reversedSequence.flip = function () {\n        var flipSequence = flipFactory(collection);\n        flipSequence.reverse = function () { return collection.flip(); };\n        return flipSequence;\n      };\n    }\n    reversedSequence.get = function (key, notSetValue) { return collection.get(useKeys ? key : -1 - key, notSetValue); };\n    reversedSequence.has = function (key) { return collection.has(useKeys ? key : -1 - key); };\n    reversedSequence.includes = function (value) { return collection.includes(value); };\n    reversedSequence.cacheResult = cacheResultThrough;\n    reversedSequence.__iterate = function (fn, reverse) {\n      var this$1$1 = this;\n\n      var i = 0;\n      reverse && ensureSize(collection);\n      return collection.__iterate(\n        function (v, k) { return fn(v, useKeys ? k : reverse ? this$1$1.size - ++i : i++, this$1$1); },\n        !reverse\n      );\n    };\n    reversedSequence.__iterator = function (type, reverse) {\n      var i = 0;\n      reverse && ensureSize(collection);\n      var iterator = collection.__iterator(ITERATE_ENTRIES, !reverse);\n      return new Iterator(function () {\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        return iteratorValue(\n          type,\n          useKeys ? entry[0] : reverse ? this$1$1.size - ++i : i++,\n          entry[1],\n          step\n        );\n      });\n    };\n    return reversedSequence;\n  }\n\n  function filterFactory(collection, predicate, context, useKeys) {\n    var filterSequence = makeSequence(collection);\n    if (useKeys) {\n      filterSequence.has = function (key) {\n        var v = collection.get(key, NOT_SET);\n        return v !== NOT_SET && !!predicate.call(context, v, key, collection);\n      };\n      filterSequence.get = function (key, notSetValue) {\n        var v = collection.get(key, NOT_SET);\n        return v !== NOT_SET && predicate.call(context, v, key, collection)\n          ? v\n          : notSetValue;\n      };\n    }\n    filterSequence.__iterateUncached = function (fn, reverse) {\n      var this$1$1 = this;\n\n      var iterations = 0;\n      collection.__iterate(function (v, k, c) {\n        if (predicate.call(context, v, k, c)) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$1$1);\n        }\n      }, reverse);\n      return iterations;\n    };\n    filterSequence.__iteratorUncached = function (type, reverse) {\n      var iterator = collection.__iterator(ITERATE_ENTRIES, reverse);\n      var iterations = 0;\n      return new Iterator(function () {\n        while (true) {\n          var step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n          var entry = step.value;\n          var key = entry[0];\n          var value = entry[1];\n          if (predicate.call(context, value, key, collection)) {\n            return iteratorValue(type, useKeys ? key : iterations++, value, step);\n          }\n        }\n      });\n    };\n    return filterSequence;\n  }\n\n  function countByFactory(collection, grouper, context) {\n    var groups = Map().asMutable();\n    collection.__iterate(function (v, k) {\n      groups.update(grouper.call(context, v, k, collection), 0, function (a) { return a + 1; });\n    });\n    return groups.asImmutable();\n  }\n\n  function groupByFactory(collection, grouper, context) {\n    var isKeyedIter = isKeyed(collection);\n    var groups = (isOrdered(collection) ? OrderedMap() : Map()).asMutable();\n    collection.__iterate(function (v, k) {\n      groups.update(\n        grouper.call(context, v, k, collection),\n        function (a) { return ((a = a || []), a.push(isKeyedIter ? [k, v] : v), a); }\n      );\n    });\n    var coerce = collectionClass(collection);\n    return groups.map(function (arr) { return reify(collection, coerce(arr)); }).asImmutable();\n  }\n\n  function sliceFactory(collection, begin, end, useKeys) {\n    var originalSize = collection.size;\n\n    if (wholeSlice(begin, end, originalSize)) {\n      return collection;\n    }\n\n    var resolvedBegin = resolveBegin(begin, originalSize);\n    var resolvedEnd = resolveEnd(end, originalSize);\n\n    // begin or end will be NaN if they were provided as negative numbers and\n    // this collection's size is unknown. In that case, cache first so there is\n    // a known size and these do not resolve to NaN.\n    if (resolvedBegin !== resolvedBegin || resolvedEnd !== resolvedEnd) {\n      return sliceFactory(collection.toSeq().cacheResult(), begin, end, useKeys);\n    }\n\n    // Note: resolvedEnd is undefined when the original sequence's length is\n    // unknown and this slice did not supply an end and should contain all\n    // elements after resolvedBegin.\n    // In that case, resolvedSize will be NaN and sliceSize will remain undefined.\n    var resolvedSize = resolvedEnd - resolvedBegin;\n    var sliceSize;\n    if (resolvedSize === resolvedSize) {\n      sliceSize = resolvedSize < 0 ? 0 : resolvedSize;\n    }\n\n    var sliceSeq = makeSequence(collection);\n\n    // If collection.size is undefined, the size of the realized sliceSeq is\n    // unknown at this point unless the number of items to slice is 0\n    sliceSeq.size =\n      sliceSize === 0 ? sliceSize : (collection.size && sliceSize) || undefined;\n\n    if (!useKeys && isSeq(collection) && sliceSize >= 0) {\n      sliceSeq.get = function (index, notSetValue) {\n        index = wrapIndex(this, index);\n        return index >= 0 && index < sliceSize\n          ? collection.get(index + resolvedBegin, notSetValue)\n          : notSetValue;\n      };\n    }\n\n    sliceSeq.__iterateUncached = function (fn, reverse) {\n      var this$1$1 = this;\n\n      if (sliceSize === 0) {\n        return 0;\n      }\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var skipped = 0;\n      var isSkipping = true;\n      var iterations = 0;\n      collection.__iterate(function (v, k) {\n        if (!(isSkipping && (isSkipping = skipped++ < resolvedBegin))) {\n          iterations++;\n          return (\n            fn(v, useKeys ? k : iterations - 1, this$1$1) !== false &&\n            iterations !== sliceSize\n          );\n        }\n      });\n      return iterations;\n    };\n\n    sliceSeq.__iteratorUncached = function (type, reverse) {\n      if (sliceSize !== 0 && reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      // Don't bother instantiating parent iterator if taking 0.\n      if (sliceSize === 0) {\n        return new Iterator(iteratorDone);\n      }\n      var iterator = collection.__iterator(type, reverse);\n      var skipped = 0;\n      var iterations = 0;\n      return new Iterator(function () {\n        while (skipped++ < resolvedBegin) {\n          iterator.next();\n        }\n        if (++iterations > sliceSize) {\n          return iteratorDone();\n        }\n        var step = iterator.next();\n        if (useKeys || type === ITERATE_VALUES || step.done) {\n          return step;\n        }\n        if (type === ITERATE_KEYS) {\n          return iteratorValue(type, iterations - 1, undefined, step);\n        }\n        return iteratorValue(type, iterations - 1, step.value[1], step);\n      });\n    };\n\n    return sliceSeq;\n  }\n\n  function takeWhileFactory(collection, predicate, context) {\n    var takeSequence = makeSequence(collection);\n    takeSequence.__iterateUncached = function (fn, reverse) {\n      var this$1$1 = this;\n\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var iterations = 0;\n      collection.__iterate(\n        function (v, k, c) { return predicate.call(context, v, k, c) && ++iterations && fn(v, k, this$1$1); }\n      );\n      return iterations;\n    };\n    takeSequence.__iteratorUncached = function (type, reverse) {\n      var this$1$1 = this;\n\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterator = collection.__iterator(ITERATE_ENTRIES, reverse);\n      var iterating = true;\n      return new Iterator(function () {\n        if (!iterating) {\n          return iteratorDone();\n        }\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        var k = entry[0];\n        var v = entry[1];\n        if (!predicate.call(context, v, k, this$1$1)) {\n          iterating = false;\n          return iteratorDone();\n        }\n        return type === ITERATE_ENTRIES ? step : iteratorValue(type, k, v, step);\n      });\n    };\n    return takeSequence;\n  }\n\n  function skipWhileFactory(collection, predicate, context, useKeys) {\n    var skipSequence = makeSequence(collection);\n    skipSequence.__iterateUncached = function (fn, reverse) {\n      var this$1$1 = this;\n\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var isSkipping = true;\n      var iterations = 0;\n      collection.__iterate(function (v, k, c) {\n        if (!(isSkipping && (isSkipping = predicate.call(context, v, k, c)))) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$1$1);\n        }\n      });\n      return iterations;\n    };\n    skipSequence.__iteratorUncached = function (type, reverse) {\n      var this$1$1 = this;\n\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterator = collection.__iterator(ITERATE_ENTRIES, reverse);\n      var skipping = true;\n      var iterations = 0;\n      return new Iterator(function () {\n        var step;\n        var k;\n        var v;\n        do {\n          step = iterator.next();\n          if (step.done) {\n            if (useKeys || type === ITERATE_VALUES) {\n              return step;\n            }\n            if (type === ITERATE_KEYS) {\n              return iteratorValue(type, iterations++, undefined, step);\n            }\n            return iteratorValue(type, iterations++, step.value[1], step);\n          }\n          var entry = step.value;\n          k = entry[0];\n          v = entry[1];\n          skipping && (skipping = predicate.call(context, v, k, this$1$1));\n        } while (skipping);\n        return type === ITERATE_ENTRIES ? step : iteratorValue(type, k, v, step);\n      });\n    };\n    return skipSequence;\n  }\n\n  function concatFactory(collection, values) {\n    var isKeyedCollection = isKeyed(collection);\n    var iters = [collection]\n      .concat(values)\n      .map(function (v) {\n        if (!isCollection(v)) {\n          v = isKeyedCollection\n            ? keyedSeqFromValue(v)\n            : indexedSeqFromValue(Array.isArray(v) ? v : [v]);\n        } else if (isKeyedCollection) {\n          v = KeyedCollection(v);\n        }\n        return v;\n      })\n      .filter(function (v) { return v.size !== 0; });\n\n    if (iters.length === 0) {\n      return collection;\n    }\n\n    if (iters.length === 1) {\n      var singleton = iters[0];\n      if (\n        singleton === collection ||\n        (isKeyedCollection && isKeyed(singleton)) ||\n        (isIndexed(collection) && isIndexed(singleton))\n      ) {\n        return singleton;\n      }\n    }\n\n    var concatSeq = new ArraySeq(iters);\n    if (isKeyedCollection) {\n      concatSeq = concatSeq.toKeyedSeq();\n    } else if (!isIndexed(collection)) {\n      concatSeq = concatSeq.toSetSeq();\n    }\n    concatSeq = concatSeq.flatten(true);\n    concatSeq.size = iters.reduce(function (sum, seq) {\n      if (sum !== undefined) {\n        var size = seq.size;\n        if (size !== undefined) {\n          return sum + size;\n        }\n      }\n    }, 0);\n    return concatSeq;\n  }\n\n  function flattenFactory(collection, depth, useKeys) {\n    var flatSequence = makeSequence(collection);\n    flatSequence.__iterateUncached = function (fn, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var iterations = 0;\n      var stopped = false;\n      function flatDeep(iter, currentDepth) {\n        iter.__iterate(function (v, k) {\n          if ((!depth || currentDepth < depth) && isCollection(v)) {\n            flatDeep(v, currentDepth + 1);\n          } else {\n            iterations++;\n            if (fn(v, useKeys ? k : iterations - 1, flatSequence) === false) {\n              stopped = true;\n            }\n          }\n          return !stopped;\n        }, reverse);\n      }\n      flatDeep(collection, 0);\n      return iterations;\n    };\n    flatSequence.__iteratorUncached = function (type, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterator = collection.__iterator(type, reverse);\n      var stack = [];\n      var iterations = 0;\n      return new Iterator(function () {\n        while (iterator) {\n          var step = iterator.next();\n          if (step.done !== false) {\n            iterator = stack.pop();\n            continue;\n          }\n          var v = step.value;\n          if (type === ITERATE_ENTRIES) {\n            v = v[1];\n          }\n          if ((!depth || stack.length < depth) && isCollection(v)) {\n            stack.push(iterator);\n            iterator = v.__iterator(type, reverse);\n          } else {\n            return useKeys ? step : iteratorValue(type, iterations++, v, step);\n          }\n        }\n        return iteratorDone();\n      });\n    };\n    return flatSequence;\n  }\n\n  function flatMapFactory(collection, mapper, context) {\n    var coerce = collectionClass(collection);\n    return collection\n      .toSeq()\n      .map(function (v, k) { return coerce(mapper.call(context, v, k, collection)); })\n      .flatten(true);\n  }\n\n  function interposeFactory(collection, separator) {\n    var interposedSequence = makeSequence(collection);\n    interposedSequence.size = collection.size && collection.size * 2 - 1;\n    interposedSequence.__iterateUncached = function (fn, reverse) {\n      var this$1$1 = this;\n\n      var iterations = 0;\n      collection.__iterate(\n        function (v) { return (!iterations || fn(separator, iterations++, this$1$1) !== false) &&\n          fn(v, iterations++, this$1$1) !== false; },\n        reverse\n      );\n      return iterations;\n    };\n    interposedSequence.__iteratorUncached = function (type, reverse) {\n      var iterator = collection.__iterator(ITERATE_VALUES, reverse);\n      var iterations = 0;\n      var step;\n      return new Iterator(function () {\n        if (!step || iterations % 2) {\n          step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n        }\n        return iterations % 2\n          ? iteratorValue(type, iterations++, separator)\n          : iteratorValue(type, iterations++, step.value, step);\n      });\n    };\n    return interposedSequence;\n  }\n\n  function sortFactory(collection, comparator, mapper) {\n    if (!comparator) {\n      comparator = defaultComparator;\n    }\n    var isKeyedCollection = isKeyed(collection);\n    var index = 0;\n    var entries = collection\n      .toSeq()\n      .map(function (v, k) { return [k, v, index++, mapper ? mapper(v, k, collection) : v]; })\n      .valueSeq()\n      .toArray();\n    entries\n      .sort(function (a, b) { return comparator(a[3], b[3]) || a[2] - b[2]; })\n      .forEach(\n        isKeyedCollection\n          ? function (v, i) {\n              entries[i].length = 2;\n            }\n          : function (v, i) {\n              entries[i] = v[1];\n            }\n      );\n    return isKeyedCollection\n      ? KeyedSeq(entries)\n      : isIndexed(collection)\n      ? IndexedSeq(entries)\n      : SetSeq(entries);\n  }\n\n  function maxFactory(collection, comparator, mapper) {\n    if (!comparator) {\n      comparator = defaultComparator;\n    }\n    if (mapper) {\n      var entry = collection\n        .toSeq()\n        .map(function (v, k) { return [v, mapper(v, k, collection)]; })\n        .reduce(function (a, b) { return (maxCompare(comparator, a[1], b[1]) ? b : a); });\n      return entry && entry[0];\n    }\n    return collection.reduce(function (a, b) { return (maxCompare(comparator, a, b) ? b : a); });\n  }\n\n  function maxCompare(comparator, a, b) {\n    var comp = comparator(b, a);\n    // b is considered the new max if the comparator declares them equal, but\n    // they are not equal and b is in fact a nullish value.\n    return (\n      (comp === 0 && b !== a && (b === undefined || b === null || b !== b)) ||\n      comp > 0\n    );\n  }\n\n  function zipWithFactory(keyIter, zipper, iters, zipAll) {\n    var zipSequence = makeSequence(keyIter);\n    var sizes = new ArraySeq(iters).map(function (i) { return i.size; });\n    zipSequence.size = zipAll ? sizes.max() : sizes.min();\n    // Note: this a generic base implementation of __iterate in terms of\n    // __iterator which may be more generically useful in the future.\n    zipSequence.__iterate = function (fn, reverse) {\n      /* generic:\n      var iterator = this.__iterator(ITERATE_ENTRIES, reverse);\n      var step;\n      var iterations = 0;\n      while (!(step = iterator.next()).done) {\n        iterations++;\n        if (fn(step.value[1], step.value[0], this) === false) {\n          break;\n        }\n      }\n      return iterations;\n      */\n      // indexed:\n      var iterator = this.__iterator(ITERATE_VALUES, reverse);\n      var step;\n      var iterations = 0;\n      while (!(step = iterator.next()).done) {\n        if (fn(step.value, iterations++, this) === false) {\n          break;\n        }\n      }\n      return iterations;\n    };\n    zipSequence.__iteratorUncached = function (type, reverse) {\n      var iterators = iters.map(\n        function (i) { return ((i = Collection(i)), getIterator(reverse ? i.reverse() : i)); }\n      );\n      var iterations = 0;\n      var isDone = false;\n      return new Iterator(function () {\n        var steps;\n        if (!isDone) {\n          steps = iterators.map(function (i) { return i.next(); });\n          isDone = zipAll ? steps.every(function (s) { return s.done; }) : steps.some(function (s) { return s.done; });\n        }\n        if (isDone) {\n          return iteratorDone();\n        }\n        return iteratorValue(\n          type,\n          iterations++,\n          zipper.apply(\n            null,\n            steps.map(function (s) { return s.value; })\n          )\n        );\n      });\n    };\n    return zipSequence;\n  }\n\n  // #pragma Helper Functions\n\n  function reify(iter, seq) {\n    return iter === seq ? iter : isSeq(iter) ? seq : iter.constructor(seq);\n  }\n\n  function validateEntry(entry) {\n    if (entry !== Object(entry)) {\n      throw new TypeError('Expected [K, V] tuple: ' + entry);\n    }\n  }\n\n  function collectionClass(collection) {\n    return isKeyed(collection)\n      ? KeyedCollection\n      : isIndexed(collection)\n      ? IndexedCollection\n      : SetCollection;\n  }\n\n  function makeSequence(collection) {\n    return Object.create(\n      (isKeyed(collection)\n        ? KeyedSeq\n        : isIndexed(collection)\n        ? IndexedSeq\n        : SetSeq\n      ).prototype\n    );\n  }\n\n  function cacheResultThrough() {\n    if (this._iter.cacheResult) {\n      this._iter.cacheResult();\n      this.size = this._iter.size;\n      return this;\n    }\n    return Seq.prototype.cacheResult.call(this);\n  }\n\n  function defaultComparator(a, b) {\n    if (a === undefined && b === undefined) {\n      return 0;\n    }\n\n    if (a === undefined) {\n      return 1;\n    }\n\n    if (b === undefined) {\n      return -1;\n    }\n\n    return a > b ? 1 : a < b ? -1 : 0;\n  }\n\n  function arrCopy(arr, offset) {\n    offset = offset || 0;\n    var len = Math.max(0, arr.length - offset);\n    var newArr = new Array(len);\n    for (var ii = 0; ii < len; ii++) {\n      newArr[ii] = arr[ii + offset];\n    }\n    return newArr;\n  }\n\n  function invariant(condition, error) {\n    if (!condition) { throw new Error(error); }\n  }\n\n  function assertNotInfinite(size) {\n    invariant(\n      size !== Infinity,\n      'Cannot perform this action with an infinite size.'\n    );\n  }\n\n  function coerceKeyPath(keyPath) {\n    if (isArrayLike(keyPath) && typeof keyPath !== 'string') {\n      return keyPath;\n    }\n    if (isOrdered(keyPath)) {\n      return keyPath.toArray();\n    }\n    throw new TypeError(\n      'Invalid keyPath: expected Ordered Collection or Array: ' + keyPath\n    );\n  }\n\n  var toString = Object.prototype.toString;\n\n  function isPlainObject(value) {\n    // The base prototype's toString deals with Argument objects and native namespaces like Math\n    if (\n      !value ||\n      typeof value !== 'object' ||\n      toString.call(value) !== '[object Object]'\n    ) {\n      return false;\n    }\n\n    var proto = Object.getPrototypeOf(value);\n    if (proto === null) {\n      return true;\n    }\n\n    // Iteratively going up the prototype chain is needed for cross-realm environments (differing contexts, iframes, etc)\n    var parentProto = proto;\n    var nextProto = Object.getPrototypeOf(proto);\n    while (nextProto !== null) {\n      parentProto = nextProto;\n      nextProto = Object.getPrototypeOf(parentProto);\n    }\n    return parentProto === proto;\n  }\n\n  /**\n   * Returns true if the value is a potentially-persistent data structure, either\n   * provided by Immutable.js or a plain Array or Object.\n   */\n  function isDataStructure(value) {\n    return (\n      typeof value === 'object' &&\n      (isImmutable(value) || Array.isArray(value) || isPlainObject(value))\n    );\n  }\n\n  function quoteString(value) {\n    try {\n      return typeof value === 'string' ? JSON.stringify(value) : String(value);\n    } catch (_ignoreError) {\n      return JSON.stringify(value);\n    }\n  }\n\n  function has(collection, key) {\n    return isImmutable(collection)\n      ? collection.has(key)\n      : isDataStructure(collection) && hasOwnProperty.call(collection, key);\n  }\n\n  function get(collection, key, notSetValue) {\n    return isImmutable(collection)\n      ? collection.get(key, notSetValue)\n      : !has(collection, key)\n      ? notSetValue\n      : typeof collection.get === 'function'\n      ? collection.get(key)\n      : collection[key];\n  }\n\n  function shallowCopy(from) {\n    if (Array.isArray(from)) {\n      return arrCopy(from);\n    }\n    var to = {};\n    for (var key in from) {\n      if (hasOwnProperty.call(from, key)) {\n        to[key] = from[key];\n      }\n    }\n    return to;\n  }\n\n  function remove(collection, key) {\n    if (!isDataStructure(collection)) {\n      throw new TypeError(\n        'Cannot update non-data-structure value: ' + collection\n      );\n    }\n    if (isImmutable(collection)) {\n      if (!collection.remove) {\n        throw new TypeError(\n          'Cannot update immutable value without .remove() method: ' + collection\n        );\n      }\n      return collection.remove(key);\n    }\n    if (!hasOwnProperty.call(collection, key)) {\n      return collection;\n    }\n    var collectionCopy = shallowCopy(collection);\n    if (Array.isArray(collectionCopy)) {\n      collectionCopy.splice(key, 1);\n    } else {\n      delete collectionCopy[key];\n    }\n    return collectionCopy;\n  }\n\n  function set(collection, key, value) {\n    if (!isDataStructure(collection)) {\n      throw new TypeError(\n        'Cannot update non-data-structure value: ' + collection\n      );\n    }\n    if (isImmutable(collection)) {\n      if (!collection.set) {\n        throw new TypeError(\n          'Cannot update immutable value without .set() method: ' + collection\n        );\n      }\n      return collection.set(key, value);\n    }\n    if (hasOwnProperty.call(collection, key) && value === collection[key]) {\n      return collection;\n    }\n    var collectionCopy = shallowCopy(collection);\n    collectionCopy[key] = value;\n    return collectionCopy;\n  }\n\n  function updateIn$1(collection, keyPath, notSetValue, updater) {\n    if (!updater) {\n      updater = notSetValue;\n      notSetValue = undefined;\n    }\n    var updatedValue = updateInDeeply(\n      isImmutable(collection),\n      collection,\n      coerceKeyPath(keyPath),\n      0,\n      notSetValue,\n      updater\n    );\n    return updatedValue === NOT_SET ? notSetValue : updatedValue;\n  }\n\n  function updateInDeeply(\n    inImmutable,\n    existing,\n    keyPath,\n    i,\n    notSetValue,\n    updater\n  ) {\n    var wasNotSet = existing === NOT_SET;\n    if (i === keyPath.length) {\n      var existingValue = wasNotSet ? notSetValue : existing;\n      var newValue = updater(existingValue);\n      return newValue === existingValue ? existing : newValue;\n    }\n    if (!wasNotSet && !isDataStructure(existing)) {\n      throw new TypeError(\n        'Cannot update within non-data-structure value in path [' +\n          keyPath.slice(0, i).map(quoteString) +\n          ']: ' +\n          existing\n      );\n    }\n    var key = keyPath[i];\n    var nextExisting = wasNotSet ? NOT_SET : get(existing, key, NOT_SET);\n    var nextUpdated = updateInDeeply(\n      nextExisting === NOT_SET ? inImmutable : isImmutable(nextExisting),\n      nextExisting,\n      keyPath,\n      i + 1,\n      notSetValue,\n      updater\n    );\n    return nextUpdated === nextExisting\n      ? existing\n      : nextUpdated === NOT_SET\n      ? remove(existing, key)\n      : set(\n          wasNotSet ? (inImmutable ? emptyMap() : {}) : existing,\n          key,\n          nextUpdated\n        );\n  }\n\n  function setIn$1(collection, keyPath, value) {\n    return updateIn$1(collection, keyPath, NOT_SET, function () { return value; });\n  }\n\n  function setIn(keyPath, v) {\n    return setIn$1(this, keyPath, v);\n  }\n\n  function removeIn(collection, keyPath) {\n    return updateIn$1(collection, keyPath, function () { return NOT_SET; });\n  }\n\n  function deleteIn(keyPath) {\n    return removeIn(this, keyPath);\n  }\n\n  function update$1(collection, key, notSetValue, updater) {\n    return updateIn$1(collection, [key], notSetValue, updater);\n  }\n\n  function update(key, notSetValue, updater) {\n    return arguments.length === 1\n      ? key(this)\n      : update$1(this, key, notSetValue, updater);\n  }\n\n  function updateIn(keyPath, notSetValue, updater) {\n    return updateIn$1(this, keyPath, notSetValue, updater);\n  }\n\n  function merge$1() {\n    var iters = [], len = arguments.length;\n    while ( len-- ) iters[ len ] = arguments[ len ];\n\n    return mergeIntoKeyedWith(this, iters);\n  }\n\n  function mergeWith$1(merger) {\n    var iters = [], len = arguments.length - 1;\n    while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n    if (typeof merger !== 'function') {\n      throw new TypeError('Invalid merger function: ' + merger);\n    }\n    return mergeIntoKeyedWith(this, iters, merger);\n  }\n\n  function mergeIntoKeyedWith(collection, collections, merger) {\n    var iters = [];\n    for (var ii = 0; ii < collections.length; ii++) {\n      var collection$1 = KeyedCollection(collections[ii]);\n      if (collection$1.size !== 0) {\n        iters.push(collection$1);\n      }\n    }\n    if (iters.length === 0) {\n      return collection;\n    }\n    if (\n      collection.toSeq().size === 0 &&\n      !collection.__ownerID &&\n      iters.length === 1\n    ) {\n      return collection.constructor(iters[0]);\n    }\n    return collection.withMutations(function (collection) {\n      var mergeIntoCollection = merger\n        ? function (value, key) {\n            update$1(collection, key, NOT_SET, function (oldVal) { return oldVal === NOT_SET ? value : merger(oldVal, value, key); }\n            );\n          }\n        : function (value, key) {\n            collection.set(key, value);\n          };\n      for (var ii = 0; ii < iters.length; ii++) {\n        iters[ii].forEach(mergeIntoCollection);\n      }\n    });\n  }\n\n  function merge(collection) {\n    var sources = [], len = arguments.length - 1;\n    while ( len-- > 0 ) sources[ len ] = arguments[ len + 1 ];\n\n    return mergeWithSources(collection, sources);\n  }\n\n  function mergeWith(merger, collection) {\n    var sources = [], len = arguments.length - 2;\n    while ( len-- > 0 ) sources[ len ] = arguments[ len + 2 ];\n\n    return mergeWithSources(collection, sources, merger);\n  }\n\n  function mergeDeep$1(collection) {\n    var sources = [], len = arguments.length - 1;\n    while ( len-- > 0 ) sources[ len ] = arguments[ len + 1 ];\n\n    return mergeDeepWithSources(collection, sources);\n  }\n\n  function mergeDeepWith$1(merger, collection) {\n    var sources = [], len = arguments.length - 2;\n    while ( len-- > 0 ) sources[ len ] = arguments[ len + 2 ];\n\n    return mergeDeepWithSources(collection, sources, merger);\n  }\n\n  function mergeDeepWithSources(collection, sources, merger) {\n    return mergeWithSources(collection, sources, deepMergerWith(merger));\n  }\n\n  function mergeWithSources(collection, sources, merger) {\n    if (!isDataStructure(collection)) {\n      throw new TypeError(\n        'Cannot merge into non-data-structure value: ' + collection\n      );\n    }\n    if (isImmutable(collection)) {\n      return typeof merger === 'function' && collection.mergeWith\n        ? collection.mergeWith.apply(collection, [ merger ].concat( sources ))\n        : collection.merge\n        ? collection.merge.apply(collection, sources)\n        : collection.concat.apply(collection, sources);\n    }\n    var isArray = Array.isArray(collection);\n    var merged = collection;\n    var Collection = isArray ? IndexedCollection : KeyedCollection;\n    var mergeItem = isArray\n      ? function (value) {\n          // Copy on write\n          if (merged === collection) {\n            merged = shallowCopy(merged);\n          }\n          merged.push(value);\n        }\n      : function (value, key) {\n          var hasVal = hasOwnProperty.call(merged, key);\n          var nextVal =\n            hasVal && merger ? merger(merged[key], value, key) : value;\n          if (!hasVal || nextVal !== merged[key]) {\n            // Copy on write\n            if (merged === collection) {\n              merged = shallowCopy(merged);\n            }\n            merged[key] = nextVal;\n          }\n        };\n    for (var i = 0; i < sources.length; i++) {\n      Collection(sources[i]).forEach(mergeItem);\n    }\n    return merged;\n  }\n\n  function deepMergerWith(merger) {\n    function deepMerger(oldValue, newValue, key) {\n      return isDataStructure(oldValue) && isDataStructure(newValue)\n        ? mergeWithSources(oldValue, [newValue], deepMerger)\n        : merger\n        ? merger(oldValue, newValue, key)\n        : newValue;\n    }\n    return deepMerger;\n  }\n\n  function mergeDeep() {\n    var iters = [], len = arguments.length;\n    while ( len-- ) iters[ len ] = arguments[ len ];\n\n    return mergeDeepWithSources(this, iters);\n  }\n\n  function mergeDeepWith(merger) {\n    var iters = [], len = arguments.length - 1;\n    while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n    return mergeDeepWithSources(this, iters, merger);\n  }\n\n  function mergeIn(keyPath) {\n    var iters = [], len = arguments.length - 1;\n    while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n    return updateIn$1(this, keyPath, emptyMap(), function (m) { return mergeWithSources(m, iters); });\n  }\n\n  function mergeDeepIn(keyPath) {\n    var iters = [], len = arguments.length - 1;\n    while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n    return updateIn$1(this, keyPath, emptyMap(), function (m) { return mergeDeepWithSources(m, iters); }\n    );\n  }\n\n  function withMutations(fn) {\n    var mutable = this.asMutable();\n    fn(mutable);\n    return mutable.wasAltered() ? mutable.__ensureOwner(this.__ownerID) : this;\n  }\n\n  function asMutable() {\n    return this.__ownerID ? this : this.__ensureOwner(new OwnerID());\n  }\n\n  function asImmutable() {\n    return this.__ensureOwner();\n  }\n\n  function wasAltered() {\n    return this.__altered;\n  }\n\n  var Map = /*@__PURE__*/(function (KeyedCollection) {\n    function Map(value) {\n      return value === null || value === undefined\n        ? emptyMap()\n        : isMap(value) && !isOrdered(value)\n        ? value\n        : emptyMap().withMutations(function (map) {\n            var iter = KeyedCollection(value);\n            assertNotInfinite(iter.size);\n            iter.forEach(function (v, k) { return map.set(k, v); });\n          });\n    }\n\n    if ( KeyedCollection ) Map.__proto__ = KeyedCollection;\n    Map.prototype = Object.create( KeyedCollection && KeyedCollection.prototype );\n    Map.prototype.constructor = Map;\n\n    Map.of = function of () {\n      var keyValues = [], len = arguments.length;\n      while ( len-- ) keyValues[ len ] = arguments[ len ];\n\n      return emptyMap().withMutations(function (map) {\n        for (var i = 0; i < keyValues.length; i += 2) {\n          if (i + 1 >= keyValues.length) {\n            throw new Error('Missing value for key: ' + keyValues[i]);\n          }\n          map.set(keyValues[i], keyValues[i + 1]);\n        }\n      });\n    };\n\n    Map.prototype.toString = function toString () {\n      return this.__toString('Map {', '}');\n    };\n\n    // @pragma Access\n\n    Map.prototype.get = function get (k, notSetValue) {\n      return this._root\n        ? this._root.get(0, undefined, k, notSetValue)\n        : notSetValue;\n    };\n\n    // @pragma Modification\n\n    Map.prototype.set = function set (k, v) {\n      return updateMap(this, k, v);\n    };\n\n    Map.prototype.remove = function remove (k) {\n      return updateMap(this, k, NOT_SET);\n    };\n\n    Map.prototype.deleteAll = function deleteAll (keys) {\n      var collection = Collection(keys);\n\n      if (collection.size === 0) {\n        return this;\n      }\n\n      return this.withMutations(function (map) {\n        collection.forEach(function (key) { return map.remove(key); });\n      });\n    };\n\n    Map.prototype.clear = function clear () {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = 0;\n        this._root = null;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return emptyMap();\n    };\n\n    // @pragma Composition\n\n    Map.prototype.sort = function sort (comparator) {\n      // Late binding\n      return OrderedMap(sortFactory(this, comparator));\n    };\n\n    Map.prototype.sortBy = function sortBy (mapper, comparator) {\n      // Late binding\n      return OrderedMap(sortFactory(this, comparator, mapper));\n    };\n\n    Map.prototype.map = function map (mapper, context) {\n      var this$1$1 = this;\n\n      return this.withMutations(function (map) {\n        map.forEach(function (value, key) {\n          map.set(key, mapper.call(context, value, key, this$1$1));\n        });\n      });\n    };\n\n    // @pragma Mutability\n\n    Map.prototype.__iterator = function __iterator (type, reverse) {\n      return new MapIterator(this, type, reverse);\n    };\n\n    Map.prototype.__iterate = function __iterate (fn, reverse) {\n      var this$1$1 = this;\n\n      var iterations = 0;\n      this._root &&\n        this._root.iterate(function (entry) {\n          iterations++;\n          return fn(entry[1], entry[0], this$1$1);\n        }, reverse);\n      return iterations;\n    };\n\n    Map.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      if (!ownerID) {\n        if (this.size === 0) {\n          return emptyMap();\n        }\n        this.__ownerID = ownerID;\n        this.__altered = false;\n        return this;\n      }\n      return makeMap(this.size, this._root, ownerID, this.__hash);\n    };\n\n    return Map;\n  }(KeyedCollection));\n\n  Map.isMap = isMap;\n\n  var MapPrototype = Map.prototype;\n  MapPrototype[IS_MAP_SYMBOL] = true;\n  MapPrototype[DELETE] = MapPrototype.remove;\n  MapPrototype.removeAll = MapPrototype.deleteAll;\n  MapPrototype.setIn = setIn;\n  MapPrototype.removeIn = MapPrototype.deleteIn = deleteIn;\n  MapPrototype.update = update;\n  MapPrototype.updateIn = updateIn;\n  MapPrototype.merge = MapPrototype.concat = merge$1;\n  MapPrototype.mergeWith = mergeWith$1;\n  MapPrototype.mergeDeep = mergeDeep;\n  MapPrototype.mergeDeepWith = mergeDeepWith;\n  MapPrototype.mergeIn = mergeIn;\n  MapPrototype.mergeDeepIn = mergeDeepIn;\n  MapPrototype.withMutations = withMutations;\n  MapPrototype.wasAltered = wasAltered;\n  MapPrototype.asImmutable = asImmutable;\n  MapPrototype['@@transducer/init'] = MapPrototype.asMutable = asMutable;\n  MapPrototype['@@transducer/step'] = function (result, arr) {\n    return result.set(arr[0], arr[1]);\n  };\n  MapPrototype['@@transducer/result'] = function (obj) {\n    return obj.asImmutable();\n  };\n\n  // #pragma Trie Nodes\n\n  var ArrayMapNode = function ArrayMapNode(ownerID, entries) {\n    this.ownerID = ownerID;\n    this.entries = entries;\n  };\n\n  ArrayMapNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n    var entries = this.entries;\n    for (var ii = 0, len = entries.length; ii < len; ii++) {\n      if (is(key, entries[ii][0])) {\n        return entries[ii][1];\n      }\n    }\n    return notSetValue;\n  };\n\n  ArrayMapNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n    var removed = value === NOT_SET;\n\n    var entries = this.entries;\n    var idx = 0;\n    var len = entries.length;\n    for (; idx < len; idx++) {\n      if (is(key, entries[idx][0])) {\n        break;\n      }\n    }\n    var exists = idx < len;\n\n    if (exists ? entries[idx][1] === value : removed) {\n      return this;\n    }\n\n    SetRef(didAlter);\n    (removed || !exists) && SetRef(didChangeSize);\n\n    if (removed && entries.length === 1) {\n      return; // undefined\n    }\n\n    if (!exists && !removed && entries.length >= MAX_ARRAY_MAP_SIZE) {\n      return createNodes(ownerID, entries, key, value);\n    }\n\n    var isEditable = ownerID && ownerID === this.ownerID;\n    var newEntries = isEditable ? entries : arrCopy(entries);\n\n    if (exists) {\n      if (removed) {\n        idx === len - 1\n          ? newEntries.pop()\n          : (newEntries[idx] = newEntries.pop());\n      } else {\n        newEntries[idx] = [key, value];\n      }\n    } else {\n      newEntries.push([key, value]);\n    }\n\n    if (isEditable) {\n      this.entries = newEntries;\n      return this;\n    }\n\n    return new ArrayMapNode(ownerID, newEntries);\n  };\n\n  var BitmapIndexedNode = function BitmapIndexedNode(ownerID, bitmap, nodes) {\n    this.ownerID = ownerID;\n    this.bitmap = bitmap;\n    this.nodes = nodes;\n  };\n\n  BitmapIndexedNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n    if (keyHash === undefined) {\n      keyHash = hash(key);\n    }\n    var bit = 1 << ((shift === 0 ? keyHash : keyHash >>> shift) & MASK);\n    var bitmap = this.bitmap;\n    return (bitmap & bit) === 0\n      ? notSetValue\n      : this.nodes[popCount(bitmap & (bit - 1))].get(\n          shift + SHIFT,\n          keyHash,\n          key,\n          notSetValue\n        );\n  };\n\n  BitmapIndexedNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n    if (keyHash === undefined) {\n      keyHash = hash(key);\n    }\n    var keyHashFrag = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n    var bit = 1 << keyHashFrag;\n    var bitmap = this.bitmap;\n    var exists = (bitmap & bit) !== 0;\n\n    if (!exists && value === NOT_SET) {\n      return this;\n    }\n\n    var idx = popCount(bitmap & (bit - 1));\n    var nodes = this.nodes;\n    var node = exists ? nodes[idx] : undefined;\n    var newNode = updateNode(\n      node,\n      ownerID,\n      shift + SHIFT,\n      keyHash,\n      key,\n      value,\n      didChangeSize,\n      didAlter\n    );\n\n    if (newNode === node) {\n      return this;\n    }\n\n    if (!exists && newNode && nodes.length >= MAX_BITMAP_INDEXED_SIZE) {\n      return expandNodes(ownerID, nodes, bitmap, keyHashFrag, newNode);\n    }\n\n    if (\n      exists &&\n      !newNode &&\n      nodes.length === 2 &&\n      isLeafNode(nodes[idx ^ 1])\n    ) {\n      return nodes[idx ^ 1];\n    }\n\n    if (exists && newNode && nodes.length === 1 && isLeafNode(newNode)) {\n      return newNode;\n    }\n\n    var isEditable = ownerID && ownerID === this.ownerID;\n    var newBitmap = exists ? (newNode ? bitmap : bitmap ^ bit) : bitmap | bit;\n    var newNodes = exists\n      ? newNode\n        ? setAt(nodes, idx, newNode, isEditable)\n        : spliceOut(nodes, idx, isEditable)\n      : spliceIn(nodes, idx, newNode, isEditable);\n\n    if (isEditable) {\n      this.bitmap = newBitmap;\n      this.nodes = newNodes;\n      return this;\n    }\n\n    return new BitmapIndexedNode(ownerID, newBitmap, newNodes);\n  };\n\n  var HashArrayMapNode = function HashArrayMapNode(ownerID, count, nodes) {\n    this.ownerID = ownerID;\n    this.count = count;\n    this.nodes = nodes;\n  };\n\n  HashArrayMapNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n    if (keyHash === undefined) {\n      keyHash = hash(key);\n    }\n    var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n    var node = this.nodes[idx];\n    return node\n      ? node.get(shift + SHIFT, keyHash, key, notSetValue)\n      : notSetValue;\n  };\n\n  HashArrayMapNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n    if (keyHash === undefined) {\n      keyHash = hash(key);\n    }\n    var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n    var removed = value === NOT_SET;\n    var nodes = this.nodes;\n    var node = nodes[idx];\n\n    if (removed && !node) {\n      return this;\n    }\n\n    var newNode = updateNode(\n      node,\n      ownerID,\n      shift + SHIFT,\n      keyHash,\n      key,\n      value,\n      didChangeSize,\n      didAlter\n    );\n    if (newNode === node) {\n      return this;\n    }\n\n    var newCount = this.count;\n    if (!node) {\n      newCount++;\n    } else if (!newNode) {\n      newCount--;\n      if (newCount < MIN_HASH_ARRAY_MAP_SIZE) {\n        return packNodes(ownerID, nodes, newCount, idx);\n      }\n    }\n\n    var isEditable = ownerID && ownerID === this.ownerID;\n    var newNodes = setAt(nodes, idx, newNode, isEditable);\n\n    if (isEditable) {\n      this.count = newCount;\n      this.nodes = newNodes;\n      return this;\n    }\n\n    return new HashArrayMapNode(ownerID, newCount, newNodes);\n  };\n\n  var HashCollisionNode = function HashCollisionNode(ownerID, keyHash, entries) {\n    this.ownerID = ownerID;\n    this.keyHash = keyHash;\n    this.entries = entries;\n  };\n\n  HashCollisionNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n    var entries = this.entries;\n    for (var ii = 0, len = entries.length; ii < len; ii++) {\n      if (is(key, entries[ii][0])) {\n        return entries[ii][1];\n      }\n    }\n    return notSetValue;\n  };\n\n  HashCollisionNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n    if (keyHash === undefined) {\n      keyHash = hash(key);\n    }\n\n    var removed = value === NOT_SET;\n\n    if (keyHash !== this.keyHash) {\n      if (removed) {\n        return this;\n      }\n      SetRef(didAlter);\n      SetRef(didChangeSize);\n      return mergeIntoNode(this, ownerID, shift, keyHash, [key, value]);\n    }\n\n    var entries = this.entries;\n    var idx = 0;\n    var len = entries.length;\n    for (; idx < len; idx++) {\n      if (is(key, entries[idx][0])) {\n        break;\n      }\n    }\n    var exists = idx < len;\n\n    if (exists ? entries[idx][1] === value : removed) {\n      return this;\n    }\n\n    SetRef(didAlter);\n    (removed || !exists) && SetRef(didChangeSize);\n\n    if (removed && len === 2) {\n      return new ValueNode(ownerID, this.keyHash, entries[idx ^ 1]);\n    }\n\n    var isEditable = ownerID && ownerID === this.ownerID;\n    var newEntries = isEditable ? entries : arrCopy(entries);\n\n    if (exists) {\n      if (removed) {\n        idx === len - 1\n          ? newEntries.pop()\n          : (newEntries[idx] = newEntries.pop());\n      } else {\n        newEntries[idx] = [key, value];\n      }\n    } else {\n      newEntries.push([key, value]);\n    }\n\n    if (isEditable) {\n      this.entries = newEntries;\n      return this;\n    }\n\n    return new HashCollisionNode(ownerID, this.keyHash, newEntries);\n  };\n\n  var ValueNode = function ValueNode(ownerID, keyHash, entry) {\n    this.ownerID = ownerID;\n    this.keyHash = keyHash;\n    this.entry = entry;\n  };\n\n  ValueNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n    return is(key, this.entry[0]) ? this.entry[1] : notSetValue;\n  };\n\n  ValueNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n    var removed = value === NOT_SET;\n    var keyMatch = is(key, this.entry[0]);\n    if (keyMatch ? value === this.entry[1] : removed) {\n      return this;\n    }\n\n    SetRef(didAlter);\n\n    if (removed) {\n      SetRef(didChangeSize);\n      return; // undefined\n    }\n\n    if (keyMatch) {\n      if (ownerID && ownerID === this.ownerID) {\n        this.entry[1] = value;\n        return this;\n      }\n      return new ValueNode(ownerID, this.keyHash, [key, value]);\n    }\n\n    SetRef(didChangeSize);\n    return mergeIntoNode(this, ownerID, shift, hash(key), [key, value]);\n  };\n\n  // #pragma Iterators\n\n  ArrayMapNode.prototype.iterate = HashCollisionNode.prototype.iterate =\n    function (fn, reverse) {\n      var entries = this.entries;\n      for (var ii = 0, maxIndex = entries.length - 1; ii <= maxIndex; ii++) {\n        if (fn(entries[reverse ? maxIndex - ii : ii]) === false) {\n          return false;\n        }\n      }\n    };\n\n  BitmapIndexedNode.prototype.iterate = HashArrayMapNode.prototype.iterate =\n    function (fn, reverse) {\n      var nodes = this.nodes;\n      for (var ii = 0, maxIndex = nodes.length - 1; ii <= maxIndex; ii++) {\n        var node = nodes[reverse ? maxIndex - ii : ii];\n        if (node && node.iterate(fn, reverse) === false) {\n          return false;\n        }\n      }\n    };\n\n  // eslint-disable-next-line no-unused-vars\n  ValueNode.prototype.iterate = function (fn, reverse) {\n    return fn(this.entry);\n  };\n\n  var MapIterator = /*@__PURE__*/(function (Iterator) {\n    function MapIterator(map, type, reverse) {\n      this._type = type;\n      this._reverse = reverse;\n      this._stack = map._root && mapIteratorFrame(map._root);\n    }\n\n    if ( Iterator ) MapIterator.__proto__ = Iterator;\n    MapIterator.prototype = Object.create( Iterator && Iterator.prototype );\n    MapIterator.prototype.constructor = MapIterator;\n\n    MapIterator.prototype.next = function next () {\n      var type = this._type;\n      var stack = this._stack;\n      while (stack) {\n        var node = stack.node;\n        var index = stack.index++;\n        var maxIndex = (void 0);\n        if (node.entry) {\n          if (index === 0) {\n            return mapIteratorValue(type, node.entry);\n          }\n        } else if (node.entries) {\n          maxIndex = node.entries.length - 1;\n          if (index <= maxIndex) {\n            return mapIteratorValue(\n              type,\n              node.entries[this._reverse ? maxIndex - index : index]\n            );\n          }\n        } else {\n          maxIndex = node.nodes.length - 1;\n          if (index <= maxIndex) {\n            var subNode = node.nodes[this._reverse ? maxIndex - index : index];\n            if (subNode) {\n              if (subNode.entry) {\n                return mapIteratorValue(type, subNode.entry);\n              }\n              stack = this._stack = mapIteratorFrame(subNode, stack);\n            }\n            continue;\n          }\n        }\n        stack = this._stack = this._stack.__prev;\n      }\n      return iteratorDone();\n    };\n\n    return MapIterator;\n  }(Iterator));\n\n  function mapIteratorValue(type, entry) {\n    return iteratorValue(type, entry[0], entry[1]);\n  }\n\n  function mapIteratorFrame(node, prev) {\n    return {\n      node: node,\n      index: 0,\n      __prev: prev,\n    };\n  }\n\n  function makeMap(size, root, ownerID, hash) {\n    var map = Object.create(MapPrototype);\n    map.size = size;\n    map._root = root;\n    map.__ownerID = ownerID;\n    map.__hash = hash;\n    map.__altered = false;\n    return map;\n  }\n\n  var EMPTY_MAP;\n  function emptyMap() {\n    return EMPTY_MAP || (EMPTY_MAP = makeMap(0));\n  }\n\n  function updateMap(map, k, v) {\n    var newRoot;\n    var newSize;\n    if (!map._root) {\n      if (v === NOT_SET) {\n        return map;\n      }\n      newSize = 1;\n      newRoot = new ArrayMapNode(map.__ownerID, [[k, v]]);\n    } else {\n      var didChangeSize = MakeRef();\n      var didAlter = MakeRef();\n      newRoot = updateNode(\n        map._root,\n        map.__ownerID,\n        0,\n        undefined,\n        k,\n        v,\n        didChangeSize,\n        didAlter\n      );\n      if (!didAlter.value) {\n        return map;\n      }\n      newSize = map.size + (didChangeSize.value ? (v === NOT_SET ? -1 : 1) : 0);\n    }\n    if (map.__ownerID) {\n      map.size = newSize;\n      map._root = newRoot;\n      map.__hash = undefined;\n      map.__altered = true;\n      return map;\n    }\n    return newRoot ? makeMap(newSize, newRoot) : emptyMap();\n  }\n\n  function updateNode(\n    node,\n    ownerID,\n    shift,\n    keyHash,\n    key,\n    value,\n    didChangeSize,\n    didAlter\n  ) {\n    if (!node) {\n      if (value === NOT_SET) {\n        return node;\n      }\n      SetRef(didAlter);\n      SetRef(didChangeSize);\n      return new ValueNode(ownerID, keyHash, [key, value]);\n    }\n    return node.update(\n      ownerID,\n      shift,\n      keyHash,\n      key,\n      value,\n      didChangeSize,\n      didAlter\n    );\n  }\n\n  function isLeafNode(node) {\n    return (\n      node.constructor === ValueNode || node.constructor === HashCollisionNode\n    );\n  }\n\n  function mergeIntoNode(node, ownerID, shift, keyHash, entry) {\n    if (node.keyHash === keyHash) {\n      return new HashCollisionNode(ownerID, keyHash, [node.entry, entry]);\n    }\n\n    var idx1 = (shift === 0 ? node.keyHash : node.keyHash >>> shift) & MASK;\n    var idx2 = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n\n    var newNode;\n    var nodes =\n      idx1 === idx2\n        ? [mergeIntoNode(node, ownerID, shift + SHIFT, keyHash, entry)]\n        : ((newNode = new ValueNode(ownerID, keyHash, entry)),\n          idx1 < idx2 ? [node, newNode] : [newNode, node]);\n\n    return new BitmapIndexedNode(ownerID, (1 << idx1) | (1 << idx2), nodes);\n  }\n\n  function createNodes(ownerID, entries, key, value) {\n    if (!ownerID) {\n      ownerID = new OwnerID();\n    }\n    var node = new ValueNode(ownerID, hash(key), [key, value]);\n    for (var ii = 0; ii < entries.length; ii++) {\n      var entry = entries[ii];\n      node = node.update(ownerID, 0, undefined, entry[0], entry[1]);\n    }\n    return node;\n  }\n\n  function packNodes(ownerID, nodes, count, excluding) {\n    var bitmap = 0;\n    var packedII = 0;\n    var packedNodes = new Array(count);\n    for (var ii = 0, bit = 1, len = nodes.length; ii < len; ii++, bit <<= 1) {\n      var node = nodes[ii];\n      if (node !== undefined && ii !== excluding) {\n        bitmap |= bit;\n        packedNodes[packedII++] = node;\n      }\n    }\n    return new BitmapIndexedNode(ownerID, bitmap, packedNodes);\n  }\n\n  function expandNodes(ownerID, nodes, bitmap, including, node) {\n    var count = 0;\n    var expandedNodes = new Array(SIZE);\n    for (var ii = 0; bitmap !== 0; ii++, bitmap >>>= 1) {\n      expandedNodes[ii] = bitmap & 1 ? nodes[count++] : undefined;\n    }\n    expandedNodes[including] = node;\n    return new HashArrayMapNode(ownerID, count + 1, expandedNodes);\n  }\n\n  function popCount(x) {\n    x -= (x >> 1) & 0x55555555;\n    x = (x & 0x33333333) + ((x >> 2) & 0x33333333);\n    x = (x + (x >> 4)) & 0x0f0f0f0f;\n    x += x >> 8;\n    x += x >> 16;\n    return x & 0x7f;\n  }\n\n  function setAt(array, idx, val, canEdit) {\n    var newArray = canEdit ? array : arrCopy(array);\n    newArray[idx] = val;\n    return newArray;\n  }\n\n  function spliceIn(array, idx, val, canEdit) {\n    var newLen = array.length + 1;\n    if (canEdit && idx + 1 === newLen) {\n      array[idx] = val;\n      return array;\n    }\n    var newArray = new Array(newLen);\n    var after = 0;\n    for (var ii = 0; ii < newLen; ii++) {\n      if (ii === idx) {\n        newArray[ii] = val;\n        after = -1;\n      } else {\n        newArray[ii] = array[ii + after];\n      }\n    }\n    return newArray;\n  }\n\n  function spliceOut(array, idx, canEdit) {\n    var newLen = array.length - 1;\n    if (canEdit && idx === newLen) {\n      array.pop();\n      return array;\n    }\n    var newArray = new Array(newLen);\n    var after = 0;\n    for (var ii = 0; ii < newLen; ii++) {\n      if (ii === idx) {\n        after = 1;\n      }\n      newArray[ii] = array[ii + after];\n    }\n    return newArray;\n  }\n\n  var MAX_ARRAY_MAP_SIZE = SIZE / 4;\n  var MAX_BITMAP_INDEXED_SIZE = SIZE / 2;\n  var MIN_HASH_ARRAY_MAP_SIZE = SIZE / 4;\n\n  var IS_LIST_SYMBOL = '@@__IMMUTABLE_LIST__@@';\n\n  function isList(maybeList) {\n    return Boolean(maybeList && maybeList[IS_LIST_SYMBOL]);\n  }\n\n  var List = /*@__PURE__*/(function (IndexedCollection) {\n    function List(value) {\n      var empty = emptyList();\n      if (value === null || value === undefined) {\n        return empty;\n      }\n      if (isList(value)) {\n        return value;\n      }\n      var iter = IndexedCollection(value);\n      var size = iter.size;\n      if (size === 0) {\n        return empty;\n      }\n      assertNotInfinite(size);\n      if (size > 0 && size < SIZE) {\n        return makeList(0, size, SHIFT, null, new VNode(iter.toArray()));\n      }\n      return empty.withMutations(function (list) {\n        list.setSize(size);\n        iter.forEach(function (v, i) { return list.set(i, v); });\n      });\n    }\n\n    if ( IndexedCollection ) List.__proto__ = IndexedCollection;\n    List.prototype = Object.create( IndexedCollection && IndexedCollection.prototype );\n    List.prototype.constructor = List;\n\n    List.of = function of (/*...values*/) {\n      return this(arguments);\n    };\n\n    List.prototype.toString = function toString () {\n      return this.__toString('List [', ']');\n    };\n\n    // @pragma Access\n\n    List.prototype.get = function get (index, notSetValue) {\n      index = wrapIndex(this, index);\n      if (index >= 0 && index < this.size) {\n        index += this._origin;\n        var node = listNodeFor(this, index);\n        return node && node.array[index & MASK];\n      }\n      return notSetValue;\n    };\n\n    // @pragma Modification\n\n    List.prototype.set = function set (index, value) {\n      return updateList(this, index, value);\n    };\n\n    List.prototype.remove = function remove (index) {\n      return !this.has(index)\n        ? this\n        : index === 0\n        ? this.shift()\n        : index === this.size - 1\n        ? this.pop()\n        : this.splice(index, 1);\n    };\n\n    List.prototype.insert = function insert (index, value) {\n      return this.splice(index, 0, value);\n    };\n\n    List.prototype.clear = function clear () {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = this._origin = this._capacity = 0;\n        this._level = SHIFT;\n        this._root = this._tail = this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return emptyList();\n    };\n\n    List.prototype.push = function push (/*...values*/) {\n      var values = arguments;\n      var oldSize = this.size;\n      return this.withMutations(function (list) {\n        setListBounds(list, 0, oldSize + values.length);\n        for (var ii = 0; ii < values.length; ii++) {\n          list.set(oldSize + ii, values[ii]);\n        }\n      });\n    };\n\n    List.prototype.pop = function pop () {\n      return setListBounds(this, 0, -1);\n    };\n\n    List.prototype.unshift = function unshift (/*...values*/) {\n      var values = arguments;\n      return this.withMutations(function (list) {\n        setListBounds(list, -values.length);\n        for (var ii = 0; ii < values.length; ii++) {\n          list.set(ii, values[ii]);\n        }\n      });\n    };\n\n    List.prototype.shift = function shift () {\n      return setListBounds(this, 1);\n    };\n\n    // @pragma Composition\n\n    List.prototype.concat = function concat (/*...collections*/) {\n      var arguments$1 = arguments;\n\n      var seqs = [];\n      for (var i = 0; i < arguments.length; i++) {\n        var argument = arguments$1[i];\n        var seq = IndexedCollection(\n          typeof argument !== 'string' && hasIterator(argument)\n            ? argument\n            : [argument]\n        );\n        if (seq.size !== 0) {\n          seqs.push(seq);\n        }\n      }\n      if (seqs.length === 0) {\n        return this;\n      }\n      if (this.size === 0 && !this.__ownerID && seqs.length === 1) {\n        return this.constructor(seqs[0]);\n      }\n      return this.withMutations(function (list) {\n        seqs.forEach(function (seq) { return seq.forEach(function (value) { return list.push(value); }); });\n      });\n    };\n\n    List.prototype.setSize = function setSize (size) {\n      return setListBounds(this, 0, size);\n    };\n\n    List.prototype.map = function map (mapper, context) {\n      var this$1$1 = this;\n\n      return this.withMutations(function (list) {\n        for (var i = 0; i < this$1$1.size; i++) {\n          list.set(i, mapper.call(context, list.get(i), i, this$1$1));\n        }\n      });\n    };\n\n    // @pragma Iteration\n\n    List.prototype.slice = function slice (begin, end) {\n      var size = this.size;\n      if (wholeSlice(begin, end, size)) {\n        return this;\n      }\n      return setListBounds(\n        this,\n        resolveBegin(begin, size),\n        resolveEnd(end, size)\n      );\n    };\n\n    List.prototype.__iterator = function __iterator (type, reverse) {\n      var index = reverse ? this.size : 0;\n      var values = iterateList(this, reverse);\n      return new Iterator(function () {\n        var value = values();\n        return value === DONE\n          ? iteratorDone()\n          : iteratorValue(type, reverse ? --index : index++, value);\n      });\n    };\n\n    List.prototype.__iterate = function __iterate (fn, reverse) {\n      var index = reverse ? this.size : 0;\n      var values = iterateList(this, reverse);\n      var value;\n      while ((value = values()) !== DONE) {\n        if (fn(value, reverse ? --index : index++, this) === false) {\n          break;\n        }\n      }\n      return index;\n    };\n\n    List.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      if (!ownerID) {\n        if (this.size === 0) {\n          return emptyList();\n        }\n        this.__ownerID = ownerID;\n        this.__altered = false;\n        return this;\n      }\n      return makeList(\n        this._origin,\n        this._capacity,\n        this._level,\n        this._root,\n        this._tail,\n        ownerID,\n        this.__hash\n      );\n    };\n\n    return List;\n  }(IndexedCollection));\n\n  List.isList = isList;\n\n  var ListPrototype = List.prototype;\n  ListPrototype[IS_LIST_SYMBOL] = true;\n  ListPrototype[DELETE] = ListPrototype.remove;\n  ListPrototype.merge = ListPrototype.concat;\n  ListPrototype.setIn = setIn;\n  ListPrototype.deleteIn = ListPrototype.removeIn = deleteIn;\n  ListPrototype.update = update;\n  ListPrototype.updateIn = updateIn;\n  ListPrototype.mergeIn = mergeIn;\n  ListPrototype.mergeDeepIn = mergeDeepIn;\n  ListPrototype.withMutations = withMutations;\n  ListPrototype.wasAltered = wasAltered;\n  ListPrototype.asImmutable = asImmutable;\n  ListPrototype['@@transducer/init'] = ListPrototype.asMutable = asMutable;\n  ListPrototype['@@transducer/step'] = function (result, arr) {\n    return result.push(arr);\n  };\n  ListPrototype['@@transducer/result'] = function (obj) {\n    return obj.asImmutable();\n  };\n\n  var VNode = function VNode(array, ownerID) {\n    this.array = array;\n    this.ownerID = ownerID;\n  };\n\n  // TODO: seems like these methods are very similar\n\n  VNode.prototype.removeBefore = function removeBefore (ownerID, level, index) {\n    if (index === level ? 1 << level : this.array.length === 0) {\n      return this;\n    }\n    var originIndex = (index >>> level) & MASK;\n    if (originIndex >= this.array.length) {\n      return new VNode([], ownerID);\n    }\n    var removingFirst = originIndex === 0;\n    var newChild;\n    if (level > 0) {\n      var oldChild = this.array[originIndex];\n      newChild =\n        oldChild && oldChild.removeBefore(ownerID, level - SHIFT, index);\n      if (newChild === oldChild && removingFirst) {\n        return this;\n      }\n    }\n    if (removingFirst && !newChild) {\n      return this;\n    }\n    var editable = editableVNode(this, ownerID);\n    if (!removingFirst) {\n      for (var ii = 0; ii < originIndex; ii++) {\n        editable.array[ii] = undefined;\n      }\n    }\n    if (newChild) {\n      editable.array[originIndex] = newChild;\n    }\n    return editable;\n  };\n\n  VNode.prototype.removeAfter = function removeAfter (ownerID, level, index) {\n    if (index === (level ? 1 << level : 0) || this.array.length === 0) {\n      return this;\n    }\n    var sizeIndex = ((index - 1) >>> level) & MASK;\n    if (sizeIndex >= this.array.length) {\n      return this;\n    }\n\n    var newChild;\n    if (level > 0) {\n      var oldChild = this.array[sizeIndex];\n      newChild =\n        oldChild && oldChild.removeAfter(ownerID, level - SHIFT, index);\n      if (newChild === oldChild && sizeIndex === this.array.length - 1) {\n        return this;\n      }\n    }\n\n    var editable = editableVNode(this, ownerID);\n    editable.array.splice(sizeIndex + 1);\n    if (newChild) {\n      editable.array[sizeIndex] = newChild;\n    }\n    return editable;\n  };\n\n  var DONE = {};\n\n  function iterateList(list, reverse) {\n    var left = list._origin;\n    var right = list._capacity;\n    var tailPos = getTailOffset(right);\n    var tail = list._tail;\n\n    return iterateNodeOrLeaf(list._root, list._level, 0);\n\n    function iterateNodeOrLeaf(node, level, offset) {\n      return level === 0\n        ? iterateLeaf(node, offset)\n        : iterateNode(node, level, offset);\n    }\n\n    function iterateLeaf(node, offset) {\n      var array = offset === tailPos ? tail && tail.array : node && node.array;\n      var from = offset > left ? 0 : left - offset;\n      var to = right - offset;\n      if (to > SIZE) {\n        to = SIZE;\n      }\n      return function () {\n        if (from === to) {\n          return DONE;\n        }\n        var idx = reverse ? --to : from++;\n        return array && array[idx];\n      };\n    }\n\n    function iterateNode(node, level, offset) {\n      var values;\n      var array = node && node.array;\n      var from = offset > left ? 0 : (left - offset) >> level;\n      var to = ((right - offset) >> level) + 1;\n      if (to > SIZE) {\n        to = SIZE;\n      }\n      return function () {\n        while (true) {\n          if (values) {\n            var value = values();\n            if (value !== DONE) {\n              return value;\n            }\n            values = null;\n          }\n          if (from === to) {\n            return DONE;\n          }\n          var idx = reverse ? --to : from++;\n          values = iterateNodeOrLeaf(\n            array && array[idx],\n            level - SHIFT,\n            offset + (idx << level)\n          );\n        }\n      };\n    }\n  }\n\n  function makeList(origin, capacity, level, root, tail, ownerID, hash) {\n    var list = Object.create(ListPrototype);\n    list.size = capacity - origin;\n    list._origin = origin;\n    list._capacity = capacity;\n    list._level = level;\n    list._root = root;\n    list._tail = tail;\n    list.__ownerID = ownerID;\n    list.__hash = hash;\n    list.__altered = false;\n    return list;\n  }\n\n  var EMPTY_LIST;\n  function emptyList() {\n    return EMPTY_LIST || (EMPTY_LIST = makeList(0, 0, SHIFT));\n  }\n\n  function updateList(list, index, value) {\n    index = wrapIndex(list, index);\n\n    if (index !== index) {\n      return list;\n    }\n\n    if (index >= list.size || index < 0) {\n      return list.withMutations(function (list) {\n        index < 0\n          ? setListBounds(list, index).set(0, value)\n          : setListBounds(list, 0, index + 1).set(index, value);\n      });\n    }\n\n    index += list._origin;\n\n    var newTail = list._tail;\n    var newRoot = list._root;\n    var didAlter = MakeRef();\n    if (index >= getTailOffset(list._capacity)) {\n      newTail = updateVNode(newTail, list.__ownerID, 0, index, value, didAlter);\n    } else {\n      newRoot = updateVNode(\n        newRoot,\n        list.__ownerID,\n        list._level,\n        index,\n        value,\n        didAlter\n      );\n    }\n\n    if (!didAlter.value) {\n      return list;\n    }\n\n    if (list.__ownerID) {\n      list._root = newRoot;\n      list._tail = newTail;\n      list.__hash = undefined;\n      list.__altered = true;\n      return list;\n    }\n    return makeList(list._origin, list._capacity, list._level, newRoot, newTail);\n  }\n\n  function updateVNode(node, ownerID, level, index, value, didAlter) {\n    var idx = (index >>> level) & MASK;\n    var nodeHas = node && idx < node.array.length;\n    if (!nodeHas && value === undefined) {\n      return node;\n    }\n\n    var newNode;\n\n    if (level > 0) {\n      var lowerNode = node && node.array[idx];\n      var newLowerNode = updateVNode(\n        lowerNode,\n        ownerID,\n        level - SHIFT,\n        index,\n        value,\n        didAlter\n      );\n      if (newLowerNode === lowerNode) {\n        return node;\n      }\n      newNode = editableVNode(node, ownerID);\n      newNode.array[idx] = newLowerNode;\n      return newNode;\n    }\n\n    if (nodeHas && node.array[idx] === value) {\n      return node;\n    }\n\n    if (didAlter) {\n      SetRef(didAlter);\n    }\n\n    newNode = editableVNode(node, ownerID);\n    if (value === undefined && idx === newNode.array.length - 1) {\n      newNode.array.pop();\n    } else {\n      newNode.array[idx] = value;\n    }\n    return newNode;\n  }\n\n  function editableVNode(node, ownerID) {\n    if (ownerID && node && ownerID === node.ownerID) {\n      return node;\n    }\n    return new VNode(node ? node.array.slice() : [], ownerID);\n  }\n\n  function listNodeFor(list, rawIndex) {\n    if (rawIndex >= getTailOffset(list._capacity)) {\n      return list._tail;\n    }\n    if (rawIndex < 1 << (list._level + SHIFT)) {\n      var node = list._root;\n      var level = list._level;\n      while (node && level > 0) {\n        node = node.array[(rawIndex >>> level) & MASK];\n        level -= SHIFT;\n      }\n      return node;\n    }\n  }\n\n  function setListBounds(list, begin, end) {\n    // Sanitize begin & end using this shorthand for ToInt32(argument)\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n    if (begin !== undefined) {\n      begin |= 0;\n    }\n    if (end !== undefined) {\n      end |= 0;\n    }\n    var owner = list.__ownerID || new OwnerID();\n    var oldOrigin = list._origin;\n    var oldCapacity = list._capacity;\n    var newOrigin = oldOrigin + begin;\n    var newCapacity =\n      end === undefined\n        ? oldCapacity\n        : end < 0\n        ? oldCapacity + end\n        : oldOrigin + end;\n    if (newOrigin === oldOrigin && newCapacity === oldCapacity) {\n      return list;\n    }\n\n    // If it's going to end after it starts, it's empty.\n    if (newOrigin >= newCapacity) {\n      return list.clear();\n    }\n\n    var newLevel = list._level;\n    var newRoot = list._root;\n\n    // New origin might need creating a higher root.\n    var offsetShift = 0;\n    while (newOrigin + offsetShift < 0) {\n      newRoot = new VNode(\n        newRoot && newRoot.array.length ? [undefined, newRoot] : [],\n        owner\n      );\n      newLevel += SHIFT;\n      offsetShift += 1 << newLevel;\n    }\n    if (offsetShift) {\n      newOrigin += offsetShift;\n      oldOrigin += offsetShift;\n      newCapacity += offsetShift;\n      oldCapacity += offsetShift;\n    }\n\n    var oldTailOffset = getTailOffset(oldCapacity);\n    var newTailOffset = getTailOffset(newCapacity);\n\n    // New size might need creating a higher root.\n    while (newTailOffset >= 1 << (newLevel + SHIFT)) {\n      newRoot = new VNode(\n        newRoot && newRoot.array.length ? [newRoot] : [],\n        owner\n      );\n      newLevel += SHIFT;\n    }\n\n    // Locate or create the new tail.\n    var oldTail = list._tail;\n    var newTail =\n      newTailOffset < oldTailOffset\n        ? listNodeFor(list, newCapacity - 1)\n        : newTailOffset > oldTailOffset\n        ? new VNode([], owner)\n        : oldTail;\n\n    // Merge Tail into tree.\n    if (\n      oldTail &&\n      newTailOffset > oldTailOffset &&\n      newOrigin < oldCapacity &&\n      oldTail.array.length\n    ) {\n      newRoot = editableVNode(newRoot, owner);\n      var node = newRoot;\n      for (var level = newLevel; level > SHIFT; level -= SHIFT) {\n        var idx = (oldTailOffset >>> level) & MASK;\n        node = node.array[idx] = editableVNode(node.array[idx], owner);\n      }\n      node.array[(oldTailOffset >>> SHIFT) & MASK] = oldTail;\n    }\n\n    // If the size has been reduced, there's a chance the tail needs to be trimmed.\n    if (newCapacity < oldCapacity) {\n      newTail = newTail && newTail.removeAfter(owner, 0, newCapacity);\n    }\n\n    // If the new origin is within the tail, then we do not need a root.\n    if (newOrigin >= newTailOffset) {\n      newOrigin -= newTailOffset;\n      newCapacity -= newTailOffset;\n      newLevel = SHIFT;\n      newRoot = null;\n      newTail = newTail && newTail.removeBefore(owner, 0, newOrigin);\n\n      // Otherwise, if the root has been trimmed, garbage collect.\n    } else if (newOrigin > oldOrigin || newTailOffset < oldTailOffset) {\n      offsetShift = 0;\n\n      // Identify the new top root node of the subtree of the old root.\n      while (newRoot) {\n        var beginIndex = (newOrigin >>> newLevel) & MASK;\n        if ((beginIndex !== newTailOffset >>> newLevel) & MASK) {\n          break;\n        }\n        if (beginIndex) {\n          offsetShift += (1 << newLevel) * beginIndex;\n        }\n        newLevel -= SHIFT;\n        newRoot = newRoot.array[beginIndex];\n      }\n\n      // Trim the new sides of the new root.\n      if (newRoot && newOrigin > oldOrigin) {\n        newRoot = newRoot.removeBefore(owner, newLevel, newOrigin - offsetShift);\n      }\n      if (newRoot && newTailOffset < oldTailOffset) {\n        newRoot = newRoot.removeAfter(\n          owner,\n          newLevel,\n          newTailOffset - offsetShift\n        );\n      }\n      if (offsetShift) {\n        newOrigin -= offsetShift;\n        newCapacity -= offsetShift;\n      }\n    }\n\n    if (list.__ownerID) {\n      list.size = newCapacity - newOrigin;\n      list._origin = newOrigin;\n      list._capacity = newCapacity;\n      list._level = newLevel;\n      list._root = newRoot;\n      list._tail = newTail;\n      list.__hash = undefined;\n      list.__altered = true;\n      return list;\n    }\n    return makeList(newOrigin, newCapacity, newLevel, newRoot, newTail);\n  }\n\n  function getTailOffset(size) {\n    return size < SIZE ? 0 : ((size - 1) >>> SHIFT) << SHIFT;\n  }\n\n  var OrderedMap = /*@__PURE__*/(function (Map) {\n    function OrderedMap(value) {\n      return value === null || value === undefined\n        ? emptyOrderedMap()\n        : isOrderedMap(value)\n        ? value\n        : emptyOrderedMap().withMutations(function (map) {\n            var iter = KeyedCollection(value);\n            assertNotInfinite(iter.size);\n            iter.forEach(function (v, k) { return map.set(k, v); });\n          });\n    }\n\n    if ( Map ) OrderedMap.__proto__ = Map;\n    OrderedMap.prototype = Object.create( Map && Map.prototype );\n    OrderedMap.prototype.constructor = OrderedMap;\n\n    OrderedMap.of = function of (/*...values*/) {\n      return this(arguments);\n    };\n\n    OrderedMap.prototype.toString = function toString () {\n      return this.__toString('OrderedMap {', '}');\n    };\n\n    // @pragma Access\n\n    OrderedMap.prototype.get = function get (k, notSetValue) {\n      var index = this._map.get(k);\n      return index !== undefined ? this._list.get(index)[1] : notSetValue;\n    };\n\n    // @pragma Modification\n\n    OrderedMap.prototype.clear = function clear () {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = 0;\n        this._map.clear();\n        this._list.clear();\n        this.__altered = true;\n        return this;\n      }\n      return emptyOrderedMap();\n    };\n\n    OrderedMap.prototype.set = function set (k, v) {\n      return updateOrderedMap(this, k, v);\n    };\n\n    OrderedMap.prototype.remove = function remove (k) {\n      return updateOrderedMap(this, k, NOT_SET);\n    };\n\n    OrderedMap.prototype.__iterate = function __iterate (fn, reverse) {\n      var this$1$1 = this;\n\n      return this._list.__iterate(\n        function (entry) { return entry && fn(entry[1], entry[0], this$1$1); },\n        reverse\n      );\n    };\n\n    OrderedMap.prototype.__iterator = function __iterator (type, reverse) {\n      return this._list.fromEntrySeq().__iterator(type, reverse);\n    };\n\n    OrderedMap.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      var newMap = this._map.__ensureOwner(ownerID);\n      var newList = this._list.__ensureOwner(ownerID);\n      if (!ownerID) {\n        if (this.size === 0) {\n          return emptyOrderedMap();\n        }\n        this.__ownerID = ownerID;\n        this.__altered = false;\n        this._map = newMap;\n        this._list = newList;\n        return this;\n      }\n      return makeOrderedMap(newMap, newList, ownerID, this.__hash);\n    };\n\n    return OrderedMap;\n  }(Map));\n\n  OrderedMap.isOrderedMap = isOrderedMap;\n\n  OrderedMap.prototype[IS_ORDERED_SYMBOL] = true;\n  OrderedMap.prototype[DELETE] = OrderedMap.prototype.remove;\n\n  function makeOrderedMap(map, list, ownerID, hash) {\n    var omap = Object.create(OrderedMap.prototype);\n    omap.size = map ? map.size : 0;\n    omap._map = map;\n    omap._list = list;\n    omap.__ownerID = ownerID;\n    omap.__hash = hash;\n    omap.__altered = false;\n    return omap;\n  }\n\n  var EMPTY_ORDERED_MAP;\n  function emptyOrderedMap() {\n    return (\n      EMPTY_ORDERED_MAP ||\n      (EMPTY_ORDERED_MAP = makeOrderedMap(emptyMap(), emptyList()))\n    );\n  }\n\n  function updateOrderedMap(omap, k, v) {\n    var map = omap._map;\n    var list = omap._list;\n    var i = map.get(k);\n    var has = i !== undefined;\n    var newMap;\n    var newList;\n    if (v === NOT_SET) {\n      // removed\n      if (!has) {\n        return omap;\n      }\n      if (list.size >= SIZE && list.size >= map.size * 2) {\n        newList = list.filter(function (entry, idx) { return entry !== undefined && i !== idx; });\n        newMap = newList\n          .toKeyedSeq()\n          .map(function (entry) { return entry[0]; })\n          .flip()\n          .toMap();\n        if (omap.__ownerID) {\n          newMap.__ownerID = newList.__ownerID = omap.__ownerID;\n        }\n      } else {\n        newMap = map.remove(k);\n        newList = i === list.size - 1 ? list.pop() : list.set(i, undefined);\n      }\n    } else if (has) {\n      if (v === list.get(i)[1]) {\n        return omap;\n      }\n      newMap = map;\n      newList = list.set(i, [k, v]);\n    } else {\n      newMap = map.set(k, list.size);\n      newList = list.set(list.size, [k, v]);\n    }\n    if (omap.__ownerID) {\n      omap.size = newMap.size;\n      omap._map = newMap;\n      omap._list = newList;\n      omap.__hash = undefined;\n      omap.__altered = true;\n      return omap;\n    }\n    return makeOrderedMap(newMap, newList);\n  }\n\n  var IS_STACK_SYMBOL = '@@__IMMUTABLE_STACK__@@';\n\n  function isStack(maybeStack) {\n    return Boolean(maybeStack && maybeStack[IS_STACK_SYMBOL]);\n  }\n\n  var Stack = /*@__PURE__*/(function (IndexedCollection) {\n    function Stack(value) {\n      return value === null || value === undefined\n        ? emptyStack()\n        : isStack(value)\n        ? value\n        : emptyStack().pushAll(value);\n    }\n\n    if ( IndexedCollection ) Stack.__proto__ = IndexedCollection;\n    Stack.prototype = Object.create( IndexedCollection && IndexedCollection.prototype );\n    Stack.prototype.constructor = Stack;\n\n    Stack.of = function of (/*...values*/) {\n      return this(arguments);\n    };\n\n    Stack.prototype.toString = function toString () {\n      return this.__toString('Stack [', ']');\n    };\n\n    // @pragma Access\n\n    Stack.prototype.get = function get (index, notSetValue) {\n      var head = this._head;\n      index = wrapIndex(this, index);\n      while (head && index--) {\n        head = head.next;\n      }\n      return head ? head.value : notSetValue;\n    };\n\n    Stack.prototype.peek = function peek () {\n      return this._head && this._head.value;\n    };\n\n    // @pragma Modification\n\n    Stack.prototype.push = function push (/*...values*/) {\n      var arguments$1 = arguments;\n\n      if (arguments.length === 0) {\n        return this;\n      }\n      var newSize = this.size + arguments.length;\n      var head = this._head;\n      for (var ii = arguments.length - 1; ii >= 0; ii--) {\n        head = {\n          value: arguments$1[ii],\n          next: head,\n        };\n      }\n      if (this.__ownerID) {\n        this.size = newSize;\n        this._head = head;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return makeStack(newSize, head);\n    };\n\n    Stack.prototype.pushAll = function pushAll (iter) {\n      iter = IndexedCollection(iter);\n      if (iter.size === 0) {\n        return this;\n      }\n      if (this.size === 0 && isStack(iter)) {\n        return iter;\n      }\n      assertNotInfinite(iter.size);\n      var newSize = this.size;\n      var head = this._head;\n      iter.__iterate(function (value) {\n        newSize++;\n        head = {\n          value: value,\n          next: head,\n        };\n      }, /* reverse */ true);\n      if (this.__ownerID) {\n        this.size = newSize;\n        this._head = head;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return makeStack(newSize, head);\n    };\n\n    Stack.prototype.pop = function pop () {\n      return this.slice(1);\n    };\n\n    Stack.prototype.clear = function clear () {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = 0;\n        this._head = undefined;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return emptyStack();\n    };\n\n    Stack.prototype.slice = function slice (begin, end) {\n      if (wholeSlice(begin, end, this.size)) {\n        return this;\n      }\n      var resolvedBegin = resolveBegin(begin, this.size);\n      var resolvedEnd = resolveEnd(end, this.size);\n      if (resolvedEnd !== this.size) {\n        // super.slice(begin, end);\n        return IndexedCollection.prototype.slice.call(this, begin, end);\n      }\n      var newSize = this.size - resolvedBegin;\n      var head = this._head;\n      while (resolvedBegin--) {\n        head = head.next;\n      }\n      if (this.__ownerID) {\n        this.size = newSize;\n        this._head = head;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return makeStack(newSize, head);\n    };\n\n    // @pragma Mutability\n\n    Stack.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      if (!ownerID) {\n        if (this.size === 0) {\n          return emptyStack();\n        }\n        this.__ownerID = ownerID;\n        this.__altered = false;\n        return this;\n      }\n      return makeStack(this.size, this._head, ownerID, this.__hash);\n    };\n\n    // @pragma Iteration\n\n    Stack.prototype.__iterate = function __iterate (fn, reverse) {\n      var this$1$1 = this;\n\n      if (reverse) {\n        return new ArraySeq(this.toArray()).__iterate(\n          function (v, k) { return fn(v, k, this$1$1); },\n          reverse\n        );\n      }\n      var iterations = 0;\n      var node = this._head;\n      while (node) {\n        if (fn(node.value, iterations++, this) === false) {\n          break;\n        }\n        node = node.next;\n      }\n      return iterations;\n    };\n\n    Stack.prototype.__iterator = function __iterator (type, reverse) {\n      if (reverse) {\n        return new ArraySeq(this.toArray()).__iterator(type, reverse);\n      }\n      var iterations = 0;\n      var node = this._head;\n      return new Iterator(function () {\n        if (node) {\n          var value = node.value;\n          node = node.next;\n          return iteratorValue(type, iterations++, value);\n        }\n        return iteratorDone();\n      });\n    };\n\n    return Stack;\n  }(IndexedCollection));\n\n  Stack.isStack = isStack;\n\n  var StackPrototype = Stack.prototype;\n  StackPrototype[IS_STACK_SYMBOL] = true;\n  StackPrototype.shift = StackPrototype.pop;\n  StackPrototype.unshift = StackPrototype.push;\n  StackPrototype.unshiftAll = StackPrototype.pushAll;\n  StackPrototype.withMutations = withMutations;\n  StackPrototype.wasAltered = wasAltered;\n  StackPrototype.asImmutable = asImmutable;\n  StackPrototype['@@transducer/init'] = StackPrototype.asMutable = asMutable;\n  StackPrototype['@@transducer/step'] = function (result, arr) {\n    return result.unshift(arr);\n  };\n  StackPrototype['@@transducer/result'] = function (obj) {\n    return obj.asImmutable();\n  };\n\n  function makeStack(size, head, ownerID, hash) {\n    var map = Object.create(StackPrototype);\n    map.size = size;\n    map._head = head;\n    map.__ownerID = ownerID;\n    map.__hash = hash;\n    map.__altered = false;\n    return map;\n  }\n\n  var EMPTY_STACK;\n  function emptyStack() {\n    return EMPTY_STACK || (EMPTY_STACK = makeStack(0));\n  }\n\n  var IS_SET_SYMBOL = '@@__IMMUTABLE_SET__@@';\n\n  function isSet(maybeSet) {\n    return Boolean(maybeSet && maybeSet[IS_SET_SYMBOL]);\n  }\n\n  function isOrderedSet(maybeOrderedSet) {\n    return isSet(maybeOrderedSet) && isOrdered(maybeOrderedSet);\n  }\n\n  function deepEqual(a, b) {\n    if (a === b) {\n      return true;\n    }\n\n    if (\n      !isCollection(b) ||\n      (a.size !== undefined && b.size !== undefined && a.size !== b.size) ||\n      (a.__hash !== undefined &&\n        b.__hash !== undefined &&\n        a.__hash !== b.__hash) ||\n      isKeyed(a) !== isKeyed(b) ||\n      isIndexed(a) !== isIndexed(b) ||\n      isOrdered(a) !== isOrdered(b)\n    ) {\n      return false;\n    }\n\n    if (a.size === 0 && b.size === 0) {\n      return true;\n    }\n\n    var notAssociative = !isAssociative(a);\n\n    if (isOrdered(a)) {\n      var entries = a.entries();\n      return (\n        b.every(function (v, k) {\n          var entry = entries.next().value;\n          return entry && is(entry[1], v) && (notAssociative || is(entry[0], k));\n        }) && entries.next().done\n      );\n    }\n\n    var flipped = false;\n\n    if (a.size === undefined) {\n      if (b.size === undefined) {\n        if (typeof a.cacheResult === 'function') {\n          a.cacheResult();\n        }\n      } else {\n        flipped = true;\n        var _ = a;\n        a = b;\n        b = _;\n      }\n    }\n\n    var allEqual = true;\n    var bSize = b.__iterate(function (v, k) {\n      if (\n        notAssociative\n          ? !a.has(v)\n          : flipped\n          ? !is(v, a.get(k, NOT_SET))\n          : !is(a.get(k, NOT_SET), v)\n      ) {\n        allEqual = false;\n        return false;\n      }\n    });\n\n    return allEqual && a.size === bSize;\n  }\n\n  function mixin(ctor, methods) {\n    var keyCopier = function (key) {\n      ctor.prototype[key] = methods[key];\n    };\n    Object.keys(methods).forEach(keyCopier);\n    Object.getOwnPropertySymbols &&\n      Object.getOwnPropertySymbols(methods).forEach(keyCopier);\n    return ctor;\n  }\n\n  function toJS(value) {\n    if (!value || typeof value !== 'object') {\n      return value;\n    }\n    if (!isCollection(value)) {\n      if (!isDataStructure(value)) {\n        return value;\n      }\n      value = Seq(value);\n    }\n    if (isKeyed(value)) {\n      var result$1 = {};\n      value.__iterate(function (v, k) {\n        result$1[k] = toJS(v);\n      });\n      return result$1;\n    }\n    var result = [];\n    value.__iterate(function (v) {\n      result.push(toJS(v));\n    });\n    return result;\n  }\n\n  var Set = /*@__PURE__*/(function (SetCollection) {\n    function Set(value) {\n      return value === null || value === undefined\n        ? emptySet()\n        : isSet(value) && !isOrdered(value)\n        ? value\n        : emptySet().withMutations(function (set) {\n            var iter = SetCollection(value);\n            assertNotInfinite(iter.size);\n            iter.forEach(function (v) { return set.add(v); });\n          });\n    }\n\n    if ( SetCollection ) Set.__proto__ = SetCollection;\n    Set.prototype = Object.create( SetCollection && SetCollection.prototype );\n    Set.prototype.constructor = Set;\n\n    Set.of = function of (/*...values*/) {\n      return this(arguments);\n    };\n\n    Set.fromKeys = function fromKeys (value) {\n      return this(KeyedCollection(value).keySeq());\n    };\n\n    Set.intersect = function intersect (sets) {\n      sets = Collection(sets).toArray();\n      return sets.length\n        ? SetPrototype.intersect.apply(Set(sets.pop()), sets)\n        : emptySet();\n    };\n\n    Set.union = function union (sets) {\n      sets = Collection(sets).toArray();\n      return sets.length\n        ? SetPrototype.union.apply(Set(sets.pop()), sets)\n        : emptySet();\n    };\n\n    Set.prototype.toString = function toString () {\n      return this.__toString('Set {', '}');\n    };\n\n    // @pragma Access\n\n    Set.prototype.has = function has (value) {\n      return this._map.has(value);\n    };\n\n    // @pragma Modification\n\n    Set.prototype.add = function add (value) {\n      return updateSet(this, this._map.set(value, value));\n    };\n\n    Set.prototype.remove = function remove (value) {\n      return updateSet(this, this._map.remove(value));\n    };\n\n    Set.prototype.clear = function clear () {\n      return updateSet(this, this._map.clear());\n    };\n\n    // @pragma Composition\n\n    Set.prototype.map = function map (mapper, context) {\n      var this$1$1 = this;\n\n      // keep track if the set is altered by the map function\n      var didChanges = false;\n\n      var newMap = updateSet(\n        this,\n        this._map.mapEntries(function (ref) {\n          var v = ref[1];\n\n          var mapped = mapper.call(context, v, v, this$1$1);\n\n          if (mapped !== v) {\n            didChanges = true;\n          }\n\n          return [mapped, mapped];\n        }, context)\n      );\n\n      return didChanges ? newMap : this;\n    };\n\n    Set.prototype.union = function union () {\n      var iters = [], len = arguments.length;\n      while ( len-- ) iters[ len ] = arguments[ len ];\n\n      iters = iters.filter(function (x) { return x.size !== 0; });\n      if (iters.length === 0) {\n        return this;\n      }\n      if (this.size === 0 && !this.__ownerID && iters.length === 1) {\n        return this.constructor(iters[0]);\n      }\n      return this.withMutations(function (set) {\n        for (var ii = 0; ii < iters.length; ii++) {\n          SetCollection(iters[ii]).forEach(function (value) { return set.add(value); });\n        }\n      });\n    };\n\n    Set.prototype.intersect = function intersect () {\n      var iters = [], len = arguments.length;\n      while ( len-- ) iters[ len ] = arguments[ len ];\n\n      if (iters.length === 0) {\n        return this;\n      }\n      iters = iters.map(function (iter) { return SetCollection(iter); });\n      var toRemove = [];\n      this.forEach(function (value) {\n        if (!iters.every(function (iter) { return iter.includes(value); })) {\n          toRemove.push(value);\n        }\n      });\n      return this.withMutations(function (set) {\n        toRemove.forEach(function (value) {\n          set.remove(value);\n        });\n      });\n    };\n\n    Set.prototype.subtract = function subtract () {\n      var iters = [], len = arguments.length;\n      while ( len-- ) iters[ len ] = arguments[ len ];\n\n      if (iters.length === 0) {\n        return this;\n      }\n      iters = iters.map(function (iter) { return SetCollection(iter); });\n      var toRemove = [];\n      this.forEach(function (value) {\n        if (iters.some(function (iter) { return iter.includes(value); })) {\n          toRemove.push(value);\n        }\n      });\n      return this.withMutations(function (set) {\n        toRemove.forEach(function (value) {\n          set.remove(value);\n        });\n      });\n    };\n\n    Set.prototype.sort = function sort (comparator) {\n      // Late binding\n      return OrderedSet(sortFactory(this, comparator));\n    };\n\n    Set.prototype.sortBy = function sortBy (mapper, comparator) {\n      // Late binding\n      return OrderedSet(sortFactory(this, comparator, mapper));\n    };\n\n    Set.prototype.wasAltered = function wasAltered () {\n      return this._map.wasAltered();\n    };\n\n    Set.prototype.__iterate = function __iterate (fn, reverse) {\n      var this$1$1 = this;\n\n      return this._map.__iterate(function (k) { return fn(k, k, this$1$1); }, reverse);\n    };\n\n    Set.prototype.__iterator = function __iterator (type, reverse) {\n      return this._map.__iterator(type, reverse);\n    };\n\n    Set.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      var newMap = this._map.__ensureOwner(ownerID);\n      if (!ownerID) {\n        if (this.size === 0) {\n          return this.__empty();\n        }\n        this.__ownerID = ownerID;\n        this._map = newMap;\n        return this;\n      }\n      return this.__make(newMap, ownerID);\n    };\n\n    return Set;\n  }(SetCollection));\n\n  Set.isSet = isSet;\n\n  var SetPrototype = Set.prototype;\n  SetPrototype[IS_SET_SYMBOL] = true;\n  SetPrototype[DELETE] = SetPrototype.remove;\n  SetPrototype.merge = SetPrototype.concat = SetPrototype.union;\n  SetPrototype.withMutations = withMutations;\n  SetPrototype.asImmutable = asImmutable;\n  SetPrototype['@@transducer/init'] = SetPrototype.asMutable = asMutable;\n  SetPrototype['@@transducer/step'] = function (result, arr) {\n    return result.add(arr);\n  };\n  SetPrototype['@@transducer/result'] = function (obj) {\n    return obj.asImmutable();\n  };\n\n  SetPrototype.__empty = emptySet;\n  SetPrototype.__make = makeSet;\n\n  function updateSet(set, newMap) {\n    if (set.__ownerID) {\n      set.size = newMap.size;\n      set._map = newMap;\n      return set;\n    }\n    return newMap === set._map\n      ? set\n      : newMap.size === 0\n      ? set.__empty()\n      : set.__make(newMap);\n  }\n\n  function makeSet(map, ownerID) {\n    var set = Object.create(SetPrototype);\n    set.size = map ? map.size : 0;\n    set._map = map;\n    set.__ownerID = ownerID;\n    return set;\n  }\n\n  var EMPTY_SET;\n  function emptySet() {\n    return EMPTY_SET || (EMPTY_SET = makeSet(emptyMap()));\n  }\n\n  /**\n   * Returns a lazy seq of nums from start (inclusive) to end\n   * (exclusive), by step, where start defaults to 0, step to 1, and end to\n   * infinity. When start is equal to end, returns empty list.\n   */\n  var Range = /*@__PURE__*/(function (IndexedSeq) {\n    function Range(start, end, step) {\n      if (!(this instanceof Range)) {\n        return new Range(start, end, step);\n      }\n      invariant(step !== 0, 'Cannot step a Range by 0');\n      start = start || 0;\n      if (end === undefined) {\n        end = Infinity;\n      }\n      step = step === undefined ? 1 : Math.abs(step);\n      if (end < start) {\n        step = -step;\n      }\n      this._start = start;\n      this._end = end;\n      this._step = step;\n      this.size = Math.max(0, Math.ceil((end - start) / step - 1) + 1);\n      if (this.size === 0) {\n        if (EMPTY_RANGE) {\n          return EMPTY_RANGE;\n        }\n        EMPTY_RANGE = this;\n      }\n    }\n\n    if ( IndexedSeq ) Range.__proto__ = IndexedSeq;\n    Range.prototype = Object.create( IndexedSeq && IndexedSeq.prototype );\n    Range.prototype.constructor = Range;\n\n    Range.prototype.toString = function toString () {\n      if (this.size === 0) {\n        return 'Range []';\n      }\n      return (\n        'Range [ ' +\n        this._start +\n        '...' +\n        this._end +\n        (this._step !== 1 ? ' by ' + this._step : '') +\n        ' ]'\n      );\n    };\n\n    Range.prototype.get = function get (index, notSetValue) {\n      return this.has(index)\n        ? this._start + wrapIndex(this, index) * this._step\n        : notSetValue;\n    };\n\n    Range.prototype.includes = function includes (searchValue) {\n      var possibleIndex = (searchValue - this._start) / this._step;\n      return (\n        possibleIndex >= 0 &&\n        possibleIndex < this.size &&\n        possibleIndex === Math.floor(possibleIndex)\n      );\n    };\n\n    Range.prototype.slice = function slice (begin, end) {\n      if (wholeSlice(begin, end, this.size)) {\n        return this;\n      }\n      begin = resolveBegin(begin, this.size);\n      end = resolveEnd(end, this.size);\n      if (end <= begin) {\n        return new Range(0, 0);\n      }\n      return new Range(\n        this.get(begin, this._end),\n        this.get(end, this._end),\n        this._step\n      );\n    };\n\n    Range.prototype.indexOf = function indexOf (searchValue) {\n      var offsetValue = searchValue - this._start;\n      if (offsetValue % this._step === 0) {\n        var index = offsetValue / this._step;\n        if (index >= 0 && index < this.size) {\n          return index;\n        }\n      }\n      return -1;\n    };\n\n    Range.prototype.lastIndexOf = function lastIndexOf (searchValue) {\n      return this.indexOf(searchValue);\n    };\n\n    Range.prototype.__iterate = function __iterate (fn, reverse) {\n      var size = this.size;\n      var step = this._step;\n      var value = reverse ? this._start + (size - 1) * step : this._start;\n      var i = 0;\n      while (i !== size) {\n        if (fn(value, reverse ? size - ++i : i++, this) === false) {\n          break;\n        }\n        value += reverse ? -step : step;\n      }\n      return i;\n    };\n\n    Range.prototype.__iterator = function __iterator (type, reverse) {\n      var size = this.size;\n      var step = this._step;\n      var value = reverse ? this._start + (size - 1) * step : this._start;\n      var i = 0;\n      return new Iterator(function () {\n        if (i === size) {\n          return iteratorDone();\n        }\n        var v = value;\n        value += reverse ? -step : step;\n        return iteratorValue(type, reverse ? size - ++i : i++, v);\n      });\n    };\n\n    Range.prototype.equals = function equals (other) {\n      return other instanceof Range\n        ? this._start === other._start &&\n            this._end === other._end &&\n            this._step === other._step\n        : deepEqual(this, other);\n    };\n\n    return Range;\n  }(IndexedSeq));\n\n  var EMPTY_RANGE;\n\n  function getIn$1(collection, searchKeyPath, notSetValue) {\n    var keyPath = coerceKeyPath(searchKeyPath);\n    var i = 0;\n    while (i !== keyPath.length) {\n      collection = get(collection, keyPath[i++], NOT_SET);\n      if (collection === NOT_SET) {\n        return notSetValue;\n      }\n    }\n    return collection;\n  }\n\n  function getIn(searchKeyPath, notSetValue) {\n    return getIn$1(this, searchKeyPath, notSetValue);\n  }\n\n  function hasIn$1(collection, keyPath) {\n    return getIn$1(collection, keyPath, NOT_SET) !== NOT_SET;\n  }\n\n  function hasIn(searchKeyPath) {\n    return hasIn$1(this, searchKeyPath);\n  }\n\n  function toObject() {\n    assertNotInfinite(this.size);\n    var object = {};\n    this.__iterate(function (v, k) {\n      object[k] = v;\n    });\n    return object;\n  }\n\n  // Note: all of these methods are deprecated.\n  Collection.isIterable = isCollection;\n  Collection.isKeyed = isKeyed;\n  Collection.isIndexed = isIndexed;\n  Collection.isAssociative = isAssociative;\n  Collection.isOrdered = isOrdered;\n\n  Collection.Iterator = Iterator;\n\n  mixin(Collection, {\n    // ### Conversion to other types\n\n    toArray: function toArray() {\n      assertNotInfinite(this.size);\n      var array = new Array(this.size || 0);\n      var useTuples = isKeyed(this);\n      var i = 0;\n      this.__iterate(function (v, k) {\n        // Keyed collections produce an array of tuples.\n        array[i++] = useTuples ? [k, v] : v;\n      });\n      return array;\n    },\n\n    toIndexedSeq: function toIndexedSeq() {\n      return new ToIndexedSequence(this);\n    },\n\n    toJS: function toJS$1() {\n      return toJS(this);\n    },\n\n    toKeyedSeq: function toKeyedSeq() {\n      return new ToKeyedSequence(this, true);\n    },\n\n    toMap: function toMap() {\n      // Use Late Binding here to solve the circular dependency.\n      return Map(this.toKeyedSeq());\n    },\n\n    toObject: toObject,\n\n    toOrderedMap: function toOrderedMap() {\n      // Use Late Binding here to solve the circular dependency.\n      return OrderedMap(this.toKeyedSeq());\n    },\n\n    toOrderedSet: function toOrderedSet() {\n      // Use Late Binding here to solve the circular dependency.\n      return OrderedSet(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    toSet: function toSet() {\n      // Use Late Binding here to solve the circular dependency.\n      return Set(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    toSetSeq: function toSetSeq() {\n      return new ToSetSequence(this);\n    },\n\n    toSeq: function toSeq() {\n      return isIndexed(this)\n        ? this.toIndexedSeq()\n        : isKeyed(this)\n        ? this.toKeyedSeq()\n        : this.toSetSeq();\n    },\n\n    toStack: function toStack() {\n      // Use Late Binding here to solve the circular dependency.\n      return Stack(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    toList: function toList() {\n      // Use Late Binding here to solve the circular dependency.\n      return List(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    // ### Common JavaScript methods and properties\n\n    toString: function toString() {\n      return '[Collection]';\n    },\n\n    __toString: function __toString(head, tail) {\n      if (this.size === 0) {\n        return head + tail;\n      }\n      return (\n        head +\n        ' ' +\n        this.toSeq().map(this.__toStringMapper).join(', ') +\n        ' ' +\n        tail\n      );\n    },\n\n    // ### ES6 Collection methods (ES6 Array and Map)\n\n    concat: function concat() {\n      var values = [], len = arguments.length;\n      while ( len-- ) values[ len ] = arguments[ len ];\n\n      return reify(this, concatFactory(this, values));\n    },\n\n    includes: function includes(searchValue) {\n      return this.some(function (value) { return is(value, searchValue); });\n    },\n\n    entries: function entries() {\n      return this.__iterator(ITERATE_ENTRIES);\n    },\n\n    every: function every(predicate, context) {\n      assertNotInfinite(this.size);\n      var returnValue = true;\n      this.__iterate(function (v, k, c) {\n        if (!predicate.call(context, v, k, c)) {\n          returnValue = false;\n          return false;\n        }\n      });\n      return returnValue;\n    },\n\n    filter: function filter(predicate, context) {\n      return reify(this, filterFactory(this, predicate, context, true));\n    },\n\n    find: function find(predicate, context, notSetValue) {\n      var entry = this.findEntry(predicate, context);\n      return entry ? entry[1] : notSetValue;\n    },\n\n    forEach: function forEach(sideEffect, context) {\n      assertNotInfinite(this.size);\n      return this.__iterate(context ? sideEffect.bind(context) : sideEffect);\n    },\n\n    join: function join(separator) {\n      assertNotInfinite(this.size);\n      separator = separator !== undefined ? '' + separator : ',';\n      var joined = '';\n      var isFirst = true;\n      this.__iterate(function (v) {\n        isFirst ? (isFirst = false) : (joined += separator);\n        joined += v !== null && v !== undefined ? v.toString() : '';\n      });\n      return joined;\n    },\n\n    keys: function keys() {\n      return this.__iterator(ITERATE_KEYS);\n    },\n\n    map: function map(mapper, context) {\n      return reify(this, mapFactory(this, mapper, context));\n    },\n\n    reduce: function reduce$1(reducer, initialReduction, context) {\n      return reduce(\n        this,\n        reducer,\n        initialReduction,\n        context,\n        arguments.length < 2,\n        false\n      );\n    },\n\n    reduceRight: function reduceRight(reducer, initialReduction, context) {\n      return reduce(\n        this,\n        reducer,\n        initialReduction,\n        context,\n        arguments.length < 2,\n        true\n      );\n    },\n\n    reverse: function reverse() {\n      return reify(this, reverseFactory(this, true));\n    },\n\n    slice: function slice(begin, end) {\n      return reify(this, sliceFactory(this, begin, end, true));\n    },\n\n    some: function some(predicate, context) {\n      return !this.every(not(predicate), context);\n    },\n\n    sort: function sort(comparator) {\n      return reify(this, sortFactory(this, comparator));\n    },\n\n    values: function values() {\n      return this.__iterator(ITERATE_VALUES);\n    },\n\n    // ### More sequential methods\n\n    butLast: function butLast() {\n      return this.slice(0, -1);\n    },\n\n    isEmpty: function isEmpty() {\n      return this.size !== undefined ? this.size === 0 : !this.some(function () { return true; });\n    },\n\n    count: function count(predicate, context) {\n      return ensureSize(\n        predicate ? this.toSeq().filter(predicate, context) : this\n      );\n    },\n\n    countBy: function countBy(grouper, context) {\n      return countByFactory(this, grouper, context);\n    },\n\n    equals: function equals(other) {\n      return deepEqual(this, other);\n    },\n\n    entrySeq: function entrySeq() {\n      var collection = this;\n      if (collection._cache) {\n        // We cache as an entries array, so we can just return the cache!\n        return new ArraySeq(collection._cache);\n      }\n      var entriesSequence = collection.toSeq().map(entryMapper).toIndexedSeq();\n      entriesSequence.fromEntrySeq = function () { return collection.toSeq(); };\n      return entriesSequence;\n    },\n\n    filterNot: function filterNot(predicate, context) {\n      return this.filter(not(predicate), context);\n    },\n\n    findEntry: function findEntry(predicate, context, notSetValue) {\n      var found = notSetValue;\n      this.__iterate(function (v, k, c) {\n        if (predicate.call(context, v, k, c)) {\n          found = [k, v];\n          return false;\n        }\n      });\n      return found;\n    },\n\n    findKey: function findKey(predicate, context) {\n      var entry = this.findEntry(predicate, context);\n      return entry && entry[0];\n    },\n\n    findLast: function findLast(predicate, context, notSetValue) {\n      return this.toKeyedSeq().reverse().find(predicate, context, notSetValue);\n    },\n\n    findLastEntry: function findLastEntry(predicate, context, notSetValue) {\n      return this.toKeyedSeq()\n        .reverse()\n        .findEntry(predicate, context, notSetValue);\n    },\n\n    findLastKey: function findLastKey(predicate, context) {\n      return this.toKeyedSeq().reverse().findKey(predicate, context);\n    },\n\n    first: function first(notSetValue) {\n      return this.find(returnTrue, null, notSetValue);\n    },\n\n    flatMap: function flatMap(mapper, context) {\n      return reify(this, flatMapFactory(this, mapper, context));\n    },\n\n    flatten: function flatten(depth) {\n      return reify(this, flattenFactory(this, depth, true));\n    },\n\n    fromEntrySeq: function fromEntrySeq() {\n      return new FromEntriesSequence(this);\n    },\n\n    get: function get(searchKey, notSetValue) {\n      return this.find(function (_, key) { return is(key, searchKey); }, undefined, notSetValue);\n    },\n\n    getIn: getIn,\n\n    groupBy: function groupBy(grouper, context) {\n      return groupByFactory(this, grouper, context);\n    },\n\n    has: function has(searchKey) {\n      return this.get(searchKey, NOT_SET) !== NOT_SET;\n    },\n\n    hasIn: hasIn,\n\n    isSubset: function isSubset(iter) {\n      iter = typeof iter.includes === 'function' ? iter : Collection(iter);\n      return this.every(function (value) { return iter.includes(value); });\n    },\n\n    isSuperset: function isSuperset(iter) {\n      iter = typeof iter.isSubset === 'function' ? iter : Collection(iter);\n      return iter.isSubset(this);\n    },\n\n    keyOf: function keyOf(searchValue) {\n      return this.findKey(function (value) { return is(value, searchValue); });\n    },\n\n    keySeq: function keySeq() {\n      return this.toSeq().map(keyMapper).toIndexedSeq();\n    },\n\n    last: function last(notSetValue) {\n      return this.toSeq().reverse().first(notSetValue);\n    },\n\n    lastKeyOf: function lastKeyOf(searchValue) {\n      return this.toKeyedSeq().reverse().keyOf(searchValue);\n    },\n\n    max: function max(comparator) {\n      return maxFactory(this, comparator);\n    },\n\n    maxBy: function maxBy(mapper, comparator) {\n      return maxFactory(this, comparator, mapper);\n    },\n\n    min: function min(comparator) {\n      return maxFactory(\n        this,\n        comparator ? neg(comparator) : defaultNegComparator\n      );\n    },\n\n    minBy: function minBy(mapper, comparator) {\n      return maxFactory(\n        this,\n        comparator ? neg(comparator) : defaultNegComparator,\n        mapper\n      );\n    },\n\n    rest: function rest() {\n      return this.slice(1);\n    },\n\n    skip: function skip(amount) {\n      return amount === 0 ? this : this.slice(Math.max(0, amount));\n    },\n\n    skipLast: function skipLast(amount) {\n      return amount === 0 ? this : this.slice(0, -Math.max(0, amount));\n    },\n\n    skipWhile: function skipWhile(predicate, context) {\n      return reify(this, skipWhileFactory(this, predicate, context, true));\n    },\n\n    skipUntil: function skipUntil(predicate, context) {\n      return this.skipWhile(not(predicate), context);\n    },\n\n    sortBy: function sortBy(mapper, comparator) {\n      return reify(this, sortFactory(this, comparator, mapper));\n    },\n\n    take: function take(amount) {\n      return this.slice(0, Math.max(0, amount));\n    },\n\n    takeLast: function takeLast(amount) {\n      return this.slice(-Math.max(0, amount));\n    },\n\n    takeWhile: function takeWhile(predicate, context) {\n      return reify(this, takeWhileFactory(this, predicate, context));\n    },\n\n    takeUntil: function takeUntil(predicate, context) {\n      return this.takeWhile(not(predicate), context);\n    },\n\n    update: function update(fn) {\n      return fn(this);\n    },\n\n    valueSeq: function valueSeq() {\n      return this.toIndexedSeq();\n    },\n\n    // ### Hashable Object\n\n    hashCode: function hashCode() {\n      return this.__hash || (this.__hash = hashCollection(this));\n    },\n\n    // ### Internal\n\n    // abstract __iterate(fn, reverse)\n\n    // abstract __iterator(type, reverse)\n  });\n\n  var CollectionPrototype = Collection.prototype;\n  CollectionPrototype[IS_COLLECTION_SYMBOL] = true;\n  CollectionPrototype[ITERATOR_SYMBOL] = CollectionPrototype.values;\n  CollectionPrototype.toJSON = CollectionPrototype.toArray;\n  CollectionPrototype.__toStringMapper = quoteString;\n  CollectionPrototype.inspect = CollectionPrototype.toSource = function () {\n    return this.toString();\n  };\n  CollectionPrototype.chain = CollectionPrototype.flatMap;\n  CollectionPrototype.contains = CollectionPrototype.includes;\n\n  mixin(KeyedCollection, {\n    // ### More sequential methods\n\n    flip: function flip() {\n      return reify(this, flipFactory(this));\n    },\n\n    mapEntries: function mapEntries(mapper, context) {\n      var this$1$1 = this;\n\n      var iterations = 0;\n      return reify(\n        this,\n        this.toSeq()\n          .map(function (v, k) { return mapper.call(context, [k, v], iterations++, this$1$1); })\n          .fromEntrySeq()\n      );\n    },\n\n    mapKeys: function mapKeys(mapper, context) {\n      var this$1$1 = this;\n\n      return reify(\n        this,\n        this.toSeq()\n          .flip()\n          .map(function (k, v) { return mapper.call(context, k, v, this$1$1); })\n          .flip()\n      );\n    },\n  });\n\n  var KeyedCollectionPrototype = KeyedCollection.prototype;\n  KeyedCollectionPrototype[IS_KEYED_SYMBOL] = true;\n  KeyedCollectionPrototype[ITERATOR_SYMBOL] = CollectionPrototype.entries;\n  KeyedCollectionPrototype.toJSON = toObject;\n  KeyedCollectionPrototype.__toStringMapper = function (v, k) { return quoteString(k) + ': ' + quoteString(v); };\n\n  mixin(IndexedCollection, {\n    // ### Conversion to other types\n\n    toKeyedSeq: function toKeyedSeq() {\n      return new ToKeyedSequence(this, false);\n    },\n\n    // ### ES6 Collection methods (ES6 Array and Map)\n\n    filter: function filter(predicate, context) {\n      return reify(this, filterFactory(this, predicate, context, false));\n    },\n\n    findIndex: function findIndex(predicate, context) {\n      var entry = this.findEntry(predicate, context);\n      return entry ? entry[0] : -1;\n    },\n\n    indexOf: function indexOf(searchValue) {\n      var key = this.keyOf(searchValue);\n      return key === undefined ? -1 : key;\n    },\n\n    lastIndexOf: function lastIndexOf(searchValue) {\n      var key = this.lastKeyOf(searchValue);\n      return key === undefined ? -1 : key;\n    },\n\n    reverse: function reverse() {\n      return reify(this, reverseFactory(this, false));\n    },\n\n    slice: function slice(begin, end) {\n      return reify(this, sliceFactory(this, begin, end, false));\n    },\n\n    splice: function splice(index, removeNum /*, ...values*/) {\n      var numArgs = arguments.length;\n      removeNum = Math.max(removeNum || 0, 0);\n      if (numArgs === 0 || (numArgs === 2 && !removeNum)) {\n        return this;\n      }\n      // If index is negative, it should resolve relative to the size of the\n      // collection. However size may be expensive to compute if not cached, so\n      // only call count() if the number is in fact negative.\n      index = resolveBegin(index, index < 0 ? this.count() : this.size);\n      var spliced = this.slice(0, index);\n      return reify(\n        this,\n        numArgs === 1\n          ? spliced\n          : spliced.concat(arrCopy(arguments, 2), this.slice(index + removeNum))\n      );\n    },\n\n    // ### More collection methods\n\n    findLastIndex: function findLastIndex(predicate, context) {\n      var entry = this.findLastEntry(predicate, context);\n      return entry ? entry[0] : -1;\n    },\n\n    first: function first(notSetValue) {\n      return this.get(0, notSetValue);\n    },\n\n    flatten: function flatten(depth) {\n      return reify(this, flattenFactory(this, depth, false));\n    },\n\n    get: function get(index, notSetValue) {\n      index = wrapIndex(this, index);\n      return index < 0 ||\n        this.size === Infinity ||\n        (this.size !== undefined && index > this.size)\n        ? notSetValue\n        : this.find(function (_, key) { return key === index; }, undefined, notSetValue);\n    },\n\n    has: function has(index) {\n      index = wrapIndex(this, index);\n      return (\n        index >= 0 &&\n        (this.size !== undefined\n          ? this.size === Infinity || index < this.size\n          : this.indexOf(index) !== -1)\n      );\n    },\n\n    interpose: function interpose(separator) {\n      return reify(this, interposeFactory(this, separator));\n    },\n\n    interleave: function interleave(/*...collections*/) {\n      var collections = [this].concat(arrCopy(arguments));\n      var zipped = zipWithFactory(this.toSeq(), IndexedSeq.of, collections);\n      var interleaved = zipped.flatten(true);\n      if (zipped.size) {\n        interleaved.size = zipped.size * collections.length;\n      }\n      return reify(this, interleaved);\n    },\n\n    keySeq: function keySeq() {\n      return Range(0, this.size);\n    },\n\n    last: function last(notSetValue) {\n      return this.get(-1, notSetValue);\n    },\n\n    skipWhile: function skipWhile(predicate, context) {\n      return reify(this, skipWhileFactory(this, predicate, context, false));\n    },\n\n    zip: function zip(/*, ...collections */) {\n      var collections = [this].concat(arrCopy(arguments));\n      return reify(this, zipWithFactory(this, defaultZipper, collections));\n    },\n\n    zipAll: function zipAll(/*, ...collections */) {\n      var collections = [this].concat(arrCopy(arguments));\n      return reify(this, zipWithFactory(this, defaultZipper, collections, true));\n    },\n\n    zipWith: function zipWith(zipper /*, ...collections */) {\n      var collections = arrCopy(arguments);\n      collections[0] = this;\n      return reify(this, zipWithFactory(this, zipper, collections));\n    },\n  });\n\n  var IndexedCollectionPrototype = IndexedCollection.prototype;\n  IndexedCollectionPrototype[IS_INDEXED_SYMBOL] = true;\n  IndexedCollectionPrototype[IS_ORDERED_SYMBOL] = true;\n\n  mixin(SetCollection, {\n    // ### ES6 Collection methods (ES6 Array and Map)\n\n    get: function get(value, notSetValue) {\n      return this.has(value) ? value : notSetValue;\n    },\n\n    includes: function includes(value) {\n      return this.has(value);\n    },\n\n    // ### More sequential methods\n\n    keySeq: function keySeq() {\n      return this.valueSeq();\n    },\n  });\n\n  SetCollection.prototype.has = CollectionPrototype.includes;\n  SetCollection.prototype.contains = SetCollection.prototype.includes;\n\n  // Mixin subclasses\n\n  mixin(KeyedSeq, KeyedCollection.prototype);\n  mixin(IndexedSeq, IndexedCollection.prototype);\n  mixin(SetSeq, SetCollection.prototype);\n\n  // #pragma Helper functions\n\n  function reduce(collection, reducer, reduction, context, useFirst, reverse) {\n    assertNotInfinite(collection.size);\n    collection.__iterate(function (v, k, c) {\n      if (useFirst) {\n        useFirst = false;\n        reduction = v;\n      } else {\n        reduction = reducer.call(context, reduction, v, k, c);\n      }\n    }, reverse);\n    return reduction;\n  }\n\n  function keyMapper(v, k) {\n    return k;\n  }\n\n  function entryMapper(v, k) {\n    return [k, v];\n  }\n\n  function not(predicate) {\n    return function () {\n      return !predicate.apply(this, arguments);\n    };\n  }\n\n  function neg(predicate) {\n    return function () {\n      return -predicate.apply(this, arguments);\n    };\n  }\n\n  function defaultZipper() {\n    return arrCopy(arguments);\n  }\n\n  function defaultNegComparator(a, b) {\n    return a < b ? 1 : a > b ? -1 : 0;\n  }\n\n  function hashCollection(collection) {\n    if (collection.size === Infinity) {\n      return 0;\n    }\n    var ordered = isOrdered(collection);\n    var keyed = isKeyed(collection);\n    var h = ordered ? 1 : 0;\n    var size = collection.__iterate(\n      keyed\n        ? ordered\n          ? function (v, k) {\n              h = (31 * h + hashMerge(hash(v), hash(k))) | 0;\n            }\n          : function (v, k) {\n              h = (h + hashMerge(hash(v), hash(k))) | 0;\n            }\n        : ordered\n        ? function (v) {\n            h = (31 * h + hash(v)) | 0;\n          }\n        : function (v) {\n            h = (h + hash(v)) | 0;\n          }\n    );\n    return murmurHashOfSize(size, h);\n  }\n\n  function murmurHashOfSize(size, h) {\n    h = imul(h, 0xcc9e2d51);\n    h = imul((h << 15) | (h >>> -15), 0x1b873593);\n    h = imul((h << 13) | (h >>> -13), 5);\n    h = ((h + 0xe6546b64) | 0) ^ size;\n    h = imul(h ^ (h >>> 16), 0x85ebca6b);\n    h = imul(h ^ (h >>> 13), 0xc2b2ae35);\n    h = smi(h ^ (h >>> 16));\n    return h;\n  }\n\n  function hashMerge(a, b) {\n    return (a ^ (b + 0x9e3779b9 + (a << 6) + (a >> 2))) | 0; // int\n  }\n\n  var OrderedSet = /*@__PURE__*/(function (Set) {\n    function OrderedSet(value) {\n      return value === null || value === undefined\n        ? emptyOrderedSet()\n        : isOrderedSet(value)\n        ? value\n        : emptyOrderedSet().withMutations(function (set) {\n            var iter = SetCollection(value);\n            assertNotInfinite(iter.size);\n            iter.forEach(function (v) { return set.add(v); });\n          });\n    }\n\n    if ( Set ) OrderedSet.__proto__ = Set;\n    OrderedSet.prototype = Object.create( Set && Set.prototype );\n    OrderedSet.prototype.constructor = OrderedSet;\n\n    OrderedSet.of = function of (/*...values*/) {\n      return this(arguments);\n    };\n\n    OrderedSet.fromKeys = function fromKeys (value) {\n      return this(KeyedCollection(value).keySeq());\n    };\n\n    OrderedSet.prototype.toString = function toString () {\n      return this.__toString('OrderedSet {', '}');\n    };\n\n    return OrderedSet;\n  }(Set));\n\n  OrderedSet.isOrderedSet = isOrderedSet;\n\n  var OrderedSetPrototype = OrderedSet.prototype;\n  OrderedSetPrototype[IS_ORDERED_SYMBOL] = true;\n  OrderedSetPrototype.zip = IndexedCollectionPrototype.zip;\n  OrderedSetPrototype.zipWith = IndexedCollectionPrototype.zipWith;\n  OrderedSetPrototype.zipAll = IndexedCollectionPrototype.zipAll;\n\n  OrderedSetPrototype.__empty = emptyOrderedSet;\n  OrderedSetPrototype.__make = makeOrderedSet;\n\n  function makeOrderedSet(map, ownerID) {\n    var set = Object.create(OrderedSetPrototype);\n    set.size = map ? map.size : 0;\n    set._map = map;\n    set.__ownerID = ownerID;\n    return set;\n  }\n\n  var EMPTY_ORDERED_SET;\n  function emptyOrderedSet() {\n    return (\n      EMPTY_ORDERED_SET || (EMPTY_ORDERED_SET = makeOrderedSet(emptyOrderedMap()))\n    );\n  }\n\n  function throwOnInvalidDefaultValues(defaultValues) {\n    if (isRecord(defaultValues)) {\n      throw new Error(\n        'Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.'\n      );\n    }\n\n    if (isImmutable(defaultValues)) {\n      throw new Error(\n        'Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.'\n      );\n    }\n\n    if (defaultValues === null || typeof defaultValues !== 'object') {\n      throw new Error(\n        'Can not call `Record` with a non-object as default values. Use a plain javascript object instead.'\n      );\n    }\n  }\n\n  var Record = function Record(defaultValues, name) {\n    var hasInitialized;\n\n    throwOnInvalidDefaultValues(defaultValues);\n\n    var RecordType = function Record(values) {\n      var this$1$1 = this;\n\n      if (values instanceof RecordType) {\n        return values;\n      }\n      if (!(this instanceof RecordType)) {\n        return new RecordType(values);\n      }\n      if (!hasInitialized) {\n        hasInitialized = true;\n        var keys = Object.keys(defaultValues);\n        var indices = (RecordTypePrototype._indices = {});\n        // Deprecated: left to attempt not to break any external code which\n        // relies on a ._name property existing on record instances.\n        // Use Record.getDescriptiveName() instead\n        RecordTypePrototype._name = name;\n        RecordTypePrototype._keys = keys;\n        RecordTypePrototype._defaultValues = defaultValues;\n        for (var i = 0; i < keys.length; i++) {\n          var propName = keys[i];\n          indices[propName] = i;\n          if (RecordTypePrototype[propName]) {\n            /* eslint-disable no-console */\n            typeof console === 'object' &&\n              console.warn &&\n              console.warn(\n                'Cannot define ' +\n                  recordName(this) +\n                  ' with property \"' +\n                  propName +\n                  '\" since that property name is part of the Record API.'\n              );\n            /* eslint-enable no-console */\n          } else {\n            setProp(RecordTypePrototype, propName);\n          }\n        }\n      }\n      this.__ownerID = undefined;\n      this._values = List().withMutations(function (l) {\n        l.setSize(this$1$1._keys.length);\n        KeyedCollection(values).forEach(function (v, k) {\n          l.set(this$1$1._indices[k], v === this$1$1._defaultValues[k] ? undefined : v);\n        });\n      });\n      return this;\n    };\n\n    var RecordTypePrototype = (RecordType.prototype =\n      Object.create(RecordPrototype));\n    RecordTypePrototype.constructor = RecordType;\n\n    if (name) {\n      RecordType.displayName = name;\n    }\n\n    return RecordType;\n  };\n\n  Record.prototype.toString = function toString () {\n    var str = recordName(this) + ' { ';\n    var keys = this._keys;\n    var k;\n    for (var i = 0, l = keys.length; i !== l; i++) {\n      k = keys[i];\n      str += (i ? ', ' : '') + k + ': ' + quoteString(this.get(k));\n    }\n    return str + ' }';\n  };\n\n  Record.prototype.equals = function equals (other) {\n    return (\n      this === other || (other && recordSeq(this).equals(recordSeq(other)))\n    );\n  };\n\n  Record.prototype.hashCode = function hashCode () {\n    return recordSeq(this).hashCode();\n  };\n\n  // @pragma Access\n\n  Record.prototype.has = function has (k) {\n    return this._indices.hasOwnProperty(k);\n  };\n\n  Record.prototype.get = function get (k, notSetValue) {\n    if (!this.has(k)) {\n      return notSetValue;\n    }\n    var index = this._indices[k];\n    var value = this._values.get(index);\n    return value === undefined ? this._defaultValues[k] : value;\n  };\n\n  // @pragma Modification\n\n  Record.prototype.set = function set (k, v) {\n    if (this.has(k)) {\n      var newValues = this._values.set(\n        this._indices[k],\n        v === this._defaultValues[k] ? undefined : v\n      );\n      if (newValues !== this._values && !this.__ownerID) {\n        return makeRecord(this, newValues);\n      }\n    }\n    return this;\n  };\n\n  Record.prototype.remove = function remove (k) {\n    return this.set(k);\n  };\n\n  Record.prototype.clear = function clear () {\n    var newValues = this._values.clear().setSize(this._keys.length);\n\n    return this.__ownerID ? this : makeRecord(this, newValues);\n  };\n\n  Record.prototype.wasAltered = function wasAltered () {\n    return this._values.wasAltered();\n  };\n\n  Record.prototype.toSeq = function toSeq () {\n    return recordSeq(this);\n  };\n\n  Record.prototype.toJS = function toJS$1 () {\n    return toJS(this);\n  };\n\n  Record.prototype.entries = function entries () {\n    return this.__iterator(ITERATE_ENTRIES);\n  };\n\n  Record.prototype.__iterator = function __iterator (type, reverse) {\n    return recordSeq(this).__iterator(type, reverse);\n  };\n\n  Record.prototype.__iterate = function __iterate (fn, reverse) {\n    return recordSeq(this).__iterate(fn, reverse);\n  };\n\n  Record.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    var newValues = this._values.__ensureOwner(ownerID);\n    if (!ownerID) {\n      this.__ownerID = ownerID;\n      this._values = newValues;\n      return this;\n    }\n    return makeRecord(this, newValues, ownerID);\n  };\n\n  Record.isRecord = isRecord;\n  Record.getDescriptiveName = recordName;\n  var RecordPrototype = Record.prototype;\n  RecordPrototype[IS_RECORD_SYMBOL] = true;\n  RecordPrototype[DELETE] = RecordPrototype.remove;\n  RecordPrototype.deleteIn = RecordPrototype.removeIn = deleteIn;\n  RecordPrototype.getIn = getIn;\n  RecordPrototype.hasIn = CollectionPrototype.hasIn;\n  RecordPrototype.merge = merge$1;\n  RecordPrototype.mergeWith = mergeWith$1;\n  RecordPrototype.mergeIn = mergeIn;\n  RecordPrototype.mergeDeep = mergeDeep;\n  RecordPrototype.mergeDeepWith = mergeDeepWith;\n  RecordPrototype.mergeDeepIn = mergeDeepIn;\n  RecordPrototype.setIn = setIn;\n  RecordPrototype.update = update;\n  RecordPrototype.updateIn = updateIn;\n  RecordPrototype.withMutations = withMutations;\n  RecordPrototype.asMutable = asMutable;\n  RecordPrototype.asImmutable = asImmutable;\n  RecordPrototype[ITERATOR_SYMBOL] = RecordPrototype.entries;\n  RecordPrototype.toJSON = RecordPrototype.toObject =\n    CollectionPrototype.toObject;\n  RecordPrototype.inspect = RecordPrototype.toSource = function () {\n    return this.toString();\n  };\n\n  function makeRecord(likeRecord, values, ownerID) {\n    var record = Object.create(Object.getPrototypeOf(likeRecord));\n    record._values = values;\n    record.__ownerID = ownerID;\n    return record;\n  }\n\n  function recordName(record) {\n    return record.constructor.displayName || record.constructor.name || 'Record';\n  }\n\n  function recordSeq(record) {\n    return keyedSeqFromValue(record._keys.map(function (k) { return [k, record.get(k)]; }));\n  }\n\n  function setProp(prototype, name) {\n    try {\n      Object.defineProperty(prototype, name, {\n        get: function () {\n          return this.get(name);\n        },\n        set: function (value) {\n          invariant(this.__ownerID, 'Cannot set on an immutable record.');\n          this.set(name, value);\n        },\n      });\n    } catch (error) {\n      // Object.defineProperty failed. Probably IE8.\n    }\n  }\n\n  /**\n   * Returns a lazy Seq of `value` repeated `times` times. When `times` is\n   * undefined, returns an infinite sequence of `value`.\n   */\n  var Repeat = /*@__PURE__*/(function (IndexedSeq) {\n    function Repeat(value, times) {\n      if (!(this instanceof Repeat)) {\n        return new Repeat(value, times);\n      }\n      this._value = value;\n      this.size = times === undefined ? Infinity : Math.max(0, times);\n      if (this.size === 0) {\n        if (EMPTY_REPEAT) {\n          return EMPTY_REPEAT;\n        }\n        EMPTY_REPEAT = this;\n      }\n    }\n\n    if ( IndexedSeq ) Repeat.__proto__ = IndexedSeq;\n    Repeat.prototype = Object.create( IndexedSeq && IndexedSeq.prototype );\n    Repeat.prototype.constructor = Repeat;\n\n    Repeat.prototype.toString = function toString () {\n      if (this.size === 0) {\n        return 'Repeat []';\n      }\n      return 'Repeat [ ' + this._value + ' ' + this.size + ' times ]';\n    };\n\n    Repeat.prototype.get = function get (index, notSetValue) {\n      return this.has(index) ? this._value : notSetValue;\n    };\n\n    Repeat.prototype.includes = function includes (searchValue) {\n      return is(this._value, searchValue);\n    };\n\n    Repeat.prototype.slice = function slice (begin, end) {\n      var size = this.size;\n      return wholeSlice(begin, end, size)\n        ? this\n        : new Repeat(\n            this._value,\n            resolveEnd(end, size) - resolveBegin(begin, size)\n          );\n    };\n\n    Repeat.prototype.reverse = function reverse () {\n      return this;\n    };\n\n    Repeat.prototype.indexOf = function indexOf (searchValue) {\n      if (is(this._value, searchValue)) {\n        return 0;\n      }\n      return -1;\n    };\n\n    Repeat.prototype.lastIndexOf = function lastIndexOf (searchValue) {\n      if (is(this._value, searchValue)) {\n        return this.size;\n      }\n      return -1;\n    };\n\n    Repeat.prototype.__iterate = function __iterate (fn, reverse) {\n      var size = this.size;\n      var i = 0;\n      while (i !== size) {\n        if (fn(this._value, reverse ? size - ++i : i++, this) === false) {\n          break;\n        }\n      }\n      return i;\n    };\n\n    Repeat.prototype.__iterator = function __iterator (type, reverse) {\n      var this$1$1 = this;\n\n      var size = this.size;\n      var i = 0;\n      return new Iterator(function () { return i === size\n          ? iteratorDone()\n          : iteratorValue(type, reverse ? size - ++i : i++, this$1$1._value); }\n      );\n    };\n\n    Repeat.prototype.equals = function equals (other) {\n      return other instanceof Repeat\n        ? is(this._value, other._value)\n        : deepEqual(other);\n    };\n\n    return Repeat;\n  }(IndexedSeq));\n\n  var EMPTY_REPEAT;\n\n  function fromJS(value, converter) {\n    return fromJSWith(\n      [],\n      converter || defaultConverter,\n      value,\n      '',\n      converter && converter.length > 2 ? [] : undefined,\n      { '': value }\n    );\n  }\n\n  function fromJSWith(stack, converter, value, key, keyPath, parentValue) {\n    var toSeq = Array.isArray(value)\n      ? IndexedSeq\n      : isPlainObject(value)\n      ? KeyedSeq\n      : null;\n    if (toSeq) {\n      if (~stack.indexOf(value)) {\n        throw new TypeError('Cannot convert circular structure to Immutable');\n      }\n      stack.push(value);\n      keyPath && key !== '' && keyPath.push(key);\n      var converted = converter.call(\n        parentValue,\n        key,\n        toSeq(value).map(function (v, k) { return fromJSWith(stack, converter, v, k, keyPath, value); }\n        ),\n        keyPath && keyPath.slice()\n      );\n      stack.pop();\n      keyPath && keyPath.pop();\n      return converted;\n    }\n    return value;\n  }\n\n  function defaultConverter(k, v) {\n    return isKeyed(v) ? v.toMap() : v.toList();\n  }\n\n  var version = \"4.0.0-rc.14\";\n\n  var Immutable = {\n    version: version,\n\n    Collection: Collection,\n    // Note: Iterable is deprecated\n    Iterable: Collection,\n\n    Seq: Seq,\n    Map: Map,\n    OrderedMap: OrderedMap,\n    List: List,\n    Stack: Stack,\n    Set: Set,\n    OrderedSet: OrderedSet,\n\n    Record: Record,\n    Range: Range,\n    Repeat: Repeat,\n\n    is: is,\n    fromJS: fromJS,\n    hash: hash,\n\n    isImmutable: isImmutable,\n    isCollection: isCollection,\n    isKeyed: isKeyed,\n    isIndexed: isIndexed,\n    isAssociative: isAssociative,\n    isOrdered: isOrdered,\n    isValueObject: isValueObject,\n    isPlainObject: isPlainObject,\n    isSeq: isSeq,\n    isList: isList,\n    isMap: isMap,\n    isOrderedMap: isOrderedMap,\n    isStack: isStack,\n    isSet: isSet,\n    isOrderedSet: isOrderedSet,\n    isRecord: isRecord,\n\n    get: get,\n    getIn: getIn$1,\n    has: has,\n    hasIn: hasIn$1,\n    merge: merge,\n    mergeDeep: mergeDeep$1,\n    mergeWith: mergeWith,\n    mergeDeepWith: mergeDeepWith$1,\n    remove: remove,\n    removeIn: removeIn,\n    set: set,\n    setIn: setIn$1,\n    update: update$1,\n    updateIn: updateIn$1,\n  };\n\n  // Note: Iterable is deprecated\n  var Iterable = Collection;\n\n  exports.Collection = Collection;\n  exports.Iterable = Iterable;\n  exports.List = List;\n  exports.Map = Map;\n  exports.OrderedMap = OrderedMap;\n  exports.OrderedSet = OrderedSet;\n  exports.Range = Range;\n  exports.Record = Record;\n  exports.Repeat = Repeat;\n  exports.Seq = Seq;\n  exports.Set = Set;\n  exports.Stack = Stack;\n  exports.default = Immutable;\n  exports.fromJS = fromJS;\n  exports.get = get;\n  exports.getIn = getIn$1;\n  exports.has = has;\n  exports.hasIn = hasIn$1;\n  exports.hash = hash;\n  exports.is = is;\n  exports.isAssociative = isAssociative;\n  exports.isCollection = isCollection;\n  exports.isImmutable = isImmutable;\n  exports.isIndexed = isIndexed;\n  exports.isKeyed = isKeyed;\n  exports.isList = isList;\n  exports.isMap = isMap;\n  exports.isOrdered = isOrdered;\n  exports.isOrderedMap = isOrderedMap;\n  exports.isOrderedSet = isOrderedSet;\n  exports.isPlainObject = isPlainObject;\n  exports.isRecord = isRecord;\n  exports.isSeq = isSeq;\n  exports.isSet = isSet;\n  exports.isStack = isStack;\n  exports.isValueObject = isValueObject;\n  exports.merge = merge;\n  exports.mergeDeep = mergeDeep$1;\n  exports.mergeDeepWith = mergeDeepWith$1;\n  exports.mergeWith = mergeWith;\n  exports.remove = remove;\n  exports.removeIn = removeIn;\n  exports.set = set;\n  exports.setIn = setIn$1;\n  exports.update = update$1;\n  exports.updateIn = updateIn$1;\n  exports.version = version;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n"]}