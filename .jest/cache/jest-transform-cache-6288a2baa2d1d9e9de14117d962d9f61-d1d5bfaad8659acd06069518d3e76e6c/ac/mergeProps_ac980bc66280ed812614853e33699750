fa5240d9ca9df40517ab99673ecc0a1b
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

exports.__esModule = true;
exports.defaultMergeProps = defaultMergeProps;
exports.wrapMergePropsFunc = wrapMergePropsFunc;
exports.whenMergePropsIsFunction = whenMergePropsIsFunction;
exports.whenMergePropsIsOmitted = whenMergePropsIsOmitted;
exports["default"] = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _verifyPlainObject = _interopRequireDefault(require("../utils/verifyPlainObject"));

function defaultMergeProps(stateProps, dispatchProps, ownProps) {
  return (0, _extends2["default"])({}, ownProps, stateProps, dispatchProps);
}

function wrapMergePropsFunc(mergeProps) {
  return function initMergePropsProxy(dispatch, _ref) {
    var displayName = _ref.displayName,
        pure = _ref.pure,
        areMergedPropsEqual = _ref.areMergedPropsEqual;
    var hasRunOnce = false;
    var mergedProps;
    return function mergePropsProxy(stateProps, dispatchProps, ownProps) {
      var nextMergedProps = mergeProps(stateProps, dispatchProps, ownProps);

      if (hasRunOnce) {
        if (!pure || !areMergedPropsEqual(nextMergedProps, mergedProps)) mergedProps = nextMergedProps;
      } else {
        hasRunOnce = true;
        mergedProps = nextMergedProps;
        if (process.env.NODE_ENV !== 'production') (0, _verifyPlainObject["default"])(mergedProps, displayName, 'mergeProps');
      }

      return mergedProps;
    };
  };
}

function whenMergePropsIsFunction(mergeProps) {
  return typeof mergeProps === 'function' ? wrapMergePropsFunc(mergeProps) : undefined;
}

function whenMergePropsIsOmitted(mergeProps) {
  return !mergeProps ? function () {
    return defaultMergeProps;
  } : undefined;
}

var _default = [whenMergePropsIsFunction, whenMergePropsIsOmitted];
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lcmdlUHJvcHMuanMiXSwibmFtZXMiOlsiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJleHBvcnRzIiwiX19lc01vZHVsZSIsImRlZmF1bHRNZXJnZVByb3BzIiwid3JhcE1lcmdlUHJvcHNGdW5jIiwid2hlbk1lcmdlUHJvcHNJc0Z1bmN0aW9uIiwid2hlbk1lcmdlUHJvcHNJc09taXR0ZWQiLCJfZXh0ZW5kczIiLCJfdmVyaWZ5UGxhaW5PYmplY3QiLCJzdGF0ZVByb3BzIiwiZGlzcGF0Y2hQcm9wcyIsIm93blByb3BzIiwibWVyZ2VQcm9wcyIsImluaXRNZXJnZVByb3BzUHJveHkiLCJkaXNwYXRjaCIsIl9yZWYiLCJkaXNwbGF5TmFtZSIsInB1cmUiLCJhcmVNZXJnZWRQcm9wc0VxdWFsIiwiaGFzUnVuT25jZSIsIm1lcmdlZFByb3BzIiwibWVyZ2VQcm9wc1Byb3h5IiwibmV4dE1lcmdlZFByb3BzIiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwidW5kZWZpbmVkIiwiX2RlZmF1bHQiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLElBQUlBLHNCQUFzQixHQUFHQyxPQUFPLENBQUMsOENBQUQsQ0FBcEM7O0FBRUFDLE9BQU8sQ0FBQ0MsVUFBUixHQUFxQixJQUFyQjtBQUNBRCxPQUFPLENBQUNFLGlCQUFSLEdBQTRCQSxpQkFBNUI7QUFDQUYsT0FBTyxDQUFDRyxrQkFBUixHQUE2QkEsa0JBQTdCO0FBQ0FILE9BQU8sQ0FBQ0ksd0JBQVIsR0FBbUNBLHdCQUFuQztBQUNBSixPQUFPLENBQUNLLHVCQUFSLEdBQWtDQSx1QkFBbEM7QUFDQUwsT0FBTyxDQUFDLFNBQUQsQ0FBUCxHQUFxQixLQUFLLENBQTFCOztBQUVBLElBQUlNLFNBQVMsR0FBR1Isc0JBQXNCLENBQUNDLE9BQU8sQ0FBQyxnQ0FBRCxDQUFSLENBQXRDOztBQUVBLElBQUlRLGtCQUFrQixHQUFHVCxzQkFBc0IsQ0FBQ0MsT0FBTyw4QkFBUixDQUEvQzs7QUFFQSxTQUFTRyxpQkFBVCxDQUEyQk0sVUFBM0IsRUFBdUNDLGFBQXZDLEVBQXNEQyxRQUF0RCxFQUFnRTtBQUM5RCxTQUFPLENBQUMsR0FBR0osU0FBUyxDQUFDLFNBQUQsQ0FBYixFQUEwQixFQUExQixFQUE4QkksUUFBOUIsRUFBd0NGLFVBQXhDLEVBQW9EQyxhQUFwRCxDQUFQO0FBQ0Q7O0FBRUQsU0FBU04sa0JBQVQsQ0FBNEJRLFVBQTVCLEVBQXdDO0FBQ3RDLFNBQU8sU0FBU0MsbUJBQVQsQ0FBNkJDLFFBQTdCLEVBQXVDQyxJQUF2QyxFQUE2QztBQUNsRCxRQUFJQyxXQUFXLEdBQUdELElBQUksQ0FBQ0MsV0FBdkI7QUFBQSxRQUNJQyxJQUFJLEdBQUdGLElBQUksQ0FBQ0UsSUFEaEI7QUFBQSxRQUVJQyxtQkFBbUIsR0FBR0gsSUFBSSxDQUFDRyxtQkFGL0I7QUFHQSxRQUFJQyxVQUFVLEdBQUcsS0FBakI7QUFDQSxRQUFJQyxXQUFKO0FBQ0EsV0FBTyxTQUFTQyxlQUFULENBQXlCWixVQUF6QixFQUFxQ0MsYUFBckMsRUFBb0RDLFFBQXBELEVBQThEO0FBQ25FLFVBQUlXLGVBQWUsR0FBR1YsVUFBVSxDQUFDSCxVQUFELEVBQWFDLGFBQWIsRUFBNEJDLFFBQTVCLENBQWhDOztBQUVBLFVBQUlRLFVBQUosRUFBZ0I7QUFDZCxZQUFJLENBQUNGLElBQUQsSUFBUyxDQUFDQyxtQkFBbUIsQ0FBQ0ksZUFBRCxFQUFrQkYsV0FBbEIsQ0FBakMsRUFBaUVBLFdBQVcsR0FBR0UsZUFBZDtBQUNsRSxPQUZELE1BRU87QUFDTEgsUUFBQUEsVUFBVSxHQUFHLElBQWI7QUFDQUMsUUFBQUEsV0FBVyxHQUFHRSxlQUFkO0FBQ0EsWUFBSUMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFFBQVosS0FBeUIsWUFBN0IsRUFBMkMsQ0FBQyxHQUFHakIsa0JBQWtCLENBQUMsU0FBRCxDQUF0QixFQUFtQ1ksV0FBbkMsRUFBZ0RKLFdBQWhELEVBQTZELFlBQTdEO0FBQzVDOztBQUVELGFBQU9JLFdBQVA7QUFDRCxLQVpEO0FBYUQsR0FuQkQ7QUFvQkQ7O0FBRUQsU0FBU2Ysd0JBQVQsQ0FBa0NPLFVBQWxDLEVBQThDO0FBQzVDLFNBQU8sT0FBT0EsVUFBUCxLQUFzQixVQUF0QixHQUFtQ1Isa0JBQWtCLENBQUNRLFVBQUQsQ0FBckQsR0FBb0VjLFNBQTNFO0FBQ0Q7O0FBRUQsU0FBU3BCLHVCQUFULENBQWlDTSxVQUFqQyxFQUE2QztBQUMzQyxTQUFPLENBQUNBLFVBQUQsR0FBYyxZQUFZO0FBQy9CLFdBQU9ULGlCQUFQO0FBQ0QsR0FGTSxHQUVIdUIsU0FGSjtBQUdEOztBQUVELElBQUlDLFFBQVEsR0FBRyxDQUFDdEIsd0JBQUQsRUFBMkJDLHVCQUEzQixDQUFmO0FBQ0FMLE9BQU8sQ0FBQyxTQUFELENBQVAsR0FBcUIwQixRQUFyQiIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IHJlcXVpcmUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdFwiKTtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdE1lcmdlUHJvcHMgPSBkZWZhdWx0TWVyZ2VQcm9wcztcbmV4cG9ydHMud3JhcE1lcmdlUHJvcHNGdW5jID0gd3JhcE1lcmdlUHJvcHNGdW5jO1xuZXhwb3J0cy53aGVuTWVyZ2VQcm9wc0lzRnVuY3Rpb24gPSB3aGVuTWVyZ2VQcm9wc0lzRnVuY3Rpb247XG5leHBvcnRzLndoZW5NZXJnZVByb3BzSXNPbWl0dGVkID0gd2hlbk1lcmdlUHJvcHNJc09taXR0ZWQ7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IHZvaWQgMDtcblxudmFyIF9leHRlbmRzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXh0ZW5kc1wiKSk7XG5cbnZhciBfdmVyaWZ5UGxhaW5PYmplY3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi91dGlscy92ZXJpZnlQbGFpbk9iamVjdFwiKSk7XG5cbmZ1bmN0aW9uIGRlZmF1bHRNZXJnZVByb3BzKHN0YXRlUHJvcHMsIGRpc3BhdGNoUHJvcHMsIG93blByb3BzKSB7XG4gIHJldHVybiAoMCwgX2V4dGVuZHMyW1wiZGVmYXVsdFwiXSkoe30sIG93blByb3BzLCBzdGF0ZVByb3BzLCBkaXNwYXRjaFByb3BzKTtcbn1cblxuZnVuY3Rpb24gd3JhcE1lcmdlUHJvcHNGdW5jKG1lcmdlUHJvcHMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGluaXRNZXJnZVByb3BzUHJveHkoZGlzcGF0Y2gsIF9yZWYpIHtcbiAgICB2YXIgZGlzcGxheU5hbWUgPSBfcmVmLmRpc3BsYXlOYW1lLFxuICAgICAgICBwdXJlID0gX3JlZi5wdXJlLFxuICAgICAgICBhcmVNZXJnZWRQcm9wc0VxdWFsID0gX3JlZi5hcmVNZXJnZWRQcm9wc0VxdWFsO1xuICAgIHZhciBoYXNSdW5PbmNlID0gZmFsc2U7XG4gICAgdmFyIG1lcmdlZFByb3BzO1xuICAgIHJldHVybiBmdW5jdGlvbiBtZXJnZVByb3BzUHJveHkoc3RhdGVQcm9wcywgZGlzcGF0Y2hQcm9wcywgb3duUHJvcHMpIHtcbiAgICAgIHZhciBuZXh0TWVyZ2VkUHJvcHMgPSBtZXJnZVByb3BzKHN0YXRlUHJvcHMsIGRpc3BhdGNoUHJvcHMsIG93blByb3BzKTtcblxuICAgICAgaWYgKGhhc1J1bk9uY2UpIHtcbiAgICAgICAgaWYgKCFwdXJlIHx8ICFhcmVNZXJnZWRQcm9wc0VxdWFsKG5leHRNZXJnZWRQcm9wcywgbWVyZ2VkUHJvcHMpKSBtZXJnZWRQcm9wcyA9IG5leHRNZXJnZWRQcm9wcztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhhc1J1bk9uY2UgPSB0cnVlO1xuICAgICAgICBtZXJnZWRQcm9wcyA9IG5leHRNZXJnZWRQcm9wcztcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICgwLCBfdmVyaWZ5UGxhaW5PYmplY3RbXCJkZWZhdWx0XCJdKShtZXJnZWRQcm9wcywgZGlzcGxheU5hbWUsICdtZXJnZVByb3BzJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtZXJnZWRQcm9wcztcbiAgICB9O1xuICB9O1xufVxuXG5mdW5jdGlvbiB3aGVuTWVyZ2VQcm9wc0lzRnVuY3Rpb24obWVyZ2VQcm9wcykge1xuICByZXR1cm4gdHlwZW9mIG1lcmdlUHJvcHMgPT09ICdmdW5jdGlvbicgPyB3cmFwTWVyZ2VQcm9wc0Z1bmMobWVyZ2VQcm9wcykgOiB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIHdoZW5NZXJnZVByb3BzSXNPbWl0dGVkKG1lcmdlUHJvcHMpIHtcbiAgcmV0dXJuICFtZXJnZVByb3BzID8gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBkZWZhdWx0TWVyZ2VQcm9wcztcbiAgfSA6IHVuZGVmaW5lZDtcbn1cblxudmFyIF9kZWZhdWx0ID0gW3doZW5NZXJnZVByb3BzSXNGdW5jdGlvbiwgd2hlbk1lcmdlUHJvcHNJc09taXR0ZWRdO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBfZGVmYXVsdDsiXX0=