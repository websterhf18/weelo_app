9c0121e4ad1be71a723e1b999e5723c5
'use strict';

var _interopRequireDefault2 = require("@babel/runtime/helpers/interopRequireDefault");

var _classCallCheck2 = _interopRequireDefault2(require("@babel/runtime/helpers/classCallCheck"));

var _inherits2 = _interopRequireDefault2(require("@babel/runtime/helpers/inherits"));

var _possibleConstructorReturn2 = _interopRequireDefault2(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault2(require("@babel/runtime/helpers/getPrototypeOf"));

var _wrapNativeSuper2 = _interopRequireDefault2(require("@babel/runtime/helpers/wrapNativeSuper"));

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }

var _ansiStyles = _interopRequireDefault(require('ansi-styles'));

var _collections = require("./collections");

var _AsymmetricMatcher = _interopRequireDefault(require("./plugins/AsymmetricMatcher"));

var _ConvertAnsi = _interopRequireDefault(require("./plugins/ConvertAnsi"));

var _DOMCollection = _interopRequireDefault(require("./plugins/DOMCollection"));

var _DOMElement = _interopRequireDefault(require("./plugins/DOMElement"));

var _Immutable = _interopRequireDefault(require("./plugins/Immutable"));

var _ReactElement = _interopRequireDefault(require("./plugins/ReactElement"));

var _ReactTestComponent = _interopRequireDefault(require("./plugins/ReactTestComponent"));

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}

var toString = Object.prototype.toString;
var toISOString = Date.prototype.toISOString;
var errorToString = Error.prototype.toString;
var regExpToString = RegExp.prototype.toString;

var getConstructorName = function getConstructorName(val) {
  return typeof val.constructor === 'function' && val.constructor.name || 'Object';
};

var isWindow = function isWindow(val) {
  return typeof window !== 'undefined' && val === window;
};

var SYMBOL_REGEXP = /^Symbol\((.*)\)(.*)$/;
var NEWLINE_REGEXP = /\n/gi;

var PrettyFormatPluginError = function (_Error) {
  (0, _inherits2.default)(PrettyFormatPluginError, _Error);

  var _super = _createSuper(PrettyFormatPluginError);

  function PrettyFormatPluginError(message, stack) {
    var _this;

    (0, _classCallCheck2.default)(this, PrettyFormatPluginError);
    _this = _super.call(this, message);
    _this.stack = stack;
    _this.name = _this.constructor.name;
    return _this;
  }

  return PrettyFormatPluginError;
}((0, _wrapNativeSuper2.default)(Error));

function isToStringedArrayType(toStringed) {
  return toStringed === '[object Array]' || toStringed === '[object ArrayBuffer]' || toStringed === '[object DataView]' || toStringed === '[object Float32Array]' || toStringed === '[object Float64Array]' || toStringed === '[object Int8Array]' || toStringed === '[object Int16Array]' || toStringed === '[object Int32Array]' || toStringed === '[object Uint8Array]' || toStringed === '[object Uint8ClampedArray]' || toStringed === '[object Uint16Array]' || toStringed === '[object Uint32Array]';
}

function printNumber(val) {
  return Object.is(val, -0) ? '-0' : String(val);
}

function printBigInt(val) {
  return String(val + "n");
}

function printFunction(val, printFunctionName) {
  if (!printFunctionName) {
    return '[Function]';
  }

  return '[Function ' + (val.name || 'anonymous') + ']';
}

function printSymbol(val) {
  return String(val).replace(SYMBOL_REGEXP, 'Symbol($1)');
}

function printError(val) {
  return '[' + errorToString.call(val) + ']';
}

function printBasicValue(val, printFunctionName, escapeRegex, escapeString) {
  if (val === true || val === false) {
    return '' + val;
  }

  if (val === undefined) {
    return 'undefined';
  }

  if (val === null) {
    return 'null';
  }

  var typeOf = typeof val;

  if (typeOf === 'number') {
    return printNumber(val);
  }

  if (typeOf === 'bigint') {
    return printBigInt(val);
  }

  if (typeOf === 'string') {
    if (escapeString) {
      return '"' + val.replace(/"|\\/g, '\\$&') + '"';
    }

    return '"' + val + '"';
  }

  if (typeOf === 'function') {
    return printFunction(val, printFunctionName);
  }

  if (typeOf === 'symbol') {
    return printSymbol(val);
  }

  var toStringed = toString.call(val);

  if (toStringed === '[object WeakMap]') {
    return 'WeakMap {}';
  }

  if (toStringed === '[object WeakSet]') {
    return 'WeakSet {}';
  }

  if (toStringed === '[object Function]' || toStringed === '[object GeneratorFunction]') {
    return printFunction(val, printFunctionName);
  }

  if (toStringed === '[object Symbol]') {
    return printSymbol(val);
  }

  if (toStringed === '[object Date]') {
    return isNaN(+val) ? 'Date { NaN }' : toISOString.call(val);
  }

  if (toStringed === '[object Error]') {
    return printError(val);
  }

  if (toStringed === '[object RegExp]') {
    if (escapeRegex) {
      return regExpToString.call(val).replace(/[\\^$*+?.()|[\]{}]/g, '\\$&');
    }

    return regExpToString.call(val);
  }

  if (val instanceof Error) {
    return printError(val);
  }

  return null;
}

function printComplexValue(val, config, indentation, depth, refs, hasCalledToJSON) {
  if (refs.indexOf(val) !== -1) {
    return '[Circular]';
  }

  refs = refs.slice();
  refs.push(val);
  var hitMaxDepth = ++depth > config.maxDepth;
  var min = config.min;

  if (config.callToJSON && !hitMaxDepth && val.toJSON && typeof val.toJSON === 'function' && !hasCalledToJSON) {
    return printer(val.toJSON(), config, indentation, depth, refs, true);
  }

  var toStringed = toString.call(val);

  if (toStringed === '[object Arguments]') {
    return hitMaxDepth ? '[Arguments]' : (min ? '' : 'Arguments ') + '[' + (0, _collections.printListItems)(val, config, indentation, depth, refs, printer) + ']';
  }

  if (isToStringedArrayType(toStringed)) {
    return hitMaxDepth ? '[' + val.constructor.name + ']' : (min ? '' : val.constructor.name + ' ') + '[' + (0, _collections.printListItems)(val, config, indentation, depth, refs, printer) + ']';
  }

  if (toStringed === '[object Map]') {
    return hitMaxDepth ? '[Map]' : 'Map {' + (0, _collections.printIteratorEntries)(val.entries(), config, indentation, depth, refs, printer, ' => ') + '}';
  }

  if (toStringed === '[object Set]') {
    return hitMaxDepth ? '[Set]' : 'Set {' + (0, _collections.printIteratorValues)(val.values(), config, indentation, depth, refs, printer) + '}';
  }

  return hitMaxDepth || isWindow(val) ? '[' + getConstructorName(val) + ']' : (min ? '' : getConstructorName(val) + ' ') + '{' + (0, _collections.printObjectProperties)(val, config, indentation, depth, refs, printer) + '}';
}

function isNewPlugin(plugin) {
  return plugin.serialize != null;
}

function printPlugin(plugin, val, config, indentation, depth, refs) {
  var printed;

  try {
    printed = isNewPlugin(plugin) ? plugin.serialize(val, config, indentation, depth, refs, printer) : plugin.print(val, function (valChild) {
      return printer(valChild, config, indentation, depth, refs);
    }, function (str) {
      var indentationNext = indentation + config.indent;
      return indentationNext + str.replace(NEWLINE_REGEXP, '\n' + indentationNext);
    }, {
      edgeSpacing: config.spacingOuter,
      min: config.min,
      spacing: config.spacingInner
    }, config.colors);
  } catch (error) {
    throw new PrettyFormatPluginError(error.message, error.stack);
  }

  if (typeof printed !== 'string') {
    throw new Error("pretty-format: Plugin must return type \"string\" but instead returned \"" + typeof printed + "\".");
  }

  return printed;
}

function findPlugin(plugins, val) {
  for (var p = 0; p < plugins.length; p++) {
    try {
      if (plugins[p].test(val)) {
        return plugins[p];
      }
    } catch (error) {
      throw new PrettyFormatPluginError(error.message, error.stack);
    }
  }

  return null;
}

function printer(val, config, indentation, depth, refs, hasCalledToJSON) {
  var plugin = findPlugin(config.plugins, val);

  if (plugin !== null) {
    return printPlugin(plugin, val, config, indentation, depth, refs);
  }

  var basicResult = printBasicValue(val, config.printFunctionName, config.escapeRegex, config.escapeString);

  if (basicResult !== null) {
    return basicResult;
  }

  return printComplexValue(val, config, indentation, depth, refs, hasCalledToJSON);
}

var DEFAULT_THEME = {
  comment: 'gray',
  content: 'reset',
  prop: 'yellow',
  tag: 'cyan',
  value: 'green'
};
var DEFAULT_THEME_KEYS = Object.keys(DEFAULT_THEME);
var DEFAULT_OPTIONS = {
  callToJSON: true,
  escapeRegex: false,
  escapeString: true,
  highlight: false,
  indent: 2,
  maxDepth: Infinity,
  min: false,
  plugins: [],
  printFunctionName: true,
  theme: DEFAULT_THEME
};

function validateOptions(options) {
  Object.keys(options).forEach(function (key) {
    if (!DEFAULT_OPTIONS.hasOwnProperty(key)) {
      throw new Error("pretty-format: Unknown option \"" + key + "\".");
    }
  });

  if (options.min && options.indent !== undefined && options.indent !== 0) {
    throw new Error('pretty-format: Options "min" and "indent" cannot be used together.');
  }

  if (options.theme !== undefined) {
    if (options.theme === null) {
      throw new Error("pretty-format: Option \"theme\" must not be null.");
    }

    if (typeof options.theme !== 'object') {
      throw new Error("pretty-format: Option \"theme\" must be of type \"object\" but instead received \"" + typeof options.theme + "\".");
    }
  }
}

var getColorsHighlight = function getColorsHighlight(options) {
  return DEFAULT_THEME_KEYS.reduce(function (colors, key) {
    var value = options.theme && options.theme[key] !== undefined ? options.theme[key] : DEFAULT_THEME[key];
    var color = value && _ansiStyles.default[value];

    if (color && typeof color.close === 'string' && typeof color.open === 'string') {
      colors[key] = color;
    } else {
      throw new Error("pretty-format: Option \"theme\" has a key \"" + key + "\" whose value \"" + value + "\" is undefined in ansi-styles.");
    }

    return colors;
  }, Object.create(null));
};

var getColorsEmpty = function getColorsEmpty() {
  return DEFAULT_THEME_KEYS.reduce(function (colors, key) {
    colors[key] = {
      close: '',
      open: ''
    };
    return colors;
  }, Object.create(null));
};

var getPrintFunctionName = function getPrintFunctionName(options) {
  return options && options.printFunctionName !== undefined ? options.printFunctionName : DEFAULT_OPTIONS.printFunctionName;
};

var getEscapeRegex = function getEscapeRegex(options) {
  return options && options.escapeRegex !== undefined ? options.escapeRegex : DEFAULT_OPTIONS.escapeRegex;
};

var getEscapeString = function getEscapeString(options) {
  return options && options.escapeString !== undefined ? options.escapeString : DEFAULT_OPTIONS.escapeString;
};

var getConfig = function getConfig(options) {
  return {
    callToJSON: options && options.callToJSON !== undefined ? options.callToJSON : DEFAULT_OPTIONS.callToJSON,
    colors: options && options.highlight ? getColorsHighlight(options) : getColorsEmpty(),
    escapeRegex: getEscapeRegex(options),
    escapeString: getEscapeString(options),
    indent: options && options.min ? '' : createIndent(options && options.indent !== undefined ? options.indent : DEFAULT_OPTIONS.indent),
    maxDepth: options && options.maxDepth !== undefined ? options.maxDepth : DEFAULT_OPTIONS.maxDepth,
    min: options && options.min !== undefined ? options.min : DEFAULT_OPTIONS.min,
    plugins: options && options.plugins !== undefined ? options.plugins : DEFAULT_OPTIONS.plugins,
    printFunctionName: getPrintFunctionName(options),
    spacingInner: options && options.min ? ' ' : '\n',
    spacingOuter: options && options.min ? '' : '\n'
  };
};

function createIndent(indent) {
  return new Array(indent + 1).join(' ');
}

function prettyFormat(val, options) {
  if (options) {
    validateOptions(options);

    if (options.plugins) {
      var plugin = findPlugin(options.plugins, val);

      if (plugin !== null) {
        return printPlugin(plugin, val, getConfig(options), '', 0, []);
      }
    }
  }

  var basicResult = printBasicValue(val, getPrintFunctionName(options), getEscapeRegex(options), getEscapeString(options));

  if (basicResult !== null) {
    return basicResult;
  }

  return printComplexValue(val, getConfig(options), '', 0, []);
}

prettyFormat.plugins = {
  AsymmetricMatcher: _AsymmetricMatcher.default,
  ConvertAnsi: _ConvertAnsi.default,
  DOMCollection: _DOMCollection.default,
  DOMElement: _DOMElement.default,
  Immutable: _Immutable.default,
  ReactElement: _ReactElement.default,
  ReactTestComponent: _ReactTestComponent.default
};
module.exports = prettyFormat;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIl9hbnNpU3R5bGVzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfY29sbGVjdGlvbnMiLCJfQXN5bW1ldHJpY01hdGNoZXIiLCJfQ29udmVydEFuc2kiLCJfRE9NQ29sbGVjdGlvbiIsIl9ET01FbGVtZW50IiwiX0ltbXV0YWJsZSIsIl9SZWFjdEVsZW1lbnQiLCJfUmVhY3RUZXN0Q29tcG9uZW50Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJ0b1N0cmluZyIsIk9iamVjdCIsInByb3RvdHlwZSIsInRvSVNPU3RyaW5nIiwiRGF0ZSIsImVycm9yVG9TdHJpbmciLCJFcnJvciIsInJlZ0V4cFRvU3RyaW5nIiwiUmVnRXhwIiwiZ2V0Q29uc3RydWN0b3JOYW1lIiwidmFsIiwiY29uc3RydWN0b3IiLCJuYW1lIiwiaXNXaW5kb3ciLCJ3aW5kb3ciLCJTWU1CT0xfUkVHRVhQIiwiTkVXTElORV9SRUdFWFAiLCJQcmV0dHlGb3JtYXRQbHVnaW5FcnJvciIsIm1lc3NhZ2UiLCJzdGFjayIsImlzVG9TdHJpbmdlZEFycmF5VHlwZSIsInRvU3RyaW5nZWQiLCJwcmludE51bWJlciIsImlzIiwiU3RyaW5nIiwicHJpbnRCaWdJbnQiLCJwcmludEZ1bmN0aW9uIiwicHJpbnRGdW5jdGlvbk5hbWUiLCJwcmludFN5bWJvbCIsInJlcGxhY2UiLCJwcmludEVycm9yIiwiY2FsbCIsInByaW50QmFzaWNWYWx1ZSIsImVzY2FwZVJlZ2V4IiwiZXNjYXBlU3RyaW5nIiwidW5kZWZpbmVkIiwidHlwZU9mIiwiaXNOYU4iLCJwcmludENvbXBsZXhWYWx1ZSIsImNvbmZpZyIsImluZGVudGF0aW9uIiwiZGVwdGgiLCJyZWZzIiwiaGFzQ2FsbGVkVG9KU09OIiwiaW5kZXhPZiIsInNsaWNlIiwicHVzaCIsImhpdE1heERlcHRoIiwibWF4RGVwdGgiLCJtaW4iLCJjYWxsVG9KU09OIiwidG9KU09OIiwicHJpbnRlciIsInByaW50TGlzdEl0ZW1zIiwicHJpbnRJdGVyYXRvckVudHJpZXMiLCJlbnRyaWVzIiwicHJpbnRJdGVyYXRvclZhbHVlcyIsInZhbHVlcyIsInByaW50T2JqZWN0UHJvcGVydGllcyIsImlzTmV3UGx1Z2luIiwicGx1Z2luIiwic2VyaWFsaXplIiwicHJpbnRQbHVnaW4iLCJwcmludGVkIiwicHJpbnQiLCJ2YWxDaGlsZCIsInN0ciIsImluZGVudGF0aW9uTmV4dCIsImluZGVudCIsImVkZ2VTcGFjaW5nIiwic3BhY2luZ091dGVyIiwic3BhY2luZyIsInNwYWNpbmdJbm5lciIsImNvbG9ycyIsImVycm9yIiwiZmluZFBsdWdpbiIsInBsdWdpbnMiLCJwIiwibGVuZ3RoIiwidGVzdCIsImJhc2ljUmVzdWx0IiwiREVGQVVMVF9USEVNRSIsImNvbW1lbnQiLCJjb250ZW50IiwicHJvcCIsInRhZyIsInZhbHVlIiwiREVGQVVMVF9USEVNRV9LRVlTIiwia2V5cyIsIkRFRkFVTFRfT1BUSU9OUyIsImhpZ2hsaWdodCIsIkluZmluaXR5IiwidGhlbWUiLCJ2YWxpZGF0ZU9wdGlvbnMiLCJvcHRpb25zIiwiZm9yRWFjaCIsImtleSIsImhhc093blByb3BlcnR5IiwiZ2V0Q29sb3JzSGlnaGxpZ2h0IiwicmVkdWNlIiwiY29sb3IiLCJjbG9zZSIsIm9wZW4iLCJjcmVhdGUiLCJnZXRDb2xvcnNFbXB0eSIsImdldFByaW50RnVuY3Rpb25OYW1lIiwiZ2V0RXNjYXBlUmVnZXgiLCJnZXRFc2NhcGVTdHJpbmciLCJnZXRDb25maWciLCJjcmVhdGVJbmRlbnQiLCJBcnJheSIsImpvaW4iLCJwcmV0dHlGb3JtYXQiLCJBc3ltbWV0cmljTWF0Y2hlciIsIkNvbnZlcnRBbnNpIiwiRE9NQ29sbGVjdGlvbiIsIkRPTUVsZW1lbnQiLCJJbW11dGFibGUiLCJSZWFjdEVsZW1lbnQiLCJSZWFjdFRlc3RDb21wb25lbnQiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7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VUFBVSxFQUFFM0gsV0FBVyxDQUFDTSxPQUpIO0FBS3JCc0gsRUFBQUEsU0FBUyxFQUFFM0gsVUFBVSxDQUFDSyxPQUxEO0FBTXJCdUgsRUFBQUEsWUFBWSxFQUFFM0gsYUFBYSxDQUFDSSxPQU5QO0FBT3JCd0gsRUFBQUEsa0JBQWtCLEVBQUUzSCxtQkFBbUIsQ0FBQ0c7QUFQbkIsQ0FBdkI7QUFTQXlILE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQlQsWUFBakIiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBfYW5zaVN0eWxlcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgnYW5zaS1zdHlsZXMnKSk7XG5cbnZhciBfY29sbGVjdGlvbnMgPSByZXF1aXJlKCcuL2NvbGxlY3Rpb25zJyk7XG5cbnZhciBfQXN5bW1ldHJpY01hdGNoZXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KFxuICByZXF1aXJlKCcuL3BsdWdpbnMvQXN5bW1ldHJpY01hdGNoZXInKVxuKTtcblxudmFyIF9Db252ZXJ0QW5zaSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgnLi9wbHVnaW5zL0NvbnZlcnRBbnNpJykpO1xuXG52YXIgX0RPTUNvbGxlY3Rpb24gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoJy4vcGx1Z2lucy9ET01Db2xsZWN0aW9uJykpO1xuXG52YXIgX0RPTUVsZW1lbnQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoJy4vcGx1Z2lucy9ET01FbGVtZW50JykpO1xuXG52YXIgX0ltbXV0YWJsZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgnLi9wbHVnaW5zL0ltbXV0YWJsZScpKTtcblxudmFyIF9SZWFjdEVsZW1lbnQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoJy4vcGx1Z2lucy9SZWFjdEVsZW1lbnQnKSk7XG5cbnZhciBfUmVhY3RUZXN0Q29tcG9uZW50ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChcbiAgcmVxdWlyZSgnLi9wbHVnaW5zL1JlYWN0VGVzdENvbXBvbmVudCcpXG4pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDoge2RlZmF1bHQ6IG9ian07XG59XG5cbi8qKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuLyogZXNsaW50LWRpc2FibGUgbG9jYWwvYmFuLXR5cGVzLWV2ZW50dWFsbHkgKi9cbmNvbnN0IHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcbmNvbnN0IHRvSVNPU3RyaW5nID0gRGF0ZS5wcm90b3R5cGUudG9JU09TdHJpbmc7XG5jb25zdCBlcnJvclRvU3RyaW5nID0gRXJyb3IucHJvdG90eXBlLnRvU3RyaW5nO1xuY29uc3QgcmVnRXhwVG9TdHJpbmcgPSBSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nO1xuLyoqXG4gKiBFeHBsaWNpdGx5IGNvbXBhcmluZyB0eXBlb2YgY29uc3RydWN0b3IgdG8gZnVuY3Rpb24gYXZvaWRzIHVuZGVmaW5lZCBhcyBuYW1lXG4gKiB3aGVuIG1vY2sgaWRlbnRpdHktb2JqLXByb3h5IHJldHVybnMgdGhlIGtleSBhcyB0aGUgdmFsdWUgZm9yIGFueSBrZXkuXG4gKi9cblxuY29uc3QgZ2V0Q29uc3RydWN0b3JOYW1lID0gdmFsID0+XG4gICh0eXBlb2YgdmFsLmNvbnN0cnVjdG9yID09PSAnZnVuY3Rpb24nICYmIHZhbC5jb25zdHJ1Y3Rvci5uYW1lKSB8fCAnT2JqZWN0Jztcbi8qIGdsb2JhbCB3aW5kb3cgKi9cblxuLyoqIElzIHZhbCBpcyBlcXVhbCB0byBnbG9iYWwgd2luZG93IG9iamVjdD8gV29ya3MgZXZlbiBpZiBpdCBkb2VzIG5vdCBleGlzdCA6KSAqL1xuXG5jb25zdCBpc1dpbmRvdyA9IHZhbCA9PiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB2YWwgPT09IHdpbmRvdztcblxuY29uc3QgU1lNQk9MX1JFR0VYUCA9IC9eU3ltYm9sXFwoKC4qKVxcKSguKikkLztcbmNvbnN0IE5FV0xJTkVfUkVHRVhQID0gL1xcbi9naTtcblxuY2xhc3MgUHJldHR5Rm9ybWF0UGx1Z2luRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIHN0YWNrKSB7XG4gICAgc3VwZXIobWVzc2FnZSk7XG4gICAgdGhpcy5zdGFjayA9IHN0YWNrO1xuICAgIHRoaXMubmFtZSA9IHRoaXMuY29uc3RydWN0b3IubmFtZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc1RvU3RyaW5nZWRBcnJheVR5cGUodG9TdHJpbmdlZCkge1xuICByZXR1cm4gKFxuICAgIHRvU3RyaW5nZWQgPT09ICdbb2JqZWN0IEFycmF5XScgfHxcbiAgICB0b1N0cmluZ2VkID09PSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nIHx8XG4gICAgdG9TdHJpbmdlZCA9PT0gJ1tvYmplY3QgRGF0YVZpZXddJyB8fFxuICAgIHRvU3RyaW5nZWQgPT09ICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nIHx8XG4gICAgdG9TdHJpbmdlZCA9PT0gJ1tvYmplY3QgRmxvYXQ2NEFycmF5XScgfHxcbiAgICB0b1N0cmluZ2VkID09PSAnW29iamVjdCBJbnQ4QXJyYXldJyB8fFxuICAgIHRvU3RyaW5nZWQgPT09ICdbb2JqZWN0IEludDE2QXJyYXldJyB8fFxuICAgIHRvU3RyaW5nZWQgPT09ICdbb2JqZWN0IEludDMyQXJyYXldJyB8fFxuICAgIHRvU3RyaW5nZWQgPT09ICdbb2JqZWN0IFVpbnQ4QXJyYXldJyB8fFxuICAgIHRvU3RyaW5nZWQgPT09ICdbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XScgfHxcbiAgICB0b1N0cmluZ2VkID09PSAnW29iamVjdCBVaW50MTZBcnJheV0nIHx8XG4gICAgdG9TdHJpbmdlZCA9PT0gJ1tvYmplY3QgVWludDMyQXJyYXldJ1xuICApO1xufVxuXG5mdW5jdGlvbiBwcmludE51bWJlcih2YWwpIHtcbiAgcmV0dXJuIE9iamVjdC5pcyh2YWwsIC0wKSA/ICctMCcgOiBTdHJpbmcodmFsKTtcbn1cblxuZnVuY3Rpb24gcHJpbnRCaWdJbnQodmFsKSB7XG4gIHJldHVybiBTdHJpbmcoYCR7dmFsfW5gKTtcbn1cblxuZnVuY3Rpb24gcHJpbnRGdW5jdGlvbih2YWwsIHByaW50RnVuY3Rpb25OYW1lKSB7XG4gIGlmICghcHJpbnRGdW5jdGlvbk5hbWUpIHtcbiAgICByZXR1cm4gJ1tGdW5jdGlvbl0nO1xuICB9XG5cbiAgcmV0dXJuICdbRnVuY3Rpb24gJyArICh2YWwubmFtZSB8fCAnYW5vbnltb3VzJykgKyAnXSc7XG59XG5cbmZ1bmN0aW9uIHByaW50U3ltYm9sKHZhbCkge1xuICByZXR1cm4gU3RyaW5nKHZhbCkucmVwbGFjZShTWU1CT0xfUkVHRVhQLCAnU3ltYm9sKCQxKScpO1xufVxuXG5mdW5jdGlvbiBwcmludEVycm9yKHZhbCkge1xuICByZXR1cm4gJ1snICsgZXJyb3JUb1N0cmluZy5jYWxsKHZhbCkgKyAnXSc7XG59XG4vKipcbiAqIFRoZSBmaXJzdCBwb3J0IG9mIGNhbGwgZm9yIHByaW50aW5nIGFuIG9iamVjdCwgaGFuZGxlcyBtb3N0IG9mIHRoZVxuICogZGF0YS10eXBlcyBpbiBKUy5cbiAqL1xuXG5mdW5jdGlvbiBwcmludEJhc2ljVmFsdWUodmFsLCBwcmludEZ1bmN0aW9uTmFtZSwgZXNjYXBlUmVnZXgsIGVzY2FwZVN0cmluZykge1xuICBpZiAodmFsID09PSB0cnVlIHx8IHZhbCA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm4gJycgKyB2YWw7XG4gIH1cblxuICBpZiAodmFsID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gJ3VuZGVmaW5lZCc7XG4gIH1cblxuICBpZiAodmFsID09PSBudWxsKSB7XG4gICAgcmV0dXJuICdudWxsJztcbiAgfVxuXG4gIGNvbnN0IHR5cGVPZiA9IHR5cGVvZiB2YWw7XG5cbiAgaWYgKHR5cGVPZiA9PT0gJ251bWJlcicpIHtcbiAgICByZXR1cm4gcHJpbnROdW1iZXIodmFsKTtcbiAgfVxuXG4gIGlmICh0eXBlT2YgPT09ICdiaWdpbnQnKSB7XG4gICAgcmV0dXJuIHByaW50QmlnSW50KHZhbCk7XG4gIH1cblxuICBpZiAodHlwZU9mID09PSAnc3RyaW5nJykge1xuICAgIGlmIChlc2NhcGVTdHJpbmcpIHtcbiAgICAgIHJldHVybiAnXCInICsgdmFsLnJlcGxhY2UoL1wifFxcXFwvZywgJ1xcXFwkJicpICsgJ1wiJztcbiAgICB9XG5cbiAgICByZXR1cm4gJ1wiJyArIHZhbCArICdcIic7XG4gIH1cblxuICBpZiAodHlwZU9mID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIHByaW50RnVuY3Rpb24odmFsLCBwcmludEZ1bmN0aW9uTmFtZSk7XG4gIH1cblxuICBpZiAodHlwZU9mID09PSAnc3ltYm9sJykge1xuICAgIHJldHVybiBwcmludFN5bWJvbCh2YWwpO1xuICB9XG5cbiAgY29uc3QgdG9TdHJpbmdlZCA9IHRvU3RyaW5nLmNhbGwodmFsKTtcblxuICBpZiAodG9TdHJpbmdlZCA9PT0gJ1tvYmplY3QgV2Vha01hcF0nKSB7XG4gICAgcmV0dXJuICdXZWFrTWFwIHt9JztcbiAgfVxuXG4gIGlmICh0b1N0cmluZ2VkID09PSAnW29iamVjdCBXZWFrU2V0XScpIHtcbiAgICByZXR1cm4gJ1dlYWtTZXQge30nO1xuICB9XG5cbiAgaWYgKFxuICAgIHRvU3RyaW5nZWQgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXScgfHxcbiAgICB0b1N0cmluZ2VkID09PSAnW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl0nXG4gICkge1xuICAgIHJldHVybiBwcmludEZ1bmN0aW9uKHZhbCwgcHJpbnRGdW5jdGlvbk5hbWUpO1xuICB9XG5cbiAgaWYgKHRvU3RyaW5nZWQgPT09ICdbb2JqZWN0IFN5bWJvbF0nKSB7XG4gICAgcmV0dXJuIHByaW50U3ltYm9sKHZhbCk7XG4gIH1cblxuICBpZiAodG9TdHJpbmdlZCA9PT0gJ1tvYmplY3QgRGF0ZV0nKSB7XG4gICAgcmV0dXJuIGlzTmFOKCt2YWwpID8gJ0RhdGUgeyBOYU4gfScgOiB0b0lTT1N0cmluZy5jYWxsKHZhbCk7XG4gIH1cblxuICBpZiAodG9TdHJpbmdlZCA9PT0gJ1tvYmplY3QgRXJyb3JdJykge1xuICAgIHJldHVybiBwcmludEVycm9yKHZhbCk7XG4gIH1cblxuICBpZiAodG9TdHJpbmdlZCA9PT0gJ1tvYmplY3QgUmVnRXhwXScpIHtcbiAgICBpZiAoZXNjYXBlUmVnZXgpIHtcbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9iZW5qYW1pbmdyL1JlZ0V4cC5lc2NhcGUvYmxvYi9tYXN0ZXIvcG9seWZpbGwuanNcbiAgICAgIHJldHVybiByZWdFeHBUb1N0cmluZy5jYWxsKHZhbCkucmVwbGFjZSgvW1xcXFxeJCorPy4oKXxbXFxde31dL2csICdcXFxcJCYnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVnRXhwVG9TdHJpbmcuY2FsbCh2YWwpO1xuICB9XG5cbiAgaWYgKHZhbCBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgcmV0dXJuIHByaW50RXJyb3IodmFsKTtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuLyoqXG4gKiBIYW5kbGVzIG1vcmUgY29tcGxleCBvYmplY3RzICggc3VjaCBhcyBvYmplY3RzIHdpdGggY2lyY3VsYXIgcmVmZXJlbmNlcy5cbiAqIG1hcHMgYW5kIHNldHMgZXRjIClcbiAqL1xuXG5mdW5jdGlvbiBwcmludENvbXBsZXhWYWx1ZShcbiAgdmFsLFxuICBjb25maWcsXG4gIGluZGVudGF0aW9uLFxuICBkZXB0aCxcbiAgcmVmcyxcbiAgaGFzQ2FsbGVkVG9KU09OXG4pIHtcbiAgaWYgKHJlZnMuaW5kZXhPZih2YWwpICE9PSAtMSkge1xuICAgIHJldHVybiAnW0NpcmN1bGFyXSc7XG4gIH1cblxuICByZWZzID0gcmVmcy5zbGljZSgpO1xuICByZWZzLnB1c2godmFsKTtcbiAgY29uc3QgaGl0TWF4RGVwdGggPSArK2RlcHRoID4gY29uZmlnLm1heERlcHRoO1xuICBjb25zdCBtaW4gPSBjb25maWcubWluO1xuXG4gIGlmIChcbiAgICBjb25maWcuY2FsbFRvSlNPTiAmJlxuICAgICFoaXRNYXhEZXB0aCAmJlxuICAgIHZhbC50b0pTT04gJiZcbiAgICB0eXBlb2YgdmFsLnRvSlNPTiA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICFoYXNDYWxsZWRUb0pTT05cbiAgKSB7XG4gICAgcmV0dXJuIHByaW50ZXIodmFsLnRvSlNPTigpLCBjb25maWcsIGluZGVudGF0aW9uLCBkZXB0aCwgcmVmcywgdHJ1ZSk7XG4gIH1cblxuICBjb25zdCB0b1N0cmluZ2VkID0gdG9TdHJpbmcuY2FsbCh2YWwpO1xuXG4gIGlmICh0b1N0cmluZ2VkID09PSAnW29iamVjdCBBcmd1bWVudHNdJykge1xuICAgIHJldHVybiBoaXRNYXhEZXB0aFxuICAgICAgPyAnW0FyZ3VtZW50c10nXG4gICAgICA6IChtaW4gPyAnJyA6ICdBcmd1bWVudHMgJykgK1xuICAgICAgICAgICdbJyArXG4gICAgICAgICAgKDAsIF9jb2xsZWN0aW9ucy5wcmludExpc3RJdGVtcykoXG4gICAgICAgICAgICB2YWwsXG4gICAgICAgICAgICBjb25maWcsXG4gICAgICAgICAgICBpbmRlbnRhdGlvbixcbiAgICAgICAgICAgIGRlcHRoLFxuICAgICAgICAgICAgcmVmcyxcbiAgICAgICAgICAgIHByaW50ZXJcbiAgICAgICAgICApICtcbiAgICAgICAgICAnXSc7XG4gIH1cblxuICBpZiAoaXNUb1N0cmluZ2VkQXJyYXlUeXBlKHRvU3RyaW5nZWQpKSB7XG4gICAgcmV0dXJuIGhpdE1heERlcHRoXG4gICAgICA/ICdbJyArIHZhbC5jb25zdHJ1Y3Rvci5uYW1lICsgJ10nXG4gICAgICA6IChtaW4gPyAnJyA6IHZhbC5jb25zdHJ1Y3Rvci5uYW1lICsgJyAnKSArXG4gICAgICAgICAgJ1snICtcbiAgICAgICAgICAoMCwgX2NvbGxlY3Rpb25zLnByaW50TGlzdEl0ZW1zKShcbiAgICAgICAgICAgIHZhbCxcbiAgICAgICAgICAgIGNvbmZpZyxcbiAgICAgICAgICAgIGluZGVudGF0aW9uLFxuICAgICAgICAgICAgZGVwdGgsXG4gICAgICAgICAgICByZWZzLFxuICAgICAgICAgICAgcHJpbnRlclxuICAgICAgICAgICkgK1xuICAgICAgICAgICddJztcbiAgfVxuXG4gIGlmICh0b1N0cmluZ2VkID09PSAnW29iamVjdCBNYXBdJykge1xuICAgIHJldHVybiBoaXRNYXhEZXB0aFxuICAgICAgPyAnW01hcF0nXG4gICAgICA6ICdNYXAgeycgK1xuICAgICAgICAgICgwLCBfY29sbGVjdGlvbnMucHJpbnRJdGVyYXRvckVudHJpZXMpKFxuICAgICAgICAgICAgdmFsLmVudHJpZXMoKSxcbiAgICAgICAgICAgIGNvbmZpZyxcbiAgICAgICAgICAgIGluZGVudGF0aW9uLFxuICAgICAgICAgICAgZGVwdGgsXG4gICAgICAgICAgICByZWZzLFxuICAgICAgICAgICAgcHJpbnRlcixcbiAgICAgICAgICAgICcgPT4gJ1xuICAgICAgICAgICkgK1xuICAgICAgICAgICd9JztcbiAgfVxuXG4gIGlmICh0b1N0cmluZ2VkID09PSAnW29iamVjdCBTZXRdJykge1xuICAgIHJldHVybiBoaXRNYXhEZXB0aFxuICAgICAgPyAnW1NldF0nXG4gICAgICA6ICdTZXQgeycgK1xuICAgICAgICAgICgwLCBfY29sbGVjdGlvbnMucHJpbnRJdGVyYXRvclZhbHVlcykoXG4gICAgICAgICAgICB2YWwudmFsdWVzKCksXG4gICAgICAgICAgICBjb25maWcsXG4gICAgICAgICAgICBpbmRlbnRhdGlvbixcbiAgICAgICAgICAgIGRlcHRoLFxuICAgICAgICAgICAgcmVmcyxcbiAgICAgICAgICAgIHByaW50ZXJcbiAgICAgICAgICApICtcbiAgICAgICAgICAnfSc7XG4gIH0gLy8gQXZvaWQgZmFpbHVyZSB0byBzZXJpYWxpemUgZ2xvYmFsIHdpbmRvdyBvYmplY3QgaW4ganNkb20gdGVzdCBlbnZpcm9ubWVudC5cbiAgLy8gRm9yIGV4YW1wbGUsIG5vdCBldmVuIHJlbGV2YW50IGlmIHdpbmRvdyBpcyBwcm9wIG9mIFJlYWN0IGVsZW1lbnQuXG5cbiAgcmV0dXJuIGhpdE1heERlcHRoIHx8IGlzV2luZG93KHZhbClcbiAgICA/ICdbJyArIGdldENvbnN0cnVjdG9yTmFtZSh2YWwpICsgJ10nXG4gICAgOiAobWluID8gJycgOiBnZXRDb25zdHJ1Y3Rvck5hbWUodmFsKSArICcgJykgK1xuICAgICAgICAneycgK1xuICAgICAgICAoMCwgX2NvbGxlY3Rpb25zLnByaW50T2JqZWN0UHJvcGVydGllcykoXG4gICAgICAgICAgdmFsLFxuICAgICAgICAgIGNvbmZpZyxcbiAgICAgICAgICBpbmRlbnRhdGlvbixcbiAgICAgICAgICBkZXB0aCxcbiAgICAgICAgICByZWZzLFxuICAgICAgICAgIHByaW50ZXJcbiAgICAgICAgKSArXG4gICAgICAgICd9Jztcbn1cblxuZnVuY3Rpb24gaXNOZXdQbHVnaW4ocGx1Z2luKSB7XG4gIHJldHVybiBwbHVnaW4uc2VyaWFsaXplICE9IG51bGw7XG59XG5cbmZ1bmN0aW9uIHByaW50UGx1Z2luKHBsdWdpbiwgdmFsLCBjb25maWcsIGluZGVudGF0aW9uLCBkZXB0aCwgcmVmcykge1xuICBsZXQgcHJpbnRlZDtcblxuICB0cnkge1xuICAgIHByaW50ZWQgPSBpc05ld1BsdWdpbihwbHVnaW4pXG4gICAgICA/IHBsdWdpbi5zZXJpYWxpemUodmFsLCBjb25maWcsIGluZGVudGF0aW9uLCBkZXB0aCwgcmVmcywgcHJpbnRlcilcbiAgICAgIDogcGx1Z2luLnByaW50KFxuICAgICAgICAgIHZhbCxcbiAgICAgICAgICB2YWxDaGlsZCA9PiBwcmludGVyKHZhbENoaWxkLCBjb25maWcsIGluZGVudGF0aW9uLCBkZXB0aCwgcmVmcyksXG4gICAgICAgICAgc3RyID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGluZGVudGF0aW9uTmV4dCA9IGluZGVudGF0aW9uICsgY29uZmlnLmluZGVudDtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIGluZGVudGF0aW9uTmV4dCArXG4gICAgICAgICAgICAgIHN0ci5yZXBsYWNlKE5FV0xJTkVfUkVHRVhQLCAnXFxuJyArIGluZGVudGF0aW9uTmV4dClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlZGdlU3BhY2luZzogY29uZmlnLnNwYWNpbmdPdXRlcixcbiAgICAgICAgICAgIG1pbjogY29uZmlnLm1pbixcbiAgICAgICAgICAgIHNwYWNpbmc6IGNvbmZpZy5zcGFjaW5nSW5uZXJcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNvbmZpZy5jb2xvcnNcbiAgICAgICAgKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBuZXcgUHJldHR5Rm9ybWF0UGx1Z2luRXJyb3IoZXJyb3IubWVzc2FnZSwgZXJyb3Iuc3RhY2spO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBwcmludGVkICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBwcmV0dHktZm9ybWF0OiBQbHVnaW4gbXVzdCByZXR1cm4gdHlwZSBcInN0cmluZ1wiIGJ1dCBpbnN0ZWFkIHJldHVybmVkIFwiJHt0eXBlb2YgcHJpbnRlZH1cIi5gXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBwcmludGVkO1xufVxuXG5mdW5jdGlvbiBmaW5kUGx1Z2luKHBsdWdpbnMsIHZhbCkge1xuICBmb3IgKGxldCBwID0gMDsgcCA8IHBsdWdpbnMubGVuZ3RoOyBwKyspIHtcbiAgICB0cnkge1xuICAgICAgaWYgKHBsdWdpbnNbcF0udGVzdCh2YWwpKSB7XG4gICAgICAgIHJldHVybiBwbHVnaW5zW3BdO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgUHJldHR5Rm9ybWF0UGx1Z2luRXJyb3IoZXJyb3IubWVzc2FnZSwgZXJyb3Iuc3RhY2spO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBwcmludGVyKHZhbCwgY29uZmlnLCBpbmRlbnRhdGlvbiwgZGVwdGgsIHJlZnMsIGhhc0NhbGxlZFRvSlNPTikge1xuICBjb25zdCBwbHVnaW4gPSBmaW5kUGx1Z2luKGNvbmZpZy5wbHVnaW5zLCB2YWwpO1xuXG4gIGlmIChwbHVnaW4gIT09IG51bGwpIHtcbiAgICByZXR1cm4gcHJpbnRQbHVnaW4ocGx1Z2luLCB2YWwsIGNvbmZpZywgaW5kZW50YXRpb24sIGRlcHRoLCByZWZzKTtcbiAgfVxuXG4gIGNvbnN0IGJhc2ljUmVzdWx0ID0gcHJpbnRCYXNpY1ZhbHVlKFxuICAgIHZhbCxcbiAgICBjb25maWcucHJpbnRGdW5jdGlvbk5hbWUsXG4gICAgY29uZmlnLmVzY2FwZVJlZ2V4LFxuICAgIGNvbmZpZy5lc2NhcGVTdHJpbmdcbiAgKTtcblxuICBpZiAoYmFzaWNSZXN1bHQgIT09IG51bGwpIHtcbiAgICByZXR1cm4gYmFzaWNSZXN1bHQ7XG4gIH1cblxuICByZXR1cm4gcHJpbnRDb21wbGV4VmFsdWUoXG4gICAgdmFsLFxuICAgIGNvbmZpZyxcbiAgICBpbmRlbnRhdGlvbixcbiAgICBkZXB0aCxcbiAgICByZWZzLFxuICAgIGhhc0NhbGxlZFRvSlNPTlxuICApO1xufVxuXG5jb25zdCBERUZBVUxUX1RIRU1FID0ge1xuICBjb21tZW50OiAnZ3JheScsXG4gIGNvbnRlbnQ6ICdyZXNldCcsXG4gIHByb3A6ICd5ZWxsb3cnLFxuICB0YWc6ICdjeWFuJyxcbiAgdmFsdWU6ICdncmVlbidcbn07XG5jb25zdCBERUZBVUxUX1RIRU1FX0tFWVMgPSBPYmplY3Qua2V5cyhERUZBVUxUX1RIRU1FKTtcbmNvbnN0IERFRkFVTFRfT1BUSU9OUyA9IHtcbiAgY2FsbFRvSlNPTjogdHJ1ZSxcbiAgZXNjYXBlUmVnZXg6IGZhbHNlLFxuICBlc2NhcGVTdHJpbmc6IHRydWUsXG4gIGhpZ2hsaWdodDogZmFsc2UsXG4gIGluZGVudDogMixcbiAgbWF4RGVwdGg6IEluZmluaXR5LFxuICBtaW46IGZhbHNlLFxuICBwbHVnaW5zOiBbXSxcbiAgcHJpbnRGdW5jdGlvbk5hbWU6IHRydWUsXG4gIHRoZW1lOiBERUZBVUxUX1RIRU1FXG59O1xuXG5mdW5jdGlvbiB2YWxpZGF0ZU9wdGlvbnMob3B0aW9ucykge1xuICBPYmplY3Qua2V5cyhvcHRpb25zKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgaWYgKCFERUZBVUxUX09QVElPTlMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBwcmV0dHktZm9ybWF0OiBVbmtub3duIG9wdGlvbiBcIiR7a2V5fVwiLmApO1xuICAgIH1cbiAgfSk7XG5cbiAgaWYgKG9wdGlvbnMubWluICYmIG9wdGlvbnMuaW5kZW50ICE9PSB1bmRlZmluZWQgJiYgb3B0aW9ucy5pbmRlbnQgIT09IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAncHJldHR5LWZvcm1hdDogT3B0aW9ucyBcIm1pblwiIGFuZCBcImluZGVudFwiIGNhbm5vdCBiZSB1c2VkIHRvZ2V0aGVyLidcbiAgICApO1xuICB9XG5cbiAgaWYgKG9wdGlvbnMudGhlbWUgIT09IHVuZGVmaW5lZCkge1xuICAgIGlmIChvcHRpb25zLnRoZW1lID09PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYHByZXR0eS1mb3JtYXQ6IE9wdGlvbiBcInRoZW1lXCIgbXVzdCBub3QgYmUgbnVsbC5gKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMudGhlbWUgIT09ICdvYmplY3QnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBwcmV0dHktZm9ybWF0OiBPcHRpb24gXCJ0aGVtZVwiIG11c3QgYmUgb2YgdHlwZSBcIm9iamVjdFwiIGJ1dCBpbnN0ZWFkIHJlY2VpdmVkIFwiJHt0eXBlb2Ygb3B0aW9ucy50aGVtZX1cIi5gXG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuXG5jb25zdCBnZXRDb2xvcnNIaWdobGlnaHQgPSBvcHRpb25zID0+XG4gIERFRkFVTFRfVEhFTUVfS0VZUy5yZWR1Y2UoKGNvbG9ycywga2V5KSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPVxuICAgICAgb3B0aW9ucy50aGVtZSAmJiBvcHRpb25zLnRoZW1lW2tleV0gIT09IHVuZGVmaW5lZFxuICAgICAgICA/IG9wdGlvbnMudGhlbWVba2V5XVxuICAgICAgICA6IERFRkFVTFRfVEhFTUVba2V5XTtcbiAgICBjb25zdCBjb2xvciA9IHZhbHVlICYmIF9hbnNpU3R5bGVzLmRlZmF1bHRbdmFsdWVdO1xuXG4gICAgaWYgKFxuICAgICAgY29sb3IgJiZcbiAgICAgIHR5cGVvZiBjb2xvci5jbG9zZSA9PT0gJ3N0cmluZycgJiZcbiAgICAgIHR5cGVvZiBjb2xvci5vcGVuID09PSAnc3RyaW5nJ1xuICAgICkge1xuICAgICAgY29sb3JzW2tleV0gPSBjb2xvcjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgcHJldHR5LWZvcm1hdDogT3B0aW9uIFwidGhlbWVcIiBoYXMgYSBrZXkgXCIke2tleX1cIiB3aG9zZSB2YWx1ZSBcIiR7dmFsdWV9XCIgaXMgdW5kZWZpbmVkIGluIGFuc2ktc3R5bGVzLmBcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbG9ycztcbiAgfSwgT2JqZWN0LmNyZWF0ZShudWxsKSk7XG5cbmNvbnN0IGdldENvbG9yc0VtcHR5ID0gKCkgPT5cbiAgREVGQVVMVF9USEVNRV9LRVlTLnJlZHVjZSgoY29sb3JzLCBrZXkpID0+IHtcbiAgICBjb2xvcnNba2V5XSA9IHtcbiAgICAgIGNsb3NlOiAnJyxcbiAgICAgIG9wZW46ICcnXG4gICAgfTtcbiAgICByZXR1cm4gY29sb3JzO1xuICB9LCBPYmplY3QuY3JlYXRlKG51bGwpKTtcblxuY29uc3QgZ2V0UHJpbnRGdW5jdGlvbk5hbWUgPSBvcHRpb25zID0+XG4gIG9wdGlvbnMgJiYgb3B0aW9ucy5wcmludEZ1bmN0aW9uTmFtZSAhPT0gdW5kZWZpbmVkXG4gICAgPyBvcHRpb25zLnByaW50RnVuY3Rpb25OYW1lXG4gICAgOiBERUZBVUxUX09QVElPTlMucHJpbnRGdW5jdGlvbk5hbWU7XG5cbmNvbnN0IGdldEVzY2FwZVJlZ2V4ID0gb3B0aW9ucyA9PlxuICBvcHRpb25zICYmIG9wdGlvbnMuZXNjYXBlUmVnZXggIT09IHVuZGVmaW5lZFxuICAgID8gb3B0aW9ucy5lc2NhcGVSZWdleFxuICAgIDogREVGQVVMVF9PUFRJT05TLmVzY2FwZVJlZ2V4O1xuXG5jb25zdCBnZXRFc2NhcGVTdHJpbmcgPSBvcHRpb25zID0+XG4gIG9wdGlvbnMgJiYgb3B0aW9ucy5lc2NhcGVTdHJpbmcgIT09IHVuZGVmaW5lZFxuICAgID8gb3B0aW9ucy5lc2NhcGVTdHJpbmdcbiAgICA6IERFRkFVTFRfT1BUSU9OUy5lc2NhcGVTdHJpbmc7XG5cbmNvbnN0IGdldENvbmZpZyA9IG9wdGlvbnMgPT4gKHtcbiAgY2FsbFRvSlNPTjpcbiAgICBvcHRpb25zICYmIG9wdGlvbnMuY2FsbFRvSlNPTiAhPT0gdW5kZWZpbmVkXG4gICAgICA/IG9wdGlvbnMuY2FsbFRvSlNPTlxuICAgICAgOiBERUZBVUxUX09QVElPTlMuY2FsbFRvSlNPTixcbiAgY29sb3JzOlxuICAgIG9wdGlvbnMgJiYgb3B0aW9ucy5oaWdobGlnaHRcbiAgICAgID8gZ2V0Q29sb3JzSGlnaGxpZ2h0KG9wdGlvbnMpXG4gICAgICA6IGdldENvbG9yc0VtcHR5KCksXG4gIGVzY2FwZVJlZ2V4OiBnZXRFc2NhcGVSZWdleChvcHRpb25zKSxcbiAgZXNjYXBlU3RyaW5nOiBnZXRFc2NhcGVTdHJpbmcob3B0aW9ucyksXG4gIGluZGVudDpcbiAgICBvcHRpb25zICYmIG9wdGlvbnMubWluXG4gICAgICA/ICcnXG4gICAgICA6IGNyZWF0ZUluZGVudChcbiAgICAgICAgICBvcHRpb25zICYmIG9wdGlvbnMuaW5kZW50ICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gb3B0aW9ucy5pbmRlbnRcbiAgICAgICAgICAgIDogREVGQVVMVF9PUFRJT05TLmluZGVudFxuICAgICAgICApLFxuICBtYXhEZXB0aDpcbiAgICBvcHRpb25zICYmIG9wdGlvbnMubWF4RGVwdGggIT09IHVuZGVmaW5lZFxuICAgICAgPyBvcHRpb25zLm1heERlcHRoXG4gICAgICA6IERFRkFVTFRfT1BUSU9OUy5tYXhEZXB0aCxcbiAgbWluOiBvcHRpb25zICYmIG9wdGlvbnMubWluICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm1pbiA6IERFRkFVTFRfT1BUSU9OUy5taW4sXG4gIHBsdWdpbnM6XG4gICAgb3B0aW9ucyAmJiBvcHRpb25zLnBsdWdpbnMgIT09IHVuZGVmaW5lZFxuICAgICAgPyBvcHRpb25zLnBsdWdpbnNcbiAgICAgIDogREVGQVVMVF9PUFRJT05TLnBsdWdpbnMsXG4gIHByaW50RnVuY3Rpb25OYW1lOiBnZXRQcmludEZ1bmN0aW9uTmFtZShvcHRpb25zKSxcbiAgc3BhY2luZ0lubmVyOiBvcHRpb25zICYmIG9wdGlvbnMubWluID8gJyAnIDogJ1xcbicsXG4gIHNwYWNpbmdPdXRlcjogb3B0aW9ucyAmJiBvcHRpb25zLm1pbiA/ICcnIDogJ1xcbidcbn0pO1xuXG5mdW5jdGlvbiBjcmVhdGVJbmRlbnQoaW5kZW50KSB7XG4gIHJldHVybiBuZXcgQXJyYXkoaW5kZW50ICsgMSkuam9pbignICcpO1xufVxuLyoqXG4gKiBSZXR1cm5zIGEgcHJlc2VudGF0aW9uIHN0cmluZyBvZiB5b3VyIGB2YWxgIG9iamVjdFxuICogQHBhcmFtIHZhbCBhbnkgcG90ZW50aWFsIEphdmFTY3JpcHQgb2JqZWN0XG4gKiBAcGFyYW0gb3B0aW9ucyBDdXN0b20gc2V0dGluZ3NcbiAqL1xuXG5mdW5jdGlvbiBwcmV0dHlGb3JtYXQodmFsLCBvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zKSB7XG4gICAgdmFsaWRhdGVPcHRpb25zKG9wdGlvbnMpO1xuXG4gICAgaWYgKG9wdGlvbnMucGx1Z2lucykge1xuICAgICAgY29uc3QgcGx1Z2luID0gZmluZFBsdWdpbihvcHRpb25zLnBsdWdpbnMsIHZhbCk7XG5cbiAgICAgIGlmIChwbHVnaW4gIT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHByaW50UGx1Z2luKHBsdWdpbiwgdmFsLCBnZXRDb25maWcob3B0aW9ucyksICcnLCAwLCBbXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29uc3QgYmFzaWNSZXN1bHQgPSBwcmludEJhc2ljVmFsdWUoXG4gICAgdmFsLFxuICAgIGdldFByaW50RnVuY3Rpb25OYW1lKG9wdGlvbnMpLFxuICAgIGdldEVzY2FwZVJlZ2V4KG9wdGlvbnMpLFxuICAgIGdldEVzY2FwZVN0cmluZyhvcHRpb25zKVxuICApO1xuXG4gIGlmIChiYXNpY1Jlc3VsdCAhPT0gbnVsbCkge1xuICAgIHJldHVybiBiYXNpY1Jlc3VsdDtcbiAgfVxuXG4gIHJldHVybiBwcmludENvbXBsZXhWYWx1ZSh2YWwsIGdldENvbmZpZyhvcHRpb25zKSwgJycsIDAsIFtdKTtcbn1cblxucHJldHR5Rm9ybWF0LnBsdWdpbnMgPSB7XG4gIEFzeW1tZXRyaWNNYXRjaGVyOiBfQXN5bW1ldHJpY01hdGNoZXIuZGVmYXVsdCxcbiAgQ29udmVydEFuc2k6IF9Db252ZXJ0QW5zaS5kZWZhdWx0LFxuICBET01Db2xsZWN0aW9uOiBfRE9NQ29sbGVjdGlvbi5kZWZhdWx0LFxuICBET01FbGVtZW50OiBfRE9NRWxlbWVudC5kZWZhdWx0LFxuICBJbW11dGFibGU6IF9JbW11dGFibGUuZGVmYXVsdCxcbiAgUmVhY3RFbGVtZW50OiBfUmVhY3RFbGVtZW50LmRlZmF1bHQsXG4gIFJlYWN0VGVzdENvbXBvbmVudDogX1JlYWN0VGVzdENvbXBvbmVudC5kZWZhdWx0XG59O1xubW9kdWxlLmV4cG9ydHMgPSBwcmV0dHlGb3JtYXQ7XG4iXX0=