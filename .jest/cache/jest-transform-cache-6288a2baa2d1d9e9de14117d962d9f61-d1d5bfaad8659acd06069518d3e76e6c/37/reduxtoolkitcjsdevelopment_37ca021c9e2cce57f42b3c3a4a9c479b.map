{"version":3,"sources":["redux-toolkit.cjs.development.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","__generator","thisArg","body","_","label","sent","t","trys","ops","f","y","g","next","verb","Symbol","iterator","n","v","step","op","done","value","pop","length","push","e","__spreadArray","to","from","i","il","j","__create","__defProp","defineProperty","__defProps","defineProperties","__getOwnPropDesc","getOwnPropertyDescriptor","__getOwnPropDescs","getOwnPropertyDescriptors","__getOwnPropNames","getOwnPropertyNames","__getOwnPropSymbols","getOwnPropertySymbols","__getProtoOf","getPrototypeOf","__hasOwnProp","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","key","enumerable","configurable","writable","__spreadValues","a","prop","_i","_b","__spreadProps","__markAsModule","target","__export","all","name","get","__reExport","module2","desc","_loop_1","__toModule","__esModule","default","__async","__this","__arguments","generator","Promise","resolve","reject","fulfilled","rejected","throw","x","then","apply","exports","MiddlewareArray","configureStore","createAction","createAsyncThunk","createDraftSafeSelector","createEntityAdapter","createImmutableStateInvariantMiddleware","createNextState","import_immer5","createReducer","createSelector","import_reselect2","createSerializableStateInvariantMiddleware","createSlice","current","findNonSerializableValue","freeze","getDefaultMiddleware","getType","isAllOf","isAnyOf","isAsyncThunkAction","isDraft","isFulfilled","isImmutableDefault","isPending","isPlain","isPlainObject","isRejected","isRejectedWithValue","miniSerializeError","nanoid","original","unwrapResult","import_immer4","require","import_immer","import_reselect","args","arguments","selector","wrappedSelector","rest","import_redux2","import_redux","composeWithDevTools","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","devToolsEnhancer","__REDUX_DEVTOOLS_EXTENSION__","noop","proto","import_redux_thunk","getTimeMeasureUtils","maxDelay","fnName","elapsed","measureTime","fn","started","Date","now","finished","warnIfExceeded","console","warn","_super","_this","species","concat","arr","prepend","isArray","bind","isProduction","prefix","invariant","condition","message","Error","stringify","serializer","indent","decycler","JSON","getSerialize","stack","keys","slice","indexOf","join","thisPos","splice","Infinity","isFrozen","trackForMutations","isImmutable","ignorePaths","trackedProperties","trackProperties","detectMutations","path","tracked","children","childPath","trackedProperty","sameParentRef","prevObj","sameRef","Number","isNaN","wasMutated","keysToDetect","result","options","action","ignoredPaths","_c","warnAfter","ignore","track","getState","state","tracker","measureUtils","dispatchedAction","val","type","isSerializable","getEntries","foundNestedSerializable","keyPath","entries","hasIgnoredPaths","entries_1","nestedValue","nestedPath","ignoredActions","_d","ignoredActionPaths","_e","_f","_g","ignoreState","storeAPI","foundActionNonSerializableValue","error","foundStateNonSerializableValue","isBoolean","curryGetDefaultMiddleware","curriedGetDefaultMiddleware","thunk","immutableCheck","serializableCheck","middlewareArray","withExtraArgument","extraArgument","immutableOptions","unshift","serializableOptions","IS_PRODUCTION","reducer","middleware","devTools","preloadedState","enhancers","rootReducer","combineReducers","finalMiddleware","some","item","middlewareEnhancer","applyMiddleware","finalCompose","trace","storeEnhancers","composedEnhancer","createStore","prepareAction","actionCreator","prepared","payload","meta","toString","match","isFSA","every","isValidKey","import_immer2","executeReducerBuilderCallback","builderCallback","actionsMap","actionMatchers","defaultCaseReducer","builder","addCase","typeOrActionCreator","addMatcher","matcher","addDefaultCase","initialState","mapOrBuilderCallback","finalActionMatchers","finalDefaultCaseReducer","frozenInitialState","caseReducers","filter","map","cr","reduce","previousState","caseReducer","draft","isDraftable","getType2","actionKey","reducers","extraReducers","reducerNames","sliceCaseReducersByName","sliceCaseReducersByType","actionCreators","forEach","reducerName","maybeReducerWithPrepare","prepareCallback","prepare","finalCaseReducers","actions","getInitialEntityState","ids","entities","createInitialStateFactory","getInitialState","additionalState","createSelectorsFactory","getSelectors","selectState","selectIds","selectEntities","selectAll","id","selectId","selectById","selectTotal","selectGlobalizedEntities","import_immer3","createSingleArgumentStateOperator","mutator","operator","createStateOperator","operation","arg","isPayloadActionArgument","arg2","runMutator","selectIdValue","entity","ensureEntitiesArray","values","splitAddedUpdatedEntities","newEntities","added","updated","newEntities_1","changes","createUnsortedStateAdapter","addOneMutably","addManyMutably","newEntities_2","setOneMutably","setManyMutably","newEntities_3","setAllMutably","removeOneMutably","removeManyMutably","didMutate","removeAllMutably","takeNewKey","update","original2","newKey","hasNewKey","updateOneMutably","updateManyMutably","updates","newKeys","updatesPerEntity","didMutateEntities","didMutateIds","upsertOneMutably","upsertManyMutably","removeAll","addOne","addMany","setOne","setMany","setAll","updateOne","updateMany","upsertOne","upsertMany","removeOne","removeMany","createSortedStateAdapter","sort","models","model","merge","takeUpdatedModel","areArraysEqual","allEntities","newSortedIds","sortComparer","instance","stateFactory","selectorsFactory","stateAdapter","urlAlphabet","size","Math","random","commonProperties","RejectWithValue","FulfillWithMeta","simpleError","commonProperties_1","property","typePrefix","payloadCreator","requestId","requestStatus","pending","serializeError","rejectedWithValue","aborted","displayedWarning","AC","AbortController","class_1","signal","addEventListener","dispatchEvent","onabort","removeEventListener","abort","info","dispatch","extra","_a","idGenerator","abortController","abortReason","abortedPromise","reason","promise","_a2","finalAction","err_1","skipDispatch","getPendingMeta","race","rejectWithValue","fulfillWithValue","dispatchConditionRejection","unwrap","hasMatchFunction","matches","matchers","hasExpectedRequestMetadata","validStatus","hasValidRequestId","hasValidRequestStatus","isAsyncThunkArray","asyncThunks","asyncThunk","combinedMatcher","hasFlag","asyncThunks_1","enableES5"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n};\r\nvar __create = Object.create;\r\nvar __defProp = Object.defineProperty;\r\nvar __defProps = Object.defineProperties;\r\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\r\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\r\nvar __getOwnPropNames = Object.getOwnPropertyNames;\r\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\r\nvar __getProtoOf = Object.getPrototypeOf;\r\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\r\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\r\nvar __defNormalProp = function (obj, key, value) { return key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value: value }) : obj[key] = value; };\r\nvar __spreadValues = function (a, b) {\r\n    for (var prop in b || (b = {}))\r\n        if (__hasOwnProp.call(b, prop))\r\n            __defNormalProp(a, prop, b[prop]);\r\n    if (__getOwnPropSymbols)\r\n        for (var _i = 0, _b = __getOwnPropSymbols(b); _i < _b.length; _i++) {\r\n            var prop = _b[_i];\r\n            if (__propIsEnum.call(b, prop))\r\n                __defNormalProp(a, prop, b[prop]);\r\n        }\r\n    return a;\r\n};\r\nvar __spreadProps = function (a, b) { return __defProps(a, __getOwnPropDescs(b)); };\r\nvar __markAsModule = function (target) { return __defProp(target, \"__esModule\", { value: true }); };\r\nvar __export = function (target, all) {\r\n    for (var name in all)\r\n        __defProp(target, name, { get: all[name], enumerable: true });\r\n};\r\nvar __reExport = function (target, module2, desc) {\r\n    if (module2 && typeof module2 === \"object\" || typeof module2 === \"function\") {\r\n        var _loop_1 = function (key) {\r\n            if (!__hasOwnProp.call(target, key) && key !== \"default\")\r\n                __defProp(target, key, { get: function () { return module2[key]; }, enumerable: !(desc = __getOwnPropDesc(module2, key)) || desc.enumerable });\r\n        };\r\n        for (var _i = 0, _b = __getOwnPropNames(module2); _i < _b.length; _i++) {\r\n            var key = _b[_i];\r\n            _loop_1(key);\r\n        }\r\n    }\r\n    return target;\r\n};\r\nvar __toModule = function (module2) {\r\n    return __reExport(__markAsModule(__defProp(module2 != null ? __create(__getProtoOf(module2)) : {}, \"default\", module2 && module2.__esModule && \"default\" in module2 ? { get: function () { return module2.default; }, enumerable: true } : { value: module2, enumerable: true })), module2);\r\n};\r\nvar __async = function (__this, __arguments, generator) {\r\n    return new Promise(function (resolve, reject) {\r\n        var fulfilled = function (value) {\r\n            try {\r\n                step(generator.next(value));\r\n            }\r\n            catch (e) {\r\n                reject(e);\r\n            }\r\n        };\r\n        var rejected = function (value) {\r\n            try {\r\n                step(generator.throw(value));\r\n            }\r\n            catch (e) {\r\n                reject(e);\r\n            }\r\n        };\r\n        var step = function (x) { return x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected); };\r\n        step((generator = generator.apply(__this, __arguments)).next());\r\n    });\r\n};\r\n// src/index.ts\r\n__markAsModule(exports);\r\n__export(exports, {\r\n    MiddlewareArray: function () { return MiddlewareArray; },\r\n    configureStore: function () { return configureStore; },\r\n    createAction: function () { return createAction; },\r\n    createAsyncThunk: function () { return createAsyncThunk; },\r\n    createDraftSafeSelector: function () { return createDraftSafeSelector; },\r\n    createEntityAdapter: function () { return createEntityAdapter; },\r\n    createImmutableStateInvariantMiddleware: function () { return createImmutableStateInvariantMiddleware; },\r\n    createNextState: function () { return import_immer5.default; },\r\n    createReducer: function () { return createReducer; },\r\n    createSelector: function () { return import_reselect2.createSelector; },\r\n    createSerializableStateInvariantMiddleware: function () { return createSerializableStateInvariantMiddleware; },\r\n    createSlice: function () { return createSlice; },\r\n    current: function () { return import_immer5.current; },\r\n    findNonSerializableValue: function () { return findNonSerializableValue; },\r\n    freeze: function () { return import_immer5.freeze; },\r\n    getDefaultMiddleware: function () { return getDefaultMiddleware; },\r\n    getType: function () { return getType; },\r\n    isAllOf: function () { return isAllOf; },\r\n    isAnyOf: function () { return isAnyOf; },\r\n    isAsyncThunkAction: function () { return isAsyncThunkAction; },\r\n    isDraft: function () { return import_immer5.isDraft; },\r\n    isFulfilled: function () { return isFulfilled; },\r\n    isImmutableDefault: function () { return isImmutableDefault; },\r\n    isPending: function () { return isPending; },\r\n    isPlain: function () { return isPlain; },\r\n    isPlainObject: function () { return isPlainObject; },\r\n    isRejected: function () { return isRejected; },\r\n    isRejectedWithValue: function () { return isRejectedWithValue; },\r\n    miniSerializeError: function () { return miniSerializeError; },\r\n    nanoid: function () { return nanoid; },\r\n    original: function () { return import_immer5.original; },\r\n    unwrapResult: function () { return unwrapResult; }\r\n});\r\nvar import_immer4 = __toModule(require(\"immer\"));\r\n__reExport(exports, __toModule(require(\"redux\")));\r\nvar import_immer5 = __toModule(require(\"immer\"));\r\nvar import_reselect2 = __toModule(require(\"reselect\"));\r\n// src/createDraftSafeSelector.ts\r\nvar import_immer = __toModule(require(\"immer\"));\r\nvar import_reselect = __toModule(require(\"reselect\"));\r\nvar createDraftSafeSelector = function () {\r\n    var args = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        args[_i] = arguments[_i];\r\n    }\r\n    var selector = (0, import_reselect.createSelector).apply(void 0, args);\r\n    var wrappedSelector = function (value) {\r\n        var rest = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            rest[_i - 1] = arguments[_i];\r\n        }\r\n        return selector.apply(void 0, __spreadArray([(0, import_immer.isDraft)(value) ? (0, import_immer.current)(value) : value], rest));\r\n    };\r\n    return wrappedSelector;\r\n};\r\n// src/configureStore.ts\r\nvar import_redux2 = __toModule(require(\"redux\"));\r\n// src/devtoolsExtension.ts\r\nvar import_redux = __toModule(require(\"redux\"));\r\nvar composeWithDevTools = typeof window !== \"undefined\" && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ : function () {\r\n    if (arguments.length === 0)\r\n        return void 0;\r\n    if (typeof arguments[0] === \"object\")\r\n        return import_redux.compose;\r\n    return import_redux.compose.apply(null, arguments);\r\n};\r\nvar devToolsEnhancer = typeof window !== \"undefined\" && window.__REDUX_DEVTOOLS_EXTENSION__ ? window.__REDUX_DEVTOOLS_EXTENSION__ : function () {\r\n    return function (noop) {\r\n        return noop;\r\n    };\r\n};\r\n// src/isPlainObject.ts\r\nfunction isPlainObject(value) {\r\n    if (typeof value !== \"object\" || value === null)\r\n        return false;\r\n    var proto = value;\r\n    while (Object.getPrototypeOf(proto) !== null) {\r\n        proto = Object.getPrototypeOf(proto);\r\n    }\r\n    return Object.getPrototypeOf(value) === proto;\r\n}\r\n// src/getDefaultMiddleware.ts\r\nvar import_redux_thunk = __toModule(require(\"redux-thunk\"));\r\n// src/utils.ts\r\nfunction getTimeMeasureUtils(maxDelay, fnName) {\r\n    var elapsed = 0;\r\n    return {\r\n        measureTime: function (fn) {\r\n            var started = Date.now();\r\n            try {\r\n                return fn();\r\n            }\r\n            finally {\r\n                var finished = Date.now();\r\n                elapsed += finished - started;\r\n            }\r\n        },\r\n        warnIfExceeded: function () {\r\n            if (elapsed > maxDelay) {\r\n                console.warn(fnName + \" took \" + elapsed + \"ms, which is more than the warning threshold of \" + maxDelay + \"ms. \\nIf your state or actions are very large, you may want to disable the middleware as it might cause too much of a slowdown in development mode. See https://redux-toolkit.js.org/api/getDefaultMiddleware for instructions.\\nIt is disabled in production builds, so you don't need to worry about that.\");\r\n            }\r\n        }\r\n    };\r\n}\r\nvar MiddlewareArray = /** @class */ (function (_super) {\r\n    __extends(MiddlewareArray, _super);\r\n    function MiddlewareArray() {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        var _this = _super.apply(this, args) || this;\r\n        Object.setPrototypeOf(_this, MiddlewareArray.prototype);\r\n        return _this;\r\n    }\r\n    Object.defineProperty(MiddlewareArray, Symbol.species, {\r\n        get: function () {\r\n            return MiddlewareArray;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    MiddlewareArray.prototype.concat = function () {\r\n        var arr = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            arr[_i] = arguments[_i];\r\n        }\r\n        return _super.prototype.concat.apply(this, arr);\r\n    };\r\n    MiddlewareArray.prototype.prepend = function () {\r\n        var arr = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            arr[_i] = arguments[_i];\r\n        }\r\n        if (arr.length === 1 && Array.isArray(arr[0])) {\r\n            return new (MiddlewareArray.bind.apply(MiddlewareArray, __spreadArray([void 0], arr[0].concat(this))))();\r\n        }\r\n        return new (MiddlewareArray.bind.apply(MiddlewareArray, __spreadArray([void 0], arr.concat(this))))();\r\n    };\r\n    return MiddlewareArray;\r\n}(Array));\r\n// src/immutableStateInvariantMiddleware.ts\r\nvar isProduction = false;\r\nvar prefix = \"Invariant failed\";\r\nfunction invariant(condition, message) {\r\n    if (condition) {\r\n        return;\r\n    }\r\n    if (isProduction) {\r\n        throw new Error(prefix);\r\n    }\r\n    throw new Error(prefix + \": \" + (message || \"\"));\r\n}\r\nfunction stringify(obj, serializer, indent, decycler) {\r\n    return JSON.stringify(obj, getSerialize(serializer, decycler), indent);\r\n}\r\nfunction getSerialize(serializer, decycler) {\r\n    var stack = [], keys = [];\r\n    if (!decycler)\r\n        decycler = function (_, value) {\r\n            if (stack[0] === value)\r\n                return \"[Circular ~]\";\r\n            return \"[Circular ~.\" + keys.slice(0, stack.indexOf(value)).join(\".\") + \"]\";\r\n        };\r\n    return function (key, value) {\r\n        if (stack.length > 0) {\r\n            var thisPos = stack.indexOf(this);\r\n            ~thisPos ? stack.splice(thisPos + 1) : stack.push(this);\r\n            ~thisPos ? keys.splice(thisPos, Infinity, key) : keys.push(key);\r\n            if (~stack.indexOf(value))\r\n                value = decycler.call(this, key, value);\r\n        }\r\n        else\r\n            stack.push(value);\r\n        return serializer == null ? value : serializer.call(this, key, value);\r\n    };\r\n}\r\nfunction isImmutableDefault(value) {\r\n    return typeof value !== \"object\" || value === null || typeof value === \"undefined\" || Object.isFrozen(value);\r\n}\r\nfunction trackForMutations(isImmutable, ignorePaths, obj) {\r\n    var trackedProperties = trackProperties(isImmutable, ignorePaths, obj);\r\n    return {\r\n        detectMutations: function () {\r\n            return detectMutations(isImmutable, ignorePaths, trackedProperties, obj);\r\n        }\r\n    };\r\n}\r\nfunction trackProperties(isImmutable, ignorePaths, obj, path) {\r\n    if (ignorePaths === void 0) { ignorePaths = []; }\r\n    if (path === void 0) { path = \"\"; }\r\n    var tracked = { value: obj };\r\n    if (!isImmutable(obj)) {\r\n        tracked.children = {};\r\n        for (var key in obj) {\r\n            var childPath = path ? path + \".\" + key : key;\r\n            if (ignorePaths.length && ignorePaths.indexOf(childPath) !== -1) {\r\n                continue;\r\n            }\r\n            tracked.children[key] = trackProperties(isImmutable, ignorePaths, obj[key], childPath);\r\n        }\r\n    }\r\n    return tracked;\r\n}\r\nfunction detectMutations(isImmutable, ignorePaths, trackedProperty, obj, sameParentRef, path) {\r\n    if (ignorePaths === void 0) { ignorePaths = []; }\r\n    if (sameParentRef === void 0) { sameParentRef = false; }\r\n    if (path === void 0) { path = \"\"; }\r\n    var prevObj = trackedProperty ? trackedProperty.value : void 0;\r\n    var sameRef = prevObj === obj;\r\n    if (sameParentRef && !sameRef && !Number.isNaN(obj)) {\r\n        return { wasMutated: true, path: path };\r\n    }\r\n    if (isImmutable(prevObj) || isImmutable(obj)) {\r\n        return { wasMutated: false };\r\n    }\r\n    var keysToDetect = {};\r\n    for (var key in trackedProperty.children) {\r\n        keysToDetect[key] = true;\r\n    }\r\n    for (var key in obj) {\r\n        keysToDetect[key] = true;\r\n    }\r\n    for (var key in keysToDetect) {\r\n        var childPath = path ? path + \".\" + key : key;\r\n        if (ignorePaths.length && ignorePaths.indexOf(childPath) !== -1) {\r\n            continue;\r\n        }\r\n        var result = detectMutations(isImmutable, ignorePaths, trackedProperty.children[key], obj[key], sameRef, childPath);\r\n        if (result.wasMutated) {\r\n            return result;\r\n        }\r\n    }\r\n    return { wasMutated: false };\r\n}\r\nfunction createImmutableStateInvariantMiddleware(options) {\r\n    if (options === void 0) { options = {}; }\r\n    if (false) {\r\n        return function () { return function (next) { return function (action) { return next(action); }; }; };\r\n    }\r\n    var _b = options.isImmutable, isImmutable = _b === void 0 ? isImmutableDefault : _b, ignoredPaths = options.ignoredPaths, _c = options.warnAfter, warnAfter = _c === void 0 ? 32 : _c, ignore = options.ignore;\r\n    ignoredPaths = ignoredPaths || ignore;\r\n    var track = trackForMutations.bind(null, isImmutable, ignoredPaths);\r\n    return function (_b) {\r\n        var getState = _b.getState;\r\n        var state = getState();\r\n        var tracker = track(state);\r\n        var result;\r\n        return function (next) { return function (action) {\r\n            var measureUtils = getTimeMeasureUtils(warnAfter, \"ImmutableStateInvariantMiddleware\");\r\n            measureUtils.measureTime(function () {\r\n                state = getState();\r\n                result = tracker.detectMutations();\r\n                tracker = track(state);\r\n                invariant(!result.wasMutated, \"A state mutation was detected between dispatches, in the path '\" + (result.path || \"\") + \"'.  This may cause incorrect behavior. (https://redux.js.org/style-guide/style-guide#do-not-mutate-state)\");\r\n            });\r\n            var dispatchedAction = next(action);\r\n            measureUtils.measureTime(function () {\r\n                state = getState();\r\n                result = tracker.detectMutations();\r\n                tracker = track(state);\r\n                result.wasMutated && invariant(!result.wasMutated, \"A state mutation was detected inside a dispatch, in the path: \" + (result.path || \"\") + \". Take a look at the reducer(s) handling the action \" + stringify(action) + \". (https://redux.js.org/style-guide/style-guide#do-not-mutate-state)\");\r\n            });\r\n            measureUtils.warnIfExceeded();\r\n            return dispatchedAction;\r\n        }; };\r\n    };\r\n}\r\n// src/serializableStateInvariantMiddleware.ts\r\nfunction isPlain(val) {\r\n    var type = typeof val;\r\n    return type === \"undefined\" || val === null || type === \"string\" || type === \"boolean\" || type === \"number\" || Array.isArray(val) || isPlainObject(val);\r\n}\r\nfunction findNonSerializableValue(value, path, isSerializable, getEntries, ignoredPaths) {\r\n    if (path === void 0) { path = \"\"; }\r\n    if (isSerializable === void 0) { isSerializable = isPlain; }\r\n    if (ignoredPaths === void 0) { ignoredPaths = []; }\r\n    var foundNestedSerializable;\r\n    if (!isSerializable(value)) {\r\n        return {\r\n            keyPath: path || \"<root>\",\r\n            value: value\r\n        };\r\n    }\r\n    if (typeof value !== \"object\" || value === null) {\r\n        return false;\r\n    }\r\n    var entries = getEntries != null ? getEntries(value) : Object.entries(value);\r\n    var hasIgnoredPaths = ignoredPaths.length > 0;\r\n    for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\r\n        var _b = entries_1[_i], key = _b[0], nestedValue = _b[1];\r\n        var nestedPath = path ? path + \".\" + key : key;\r\n        if (hasIgnoredPaths && ignoredPaths.indexOf(nestedPath) >= 0) {\r\n            continue;\r\n        }\r\n        if (!isSerializable(nestedValue)) {\r\n            return {\r\n                keyPath: nestedPath,\r\n                value: nestedValue\r\n            };\r\n        }\r\n        if (typeof nestedValue === \"object\") {\r\n            foundNestedSerializable = findNonSerializableValue(nestedValue, nestedPath, isSerializable, getEntries, ignoredPaths);\r\n            if (foundNestedSerializable) {\r\n                return foundNestedSerializable;\r\n            }\r\n        }\r\n    }\r\n    return false;\r\n}\r\nfunction createSerializableStateInvariantMiddleware(options) {\r\n    if (options === void 0) { options = {}; }\r\n    if (false) {\r\n        return function () { return function (next) { return function (action) { return next(action); }; }; };\r\n    }\r\n    var _b = options.isSerializable, isSerializable = _b === void 0 ? isPlain : _b, getEntries = options.getEntries, _c = options.ignoredActions, ignoredActions = _c === void 0 ? [] : _c, _d = options.ignoredActionPaths, ignoredActionPaths = _d === void 0 ? [\"meta.arg\", \"meta.baseQueryMeta\"] : _d, _e = options.ignoredPaths, ignoredPaths = _e === void 0 ? [] : _e, _f = options.warnAfter, warnAfter = _f === void 0 ? 32 : _f, _g = options.ignoreState, ignoreState = _g === void 0 ? false : _g;\r\n    return function (storeAPI) { return function (next) { return function (action) {\r\n        if (ignoredActions.length && ignoredActions.indexOf(action.type) !== -1) {\r\n            return next(action);\r\n        }\r\n        var measureUtils = getTimeMeasureUtils(warnAfter, \"SerializableStateInvariantMiddleware\");\r\n        measureUtils.measureTime(function () {\r\n            var foundActionNonSerializableValue = findNonSerializableValue(action, \"\", isSerializable, getEntries, ignoredActionPaths);\r\n            if (foundActionNonSerializableValue) {\r\n                var keyPath = foundActionNonSerializableValue.keyPath, value = foundActionNonSerializableValue.value;\r\n                console.error(\"A non-serializable value was detected in an action, in the path: `\" + keyPath + \"`. Value:\", value, \"\\nTake a look at the logic that dispatched this action: \", action, \"\\n(See https://redux.js.org/faq/actions#why-should-type-be-a-string-or-at-least-serializable-why-should-my-action-types-be-constants)\", \"\\n(To allow non-serializable values see: https://redux-toolkit.js.org/usage/usage-guide#working-with-non-serializable-data)\");\r\n            }\r\n        });\r\n        var result = next(action);\r\n        if (!ignoreState) {\r\n            measureUtils.measureTime(function () {\r\n                var state = storeAPI.getState();\r\n                var foundStateNonSerializableValue = findNonSerializableValue(state, \"\", isSerializable, getEntries, ignoredPaths);\r\n                if (foundStateNonSerializableValue) {\r\n                    var keyPath = foundStateNonSerializableValue.keyPath, value = foundStateNonSerializableValue.value;\r\n                    console.error(\"A non-serializable value was detected in the state, in the path: `\" + keyPath + \"`. Value:\", value, \"\\nTake a look at the reducer(s) handling this action type: \" + action.type + \".\\n(See https://redux.js.org/faq/organizing-state#can-i-put-functions-promises-or-other-non-serializable-items-in-my-store-state)\");\r\n                }\r\n            });\r\n            measureUtils.warnIfExceeded();\r\n        }\r\n        return result;\r\n    }; }; };\r\n}\r\n// src/getDefaultMiddleware.ts\r\nfunction isBoolean(x) {\r\n    return typeof x === \"boolean\";\r\n}\r\nfunction curryGetDefaultMiddleware() {\r\n    return function curriedGetDefaultMiddleware(options) {\r\n        return getDefaultMiddleware(options);\r\n    };\r\n}\r\nfunction getDefaultMiddleware(options) {\r\n    if (options === void 0) { options = {}; }\r\n    var _b = options.thunk, thunk = _b === void 0 ? true : _b, _c = options.immutableCheck, immutableCheck = _c === void 0 ? true : _c, _d = options.serializableCheck, serializableCheck = _d === void 0 ? true : _d;\r\n    var middlewareArray = new MiddlewareArray();\r\n    if (thunk) {\r\n        if (isBoolean(thunk)) {\r\n            middlewareArray.push(import_redux_thunk.default);\r\n        }\r\n        else {\r\n            middlewareArray.push(import_redux_thunk.default.withExtraArgument(thunk.extraArgument));\r\n        }\r\n    }\r\n    if (true) {\r\n        if (immutableCheck) {\r\n            var immutableOptions = {};\r\n            if (!isBoolean(immutableCheck)) {\r\n                immutableOptions = immutableCheck;\r\n            }\r\n            middlewareArray.unshift(createImmutableStateInvariantMiddleware(immutableOptions));\r\n        }\r\n        if (serializableCheck) {\r\n            var serializableOptions = {};\r\n            if (!isBoolean(serializableCheck)) {\r\n                serializableOptions = serializableCheck;\r\n            }\r\n            middlewareArray.push(createSerializableStateInvariantMiddleware(serializableOptions));\r\n        }\r\n    }\r\n    return middlewareArray;\r\n}\r\n// src/configureStore.ts\r\nvar IS_PRODUCTION = false;\r\nfunction configureStore(options) {\r\n    var curriedGetDefaultMiddleware = curryGetDefaultMiddleware();\r\n    var _b = options || {}, _c = _b.reducer, reducer = _c === void 0 ? void 0 : _c, _d = _b.middleware, middleware = _d === void 0 ? curriedGetDefaultMiddleware() : _d, _e = _b.devTools, devTools = _e === void 0 ? true : _e, _f = _b.preloadedState, preloadedState = _f === void 0 ? void 0 : _f, _g = _b.enhancers, enhancers = _g === void 0 ? void 0 : _g;\r\n    var rootReducer;\r\n    if (typeof reducer === \"function\") {\r\n        rootReducer = reducer;\r\n    }\r\n    else if (isPlainObject(reducer)) {\r\n        rootReducer = (0, import_redux2.combineReducers)(reducer);\r\n    }\r\n    else {\r\n        throw new Error('\"reducer\" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');\r\n    }\r\n    var finalMiddleware = middleware;\r\n    if (typeof finalMiddleware === \"function\") {\r\n        finalMiddleware = finalMiddleware(curriedGetDefaultMiddleware);\r\n        if (!IS_PRODUCTION && !Array.isArray(finalMiddleware)) {\r\n            throw new Error(\"when using a middleware builder function, an array of middleware must be returned\");\r\n        }\r\n    }\r\n    if (!IS_PRODUCTION && finalMiddleware.some(function (item) { return typeof item !== \"function\"; })) {\r\n        throw new Error(\"each middleware provided to configureStore must be a function\");\r\n    }\r\n    var middlewareEnhancer = (0, import_redux2.applyMiddleware).apply(void 0, finalMiddleware);\r\n    var finalCompose = import_redux2.compose;\r\n    if (devTools) {\r\n        finalCompose = composeWithDevTools(__spreadValues({\r\n            trace: !IS_PRODUCTION\r\n        }, typeof devTools === \"object\" && devTools));\r\n    }\r\n    var storeEnhancers = [middlewareEnhancer];\r\n    if (Array.isArray(enhancers)) {\r\n        storeEnhancers = __spreadArray([middlewareEnhancer], enhancers);\r\n    }\r\n    else if (typeof enhancers === \"function\") {\r\n        storeEnhancers = enhancers(storeEnhancers);\r\n    }\r\n    var composedEnhancer = finalCompose.apply(void 0, storeEnhancers);\r\n    return (0, import_redux2.createStore)(rootReducer, preloadedState, composedEnhancer);\r\n}\r\n// src/createAction.ts\r\nfunction createAction(type, prepareAction) {\r\n    function actionCreator() {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        if (prepareAction) {\r\n            var prepared = prepareAction.apply(void 0, args);\r\n            if (!prepared) {\r\n                throw new Error(\"prepareAction did not return an object\");\r\n            }\r\n            return __spreadValues(__spreadValues({\r\n                type: type,\r\n                payload: prepared.payload\r\n            }, \"meta\" in prepared && { meta: prepared.meta }), \"error\" in prepared && { error: prepared.error });\r\n        }\r\n        return { type: type, payload: args[0] };\r\n    }\r\n    actionCreator.toString = function () { return \"\" + type; };\r\n    actionCreator.type = type;\r\n    actionCreator.match = function (action) { return action.type === type; };\r\n    return actionCreator;\r\n}\r\nfunction isFSA(action) {\r\n    return isPlainObject(action) && typeof action.type === \"string\" && Object.keys(action).every(isValidKey);\r\n}\r\nfunction isValidKey(key) {\r\n    return [\"type\", \"payload\", \"error\", \"meta\"].indexOf(key) > -1;\r\n}\r\nfunction getType(actionCreator) {\r\n    return \"\" + actionCreator;\r\n}\r\n// src/createReducer.ts\r\nvar import_immer2 = __toModule(require(\"immer\"));\r\n// src/mapBuilders.ts\r\nfunction executeReducerBuilderCallback(builderCallback) {\r\n    var actionsMap = {};\r\n    var actionMatchers = [];\r\n    var defaultCaseReducer;\r\n    var builder = {\r\n        addCase: function (typeOrActionCreator, reducer) {\r\n            if (true) {\r\n                if (actionMatchers.length > 0) {\r\n                    throw new Error(\"`builder.addCase` should only be called before calling `builder.addMatcher`\");\r\n                }\r\n                if (defaultCaseReducer) {\r\n                    throw new Error(\"`builder.addCase` should only be called before calling `builder.addDefaultCase`\");\r\n                }\r\n            }\r\n            var type = typeof typeOrActionCreator === \"string\" ? typeOrActionCreator : typeOrActionCreator.type;\r\n            if (type in actionsMap) {\r\n                throw new Error(\"addCase cannot be called with two reducers for the same action type\");\r\n            }\r\n            actionsMap[type] = reducer;\r\n            return builder;\r\n        },\r\n        addMatcher: function (matcher, reducer) {\r\n            if (true) {\r\n                if (defaultCaseReducer) {\r\n                    throw new Error(\"`builder.addMatcher` should only be called before calling `builder.addDefaultCase`\");\r\n                }\r\n            }\r\n            actionMatchers.push({ matcher: matcher, reducer: reducer });\r\n            return builder;\r\n        },\r\n        addDefaultCase: function (reducer) {\r\n            if (true) {\r\n                if (defaultCaseReducer) {\r\n                    throw new Error(\"`builder.addDefaultCase` can only be called once\");\r\n                }\r\n            }\r\n            defaultCaseReducer = reducer;\r\n            return builder;\r\n        }\r\n    };\r\n    builderCallback(builder);\r\n    return [actionsMap, actionMatchers, defaultCaseReducer];\r\n}\r\n// src/createReducer.ts\r\nfunction createReducer(initialState, mapOrBuilderCallback, actionMatchers, defaultCaseReducer) {\r\n    if (actionMatchers === void 0) { actionMatchers = []; }\r\n    var _b = typeof mapOrBuilderCallback === \"function\" ? executeReducerBuilderCallback(mapOrBuilderCallback) : [mapOrBuilderCallback, actionMatchers, defaultCaseReducer], actionsMap = _b[0], finalActionMatchers = _b[1], finalDefaultCaseReducer = _b[2];\r\n    var frozenInitialState = (0, import_immer2.default)(initialState, function () {\r\n    });\r\n    return function (state, action) {\r\n        if (state === void 0) { state = frozenInitialState; }\r\n        var caseReducers = __spreadArray([\r\n            actionsMap[action.type]\r\n        ], finalActionMatchers.filter(function (_b) {\r\n            var matcher = _b.matcher;\r\n            return matcher(action);\r\n        }).map(function (_b) {\r\n            var reducer = _b.reducer;\r\n            return reducer;\r\n        }));\r\n        if (caseReducers.filter(function (cr) { return !!cr; }).length === 0) {\r\n            caseReducers = [finalDefaultCaseReducer];\r\n        }\r\n        return caseReducers.reduce(function (previousState, caseReducer) {\r\n            if (caseReducer) {\r\n                if ((0, import_immer2.isDraft)(previousState)) {\r\n                    var draft = previousState;\r\n                    var result = caseReducer(draft, action);\r\n                    if (typeof result === \"undefined\") {\r\n                        return previousState;\r\n                    }\r\n                    return result;\r\n                }\r\n                else if (!(0, import_immer2.isDraftable)(previousState)) {\r\n                    var result = caseReducer(previousState, action);\r\n                    if (typeof result === \"undefined\") {\r\n                        if (previousState === null) {\r\n                            return previousState;\r\n                        }\r\n                        throw Error(\"A case reducer on a non-draftable value must not return undefined\");\r\n                    }\r\n                    return result;\r\n                }\r\n                else {\r\n                    return (0, import_immer2.default)(previousState, function (draft) {\r\n                        return caseReducer(draft, action);\r\n                    });\r\n                }\r\n            }\r\n            return previousState;\r\n        }, state);\r\n    };\r\n}\r\n// src/createSlice.ts\r\nfunction getType2(slice, actionKey) {\r\n    return slice + \"/\" + actionKey;\r\n}\r\nfunction createSlice(options) {\r\n    var name = options.name, initialState = options.initialState;\r\n    if (!name) {\r\n        throw new Error(\"`name` is a required option for createSlice\");\r\n    }\r\n    var reducers = options.reducers || {};\r\n    var _b = typeof options.extraReducers === \"function\" ? executeReducerBuilderCallback(options.extraReducers) : [options.extraReducers], _c = _b[0], extraReducers = _c === void 0 ? {} : _c, _d = _b[1], actionMatchers = _d === void 0 ? [] : _d, _e = _b[2], defaultCaseReducer = _e === void 0 ? void 0 : _e;\r\n    var reducerNames = Object.keys(reducers);\r\n    var sliceCaseReducersByName = {};\r\n    var sliceCaseReducersByType = {};\r\n    var actionCreators = {};\r\n    reducerNames.forEach(function (reducerName) {\r\n        var maybeReducerWithPrepare = reducers[reducerName];\r\n        var type = getType2(name, reducerName);\r\n        var caseReducer;\r\n        var prepareCallback;\r\n        if (\"reducer\" in maybeReducerWithPrepare) {\r\n            caseReducer = maybeReducerWithPrepare.reducer;\r\n            prepareCallback = maybeReducerWithPrepare.prepare;\r\n        }\r\n        else {\r\n            caseReducer = maybeReducerWithPrepare;\r\n        }\r\n        sliceCaseReducersByName[reducerName] = caseReducer;\r\n        sliceCaseReducersByType[type] = caseReducer;\r\n        actionCreators[reducerName] = prepareCallback ? createAction(type, prepareCallback) : createAction(type);\r\n    });\r\n    var finalCaseReducers = __spreadValues(__spreadValues({}, extraReducers), sliceCaseReducersByType);\r\n    var reducer = createReducer(initialState, finalCaseReducers, actionMatchers, defaultCaseReducer);\r\n    return {\r\n        name: name,\r\n        reducer: reducer,\r\n        actions: actionCreators,\r\n        caseReducers: sliceCaseReducersByName\r\n    };\r\n}\r\n// src/entities/entity_state.ts\r\nfunction getInitialEntityState() {\r\n    return {\r\n        ids: [],\r\n        entities: {}\r\n    };\r\n}\r\nfunction createInitialStateFactory() {\r\n    function getInitialState(additionalState) {\r\n        if (additionalState === void 0) { additionalState = {}; }\r\n        return Object.assign(getInitialEntityState(), additionalState);\r\n    }\r\n    return { getInitialState: getInitialState };\r\n}\r\n// src/entities/state_selectors.ts\r\nfunction createSelectorsFactory() {\r\n    function getSelectors(selectState) {\r\n        var selectIds = function (state) { return state.ids; };\r\n        var selectEntities = function (state) { return state.entities; };\r\n        var selectAll = createDraftSafeSelector(selectIds, selectEntities, function (ids, entities) { return ids.map(function (id) { return entities[id]; }); });\r\n        var selectId = function (_, id) { return id; };\r\n        var selectById = function (entities, id) { return entities[id]; };\r\n        var selectTotal = createDraftSafeSelector(selectIds, function (ids) { return ids.length; });\r\n        if (!selectState) {\r\n            return {\r\n                selectIds: selectIds,\r\n                selectEntities: selectEntities,\r\n                selectAll: selectAll,\r\n                selectTotal: selectTotal,\r\n                selectById: createDraftSafeSelector(selectEntities, selectId, selectById)\r\n            };\r\n        }\r\n        var selectGlobalizedEntities = createDraftSafeSelector(selectState, selectEntities);\r\n        return {\r\n            selectIds: createDraftSafeSelector(selectState, selectIds),\r\n            selectEntities: selectGlobalizedEntities,\r\n            selectAll: createDraftSafeSelector(selectState, selectAll),\r\n            selectTotal: createDraftSafeSelector(selectState, selectTotal),\r\n            selectById: createDraftSafeSelector(selectGlobalizedEntities, selectId, selectById)\r\n        };\r\n    }\r\n    return { getSelectors: getSelectors };\r\n}\r\n// src/entities/state_adapter.ts\r\nvar import_immer3 = __toModule(require(\"immer\"));\r\nfunction createSingleArgumentStateOperator(mutator) {\r\n    var operator = createStateOperator(function (_, state) { return mutator(state); });\r\n    return function operation(state) {\r\n        return operator(state, void 0);\r\n    };\r\n}\r\nfunction createStateOperator(mutator) {\r\n    return function operation(state, arg) {\r\n        function isPayloadActionArgument(arg2) {\r\n            return isFSA(arg2);\r\n        }\r\n        var runMutator = function (draft) {\r\n            if (isPayloadActionArgument(arg)) {\r\n                mutator(arg.payload, draft);\r\n            }\r\n            else {\r\n                mutator(arg, draft);\r\n            }\r\n        };\r\n        if ((0, import_immer3.isDraft)(state)) {\r\n            runMutator(state);\r\n            return state;\r\n        }\r\n        else {\r\n            return (0, import_immer3.default)(state, runMutator);\r\n        }\r\n    };\r\n}\r\n// src/entities/utils.ts\r\nfunction selectIdValue(entity, selectId) {\r\n    var key = selectId(entity);\r\n    if (key === void 0) {\r\n        console.warn(\"The entity passed to the `selectId` implementation returned undefined.\", \"You should probably provide your own `selectId` implementation.\", \"The entity that was passed:\", entity, \"The `selectId` implementation:\", selectId.toString());\r\n    }\r\n    return key;\r\n}\r\nfunction ensureEntitiesArray(entities) {\r\n    if (!Array.isArray(entities)) {\r\n        entities = Object.values(entities);\r\n    }\r\n    return entities;\r\n}\r\nfunction splitAddedUpdatedEntities(newEntities, selectId, state) {\r\n    newEntities = ensureEntitiesArray(newEntities);\r\n    var added = [];\r\n    var updated = [];\r\n    for (var _i = 0, newEntities_1 = newEntities; _i < newEntities_1.length; _i++) {\r\n        var entity = newEntities_1[_i];\r\n        var id = selectIdValue(entity, selectId);\r\n        if (id in state.entities) {\r\n            updated.push({ id: id, changes: entity });\r\n        }\r\n        else {\r\n            added.push(entity);\r\n        }\r\n    }\r\n    return [added, updated];\r\n}\r\n// src/entities/unsorted_state_adapter.ts\r\nfunction createUnsortedStateAdapter(selectId) {\r\n    function addOneMutably(entity, state) {\r\n        var key = selectIdValue(entity, selectId);\r\n        if (key in state.entities) {\r\n            return;\r\n        }\r\n        state.ids.push(key);\r\n        state.entities[key] = entity;\r\n    }\r\n    function addManyMutably(newEntities, state) {\r\n        newEntities = ensureEntitiesArray(newEntities);\r\n        for (var _i = 0, newEntities_2 = newEntities; _i < newEntities_2.length; _i++) {\r\n            var entity = newEntities_2[_i];\r\n            addOneMutably(entity, state);\r\n        }\r\n    }\r\n    function setOneMutably(entity, state) {\r\n        var key = selectIdValue(entity, selectId);\r\n        if (!(key in state.entities)) {\r\n            state.ids.push(key);\r\n        }\r\n        state.entities[key] = entity;\r\n    }\r\n    function setManyMutably(newEntities, state) {\r\n        newEntities = ensureEntitiesArray(newEntities);\r\n        for (var _i = 0, newEntities_3 = newEntities; _i < newEntities_3.length; _i++) {\r\n            var entity = newEntities_3[_i];\r\n            setOneMutably(entity, state);\r\n        }\r\n    }\r\n    function setAllMutably(newEntities, state) {\r\n        newEntities = ensureEntitiesArray(newEntities);\r\n        state.ids = [];\r\n        state.entities = {};\r\n        addManyMutably(newEntities, state);\r\n    }\r\n    function removeOneMutably(key, state) {\r\n        return removeManyMutably([key], state);\r\n    }\r\n    function removeManyMutably(keys, state) {\r\n        var didMutate = false;\r\n        keys.forEach(function (key) {\r\n            if (key in state.entities) {\r\n                delete state.entities[key];\r\n                didMutate = true;\r\n            }\r\n        });\r\n        if (didMutate) {\r\n            state.ids = state.ids.filter(function (id) { return id in state.entities; });\r\n        }\r\n    }\r\n    function removeAllMutably(state) {\r\n        Object.assign(state, {\r\n            ids: [],\r\n            entities: {}\r\n        });\r\n    }\r\n    function takeNewKey(keys, update, state) {\r\n        var original2 = state.entities[update.id];\r\n        var updated = Object.assign({}, original2, update.changes);\r\n        var newKey = selectIdValue(updated, selectId);\r\n        var hasNewKey = newKey !== update.id;\r\n        if (hasNewKey) {\r\n            keys[update.id] = newKey;\r\n            delete state.entities[update.id];\r\n        }\r\n        state.entities[newKey] = updated;\r\n        return hasNewKey;\r\n    }\r\n    function updateOneMutably(update, state) {\r\n        return updateManyMutably([update], state);\r\n    }\r\n    function updateManyMutably(updates, state) {\r\n        var newKeys = {};\r\n        var updatesPerEntity = {};\r\n        updates.forEach(function (update) {\r\n            if (update.id in state.entities) {\r\n                updatesPerEntity[update.id] = {\r\n                    id: update.id,\r\n                    changes: __spreadValues(__spreadValues({}, updatesPerEntity[update.id] ? updatesPerEntity[update.id].changes : null), update.changes)\r\n                };\r\n            }\r\n        });\r\n        updates = Object.values(updatesPerEntity);\r\n        var didMutateEntities = updates.length > 0;\r\n        if (didMutateEntities) {\r\n            var didMutateIds = updates.filter(function (update) { return takeNewKey(newKeys, update, state); }).length > 0;\r\n            if (didMutateIds) {\r\n                state.ids = state.ids.map(function (id) { return newKeys[id] || id; });\r\n            }\r\n        }\r\n    }\r\n    function upsertOneMutably(entity, state) {\r\n        return upsertManyMutably([entity], state);\r\n    }\r\n    function upsertManyMutably(newEntities, state) {\r\n        var _b = splitAddedUpdatedEntities(newEntities, selectId, state), added = _b[0], updated = _b[1];\r\n        updateManyMutably(updated, state);\r\n        addManyMutably(added, state);\r\n    }\r\n    return {\r\n        removeAll: createSingleArgumentStateOperator(removeAllMutably),\r\n        addOne: createStateOperator(addOneMutably),\r\n        addMany: createStateOperator(addManyMutably),\r\n        setOne: createStateOperator(setOneMutably),\r\n        setMany: createStateOperator(setManyMutably),\r\n        setAll: createStateOperator(setAllMutably),\r\n        updateOne: createStateOperator(updateOneMutably),\r\n        updateMany: createStateOperator(updateManyMutably),\r\n        upsertOne: createStateOperator(upsertOneMutably),\r\n        upsertMany: createStateOperator(upsertManyMutably),\r\n        removeOne: createStateOperator(removeOneMutably),\r\n        removeMany: createStateOperator(removeManyMutably)\r\n    };\r\n}\r\n// src/entities/sorted_state_adapter.ts\r\nfunction createSortedStateAdapter(selectId, sort) {\r\n    var _b = createUnsortedStateAdapter(selectId), removeOne = _b.removeOne, removeMany = _b.removeMany, removeAll = _b.removeAll;\r\n    function addOneMutably(entity, state) {\r\n        return addManyMutably([entity], state);\r\n    }\r\n    function addManyMutably(newEntities, state) {\r\n        newEntities = ensureEntitiesArray(newEntities);\r\n        var models = newEntities.filter(function (model) { return !(selectIdValue(model, selectId) in state.entities); });\r\n        if (models.length !== 0) {\r\n            merge(models, state);\r\n        }\r\n    }\r\n    function setOneMutably(entity, state) {\r\n        return setManyMutably([entity], state);\r\n    }\r\n    function setManyMutably(newEntities, state) {\r\n        newEntities = ensureEntitiesArray(newEntities);\r\n        if (newEntities.length !== 0) {\r\n            merge(newEntities, state);\r\n        }\r\n    }\r\n    function setAllMutably(newEntities, state) {\r\n        newEntities = ensureEntitiesArray(newEntities);\r\n        state.entities = {};\r\n        state.ids = [];\r\n        addManyMutably(newEntities, state);\r\n    }\r\n    function updateOneMutably(update, state) {\r\n        return updateManyMutably([update], state);\r\n    }\r\n    function takeUpdatedModel(models, update, state) {\r\n        if (!(update.id in state.entities)) {\r\n            return false;\r\n        }\r\n        var original2 = state.entities[update.id];\r\n        var updated = Object.assign({}, original2, update.changes);\r\n        var newKey = selectIdValue(updated, selectId);\r\n        delete state.entities[update.id];\r\n        models.push(updated);\r\n        return newKey !== update.id;\r\n    }\r\n    function updateManyMutably(updates, state) {\r\n        var models = [];\r\n        updates.forEach(function (update) { return takeUpdatedModel(models, update, state); });\r\n        if (models.length !== 0) {\r\n            merge(models, state);\r\n        }\r\n    }\r\n    function upsertOneMutably(entity, state) {\r\n        return upsertManyMutably([entity], state);\r\n    }\r\n    function upsertManyMutably(newEntities, state) {\r\n        var _b = splitAddedUpdatedEntities(newEntities, selectId, state), added = _b[0], updated = _b[1];\r\n        updateManyMutably(updated, state);\r\n        addManyMutably(added, state);\r\n    }\r\n    function areArraysEqual(a, b) {\r\n        if (a.length !== b.length) {\r\n            return false;\r\n        }\r\n        for (var i = 0; i < a.length && i < b.length; i++) {\r\n            if (a[i] === b[i]) {\r\n                continue;\r\n            }\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    function merge(models, state) {\r\n        models.forEach(function (model) {\r\n            state.entities[selectId(model)] = model;\r\n        });\r\n        var allEntities = Object.values(state.entities);\r\n        allEntities.sort(sort);\r\n        var newSortedIds = allEntities.map(selectId);\r\n        var ids = state.ids;\r\n        if (!areArraysEqual(ids, newSortedIds)) {\r\n            state.ids = newSortedIds;\r\n        }\r\n    }\r\n    return {\r\n        removeOne: removeOne,\r\n        removeMany: removeMany,\r\n        removeAll: removeAll,\r\n        addOne: createStateOperator(addOneMutably),\r\n        updateOne: createStateOperator(updateOneMutably),\r\n        upsertOne: createStateOperator(upsertOneMutably),\r\n        setOne: createStateOperator(setOneMutably),\r\n        setMany: createStateOperator(setManyMutably),\r\n        setAll: createStateOperator(setAllMutably),\r\n        addMany: createStateOperator(addManyMutably),\r\n        updateMany: createStateOperator(updateManyMutably),\r\n        upsertMany: createStateOperator(upsertManyMutably)\r\n    };\r\n}\r\n// src/entities/create_adapter.ts\r\nfunction createEntityAdapter(options) {\r\n    if (options === void 0) { options = {}; }\r\n    var _b = __spreadValues({\r\n        sortComparer: false,\r\n        selectId: function (instance) { return instance.id; }\r\n    }, options), selectId = _b.selectId, sortComparer = _b.sortComparer;\r\n    var stateFactory = createInitialStateFactory();\r\n    var selectorsFactory = createSelectorsFactory();\r\n    var stateAdapter = sortComparer ? createSortedStateAdapter(selectId, sortComparer) : createUnsortedStateAdapter(selectId);\r\n    return __spreadValues(__spreadValues(__spreadValues({\r\n        selectId: selectId,\r\n        sortComparer: sortComparer\r\n    }, stateFactory), selectorsFactory), stateAdapter);\r\n}\r\n// src/nanoid.ts\r\nvar urlAlphabet = \"ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW\";\r\nvar nanoid = function (size) {\r\n    if (size === void 0) { size = 21; }\r\n    var id = \"\";\r\n    var i = size;\r\n    while (i--) {\r\n        id += urlAlphabet[Math.random() * 64 | 0];\r\n    }\r\n    return id;\r\n};\r\n// src/createAsyncThunk.ts\r\nvar commonProperties = [\r\n    \"name\",\r\n    \"message\",\r\n    \"stack\",\r\n    \"code\"\r\n];\r\nvar RejectWithValue = /** @class */ (function () {\r\n    function RejectWithValue(payload, meta) {\r\n        this.payload = payload;\r\n        this.meta = meta;\r\n    }\r\n    return RejectWithValue;\r\n}());\r\nvar FulfillWithMeta = /** @class */ (function () {\r\n    function FulfillWithMeta(payload, meta) {\r\n        this.payload = payload;\r\n        this.meta = meta;\r\n    }\r\n    return FulfillWithMeta;\r\n}());\r\nvar miniSerializeError = function (value) {\r\n    if (typeof value === \"object\" && value !== null) {\r\n        var simpleError = {};\r\n        for (var _i = 0, commonProperties_1 = commonProperties; _i < commonProperties_1.length; _i++) {\r\n            var property = commonProperties_1[_i];\r\n            if (typeof value[property] === \"string\") {\r\n                simpleError[property] = value[property];\r\n            }\r\n        }\r\n        return simpleError;\r\n    }\r\n    return { message: String(value) };\r\n};\r\nfunction createAsyncThunk(typePrefix, payloadCreator, options) {\r\n    var fulfilled = createAction(typePrefix + \"/fulfilled\", function (payload, requestId, arg, meta) { return ({\r\n        payload: payload,\r\n        meta: __spreadProps(__spreadValues({}, meta || {}), {\r\n            arg: arg,\r\n            requestId: requestId,\r\n            requestStatus: \"fulfilled\"\r\n        })\r\n    }); });\r\n    var pending = createAction(typePrefix + \"/pending\", function (requestId, arg, meta) { return ({\r\n        payload: void 0,\r\n        meta: __spreadProps(__spreadValues({}, meta || {}), {\r\n            arg: arg,\r\n            requestId: requestId,\r\n            requestStatus: \"pending\"\r\n        })\r\n    }); });\r\n    var rejected = createAction(typePrefix + \"/rejected\", function (error, requestId, arg, payload, meta) { return ({\r\n        payload: payload,\r\n        error: (options && options.serializeError || miniSerializeError)(error || \"Rejected\"),\r\n        meta: __spreadProps(__spreadValues({}, meta || {}), {\r\n            arg: arg,\r\n            requestId: requestId,\r\n            rejectedWithValue: !!payload,\r\n            requestStatus: \"rejected\",\r\n            aborted: (error == null ? void 0 : error.name) === \"AbortError\",\r\n            condition: (error == null ? void 0 : error.name) === \"ConditionError\"\r\n        })\r\n    }); });\r\n    var displayedWarning = false;\r\n    var AC = typeof AbortController !== \"undefined\" ? AbortController : /** @class */ (function () {\r\n        function class_1() {\r\n            this.signal = {\r\n                aborted: false,\r\n                addEventListener: function () {\r\n                },\r\n                dispatchEvent: function () {\r\n                    return false;\r\n                },\r\n                onabort: function () {\r\n                },\r\n                removeEventListener: function () {\r\n                }\r\n            };\r\n        }\r\n        class_1.prototype.abort = function () {\r\n            if (true) {\r\n                if (!displayedWarning) {\r\n                    displayedWarning = true;\r\n                    console.info(\"This platform does not implement AbortController. \\nIf you want to use the AbortController to react to `abort` events, please consider importing a polyfill like 'abortcontroller-polyfill/dist/abortcontroller-polyfill-only'.\");\r\n                }\r\n            }\r\n        };\r\n        return class_1;\r\n    }());\r\n    function actionCreator(arg) {\r\n        return function (dispatch, getState, extra) {\r\n            var _a;\r\n            var requestId = ((_a = options == null ? void 0 : options.idGenerator) != null ? _a : nanoid)();\r\n            var abortController = new AC();\r\n            var abortReason;\r\n            var abortedPromise = new Promise(function (_, reject) { return abortController.signal.addEventListener(\"abort\", function () { return reject({ name: \"AbortError\", message: abortReason || \"Aborted\" }); }); });\r\n            var started = false;\r\n            function abort(reason) {\r\n                if (started) {\r\n                    abortReason = reason;\r\n                    abortController.abort();\r\n                }\r\n            }\r\n            var promise = function () {\r\n                return __async(this, null, function () {\r\n                    var _a2, finalAction, err_1, skipDispatch;\r\n                    return __generator(this, function (_b) {\r\n                        switch (_b.label) {\r\n                            case 0:\r\n                                _b.trys.push([0, 2, , 3]);\r\n                                if (options && options.condition && options.condition(arg, { getState: getState, extra: extra }) === false) {\r\n                                    throw {\r\n                                        name: \"ConditionError\",\r\n                                        message: \"Aborted due to condition callback returning false.\"\r\n                                    };\r\n                                }\r\n                                started = true;\r\n                                dispatch(pending(requestId, arg, (_a2 = options == null ? void 0 : options.getPendingMeta) == null ? void 0 : _a2.call(options, { requestId: requestId, arg: arg }, { getState: getState, extra: extra })));\r\n                                return [4 /*yield*/, Promise.race([\r\n                                        abortedPromise,\r\n                                        Promise.resolve(payloadCreator(arg, {\r\n                                            dispatch: dispatch,\r\n                                            getState: getState,\r\n                                            extra: extra,\r\n                                            requestId: requestId,\r\n                                            signal: abortController.signal,\r\n                                            rejectWithValue: function (value, meta) {\r\n                                                return new RejectWithValue(value, meta);\r\n                                            },\r\n                                            fulfillWithValue: function (value, meta) {\r\n                                                return new FulfillWithMeta(value, meta);\r\n                                            }\r\n                                        })).then(function (result) {\r\n                                            if (result instanceof RejectWithValue) {\r\n                                                throw result;\r\n                                            }\r\n                                            if (result instanceof FulfillWithMeta) {\r\n                                                return fulfilled(result.payload, requestId, arg, result.meta);\r\n                                            }\r\n                                            return fulfilled(result, requestId, arg);\r\n                                        })\r\n                                    ])];\r\n                            case 1:\r\n                                finalAction = _b.sent();\r\n                                return [3 /*break*/, 3];\r\n                            case 2:\r\n                                err_1 = _b.sent();\r\n                                finalAction = err_1 instanceof RejectWithValue ? rejected(null, requestId, arg, err_1.payload, err_1.meta) : rejected(err_1, requestId, arg);\r\n                                return [3 /*break*/, 3];\r\n                            case 3:\r\n                                skipDispatch = options && !options.dispatchConditionRejection && rejected.match(finalAction) && finalAction.meta.condition;\r\n                                if (!skipDispatch) {\r\n                                    dispatch(finalAction);\r\n                                }\r\n                                return [2 /*return*/, finalAction];\r\n                        }\r\n                    });\r\n                });\r\n            }();\r\n            return Object.assign(promise, {\r\n                abort: abort,\r\n                requestId: requestId,\r\n                arg: arg,\r\n                unwrap: function () {\r\n                    return promise.then(unwrapResult);\r\n                }\r\n            });\r\n        };\r\n    }\r\n    return Object.assign(actionCreator, {\r\n        pending: pending,\r\n        rejected: rejected,\r\n        fulfilled: fulfilled,\r\n        typePrefix: typePrefix\r\n    });\r\n}\r\nfunction unwrapResult(action) {\r\n    if (action.meta && action.meta.rejectedWithValue) {\r\n        throw action.payload;\r\n    }\r\n    if (action.error) {\r\n        throw action.error;\r\n    }\r\n    return action.payload;\r\n}\r\n// src/tsHelpers.ts\r\nvar hasMatchFunction = function (v) {\r\n    return v && typeof v.match === \"function\";\r\n};\r\n// src/matchers.ts\r\nvar matches = function (matcher, action) {\r\n    if (hasMatchFunction(matcher)) {\r\n        return matcher.match(action);\r\n    }\r\n    else {\r\n        return matcher(action);\r\n    }\r\n};\r\nfunction isAnyOf() {\r\n    var matchers = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        matchers[_i] = arguments[_i];\r\n    }\r\n    return function (action) {\r\n        return matchers.some(function (matcher) { return matches(matcher, action); });\r\n    };\r\n}\r\nfunction isAllOf() {\r\n    var matchers = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        matchers[_i] = arguments[_i];\r\n    }\r\n    return function (action) {\r\n        return matchers.every(function (matcher) { return matches(matcher, action); });\r\n    };\r\n}\r\nfunction hasExpectedRequestMetadata(action, validStatus) {\r\n    if (!action || !action.meta)\r\n        return false;\r\n    var hasValidRequestId = typeof action.meta.requestId === \"string\";\r\n    var hasValidRequestStatus = validStatus.indexOf(action.meta.requestStatus) > -1;\r\n    return hasValidRequestId && hasValidRequestStatus;\r\n}\r\nfunction isAsyncThunkArray(a) {\r\n    return typeof a[0] === \"function\" && \"pending\" in a[0] && \"fulfilled\" in a[0] && \"rejected\" in a[0];\r\n}\r\nfunction isPending() {\r\n    var asyncThunks = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        asyncThunks[_i] = arguments[_i];\r\n    }\r\n    if (asyncThunks.length === 0) {\r\n        return function (action) { return hasExpectedRequestMetadata(action, [\"pending\"]); };\r\n    }\r\n    if (!isAsyncThunkArray(asyncThunks)) {\r\n        return isPending()(asyncThunks[0]);\r\n    }\r\n    return function (action) {\r\n        var matchers = asyncThunks.map(function (asyncThunk) { return asyncThunk.pending; });\r\n        var combinedMatcher = isAnyOf.apply(void 0, matchers);\r\n        return combinedMatcher(action);\r\n    };\r\n}\r\nfunction isRejected() {\r\n    var asyncThunks = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        asyncThunks[_i] = arguments[_i];\r\n    }\r\n    if (asyncThunks.length === 0) {\r\n        return function (action) { return hasExpectedRequestMetadata(action, [\"rejected\"]); };\r\n    }\r\n    if (!isAsyncThunkArray(asyncThunks)) {\r\n        return isRejected()(asyncThunks[0]);\r\n    }\r\n    return function (action) {\r\n        var matchers = asyncThunks.map(function (asyncThunk) { return asyncThunk.rejected; });\r\n        var combinedMatcher = isAnyOf.apply(void 0, matchers);\r\n        return combinedMatcher(action);\r\n    };\r\n}\r\nfunction isRejectedWithValue() {\r\n    var asyncThunks = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        asyncThunks[_i] = arguments[_i];\r\n    }\r\n    var hasFlag = function (action) {\r\n        return action && action.meta && action.meta.rejectedWithValue;\r\n    };\r\n    if (asyncThunks.length === 0) {\r\n        return function (action) {\r\n            var combinedMatcher = isAllOf(isRejected.apply(void 0, asyncThunks), hasFlag);\r\n            return combinedMatcher(action);\r\n        };\r\n    }\r\n    if (!isAsyncThunkArray(asyncThunks)) {\r\n        return isRejectedWithValue()(asyncThunks[0]);\r\n    }\r\n    return function (action) {\r\n        var combinedMatcher = isAllOf(isRejected.apply(void 0, asyncThunks), hasFlag);\r\n        return combinedMatcher(action);\r\n    };\r\n}\r\nfunction isFulfilled() {\r\n    var asyncThunks = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        asyncThunks[_i] = arguments[_i];\r\n    }\r\n    if (asyncThunks.length === 0) {\r\n        return function (action) { return hasExpectedRequestMetadata(action, [\"fulfilled\"]); };\r\n    }\r\n    if (!isAsyncThunkArray(asyncThunks)) {\r\n        return isFulfilled()(asyncThunks[0]);\r\n    }\r\n    return function (action) {\r\n        var matchers = asyncThunks.map(function (asyncThunk) { return asyncThunk.fulfilled; });\r\n        var combinedMatcher = isAnyOf.apply(void 0, matchers);\r\n        return combinedMatcher(action);\r\n    };\r\n}\r\nfunction isAsyncThunkAction() {\r\n    var asyncThunks = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        asyncThunks[_i] = arguments[_i];\r\n    }\r\n    if (asyncThunks.length === 0) {\r\n        return function (action) { return hasExpectedRequestMetadata(action, [\"pending\", \"fulfilled\", \"rejected\"]); };\r\n    }\r\n    if (!isAsyncThunkArray(asyncThunks)) {\r\n        return isAsyncThunkAction()(asyncThunks[0]);\r\n    }\r\n    return function (action) {\r\n        var matchers = [];\r\n        for (var _i = 0, asyncThunks_1 = asyncThunks; _i < asyncThunks_1.length; _i++) {\r\n            var asyncThunk = asyncThunks_1[_i];\r\n            matchers.push(asyncThunk.pending, asyncThunk.rejected, asyncThunk.fulfilled);\r\n        }\r\n        var combinedMatcher = isAnyOf.apply(void 0, matchers);\r\n        return combinedMatcher(action);\r\n    };\r\n}\r\n// src/index.ts\r\n(0, import_immer4.enableES5)();\r\n//# sourceMappingURL=module.js.map"]}